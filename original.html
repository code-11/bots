<!DOCTYPE html>
<!-- saved from url=(0067)https://codegolf.stackexchange.com/questions/170908/art-attack-koth -->
<html itemscope="" itemtype="http://schema.org/QAPage" class="html__responsive"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <title>king of the hill - Art Attack KoTH - Programming Puzzles &amp; Code Golf Stack Exchange</title>
        <link rel="shortcut icon" href="https://cdn.sstatic.net/Sites/codegolf/img/favicon.ico?v=38413b30209a">
        <link rel="apple-touch-icon image_src" href="https://cdn.sstatic.net/Sites/codegolf/img/apple-touch-icon.png?v=6f55f0b2476f">
        <link rel="search" type="application/opensearchdescription+xml" title="Programming Puzzles &amp; Code Golf Stack Exchange" href="https://codegolf.stackexchange.com/opensearch.xml">
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">


        <meta property="og:type" content="website">
        <meta property="og:url" content="https://codegolf.stackexchange.com/questions/170908/art-attack-koth">
        <meta property="og:site_name" content="Programming Puzzles &amp; Code Golf Stack Exchange">
        <meta property="og:image" itemprop="image primaryImageOfPage" content="https://cdn.sstatic.net/Sites/codegolf/img/apple-touch-icon@2.png?v=ee86e2cfbac3">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:domain" content="codegolf.stackexchange.com">
        <meta name="twitter:site" content="@StackCodeGolf">
        <meta name="twitter:creator" content="@StackCodeGolf">
        <meta name="twitter:title" property="og:title" itemprop="title name" content="Art Attack KoTH">
        <meta name="twitter:description" property="og:description" itemprop="description" content="Entries are now closed. Any new entries or edits will not be counted in the final run.
Join the chat!

Challenge

Try to fill the canvas with as much paint as possible. Be careful of other bots th...">
        <script src="./original_files/rules-p-c1rF4kxgLUzNc.js.download" async=""></script><script async="" src="./original_files/quant.js.download"></script><script async="" src="./original_files/beacon.js.download"></script><script async="" src="./original_files/analytics.js.download"></script><script src="./original_files/jquery.min.js.download"></script>
        <script src="./original_files/stub.en.js.download"></script>
    
    <link rel="stylesheet" type="text/css" href="./original_files/stacks.css">
    <link rel="stylesheet" type="text/css" href="./original_files/primary-unified.css">

    
            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Art Attack KoTH&#39;" href="https://codegolf.stackexchange.com/feeds/question/170908">
            <meta name="twitter:app:country" content="US">
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS">
            <meta name="twitter:app:id:iphone" content="871299723">
            <meta name="twitter:app:url:iphone" content="se-zaphod://codegolf.stackexchange.com/questions/170908/art-attack-koth">
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS">
            <meta name="twitter:app:id:ipad" content="871299723">
            <meta name="twitter:app:url:ipad" content="se-zaphod://codegolf.stackexchange.com/questions/170908/art-attack-koth">
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://codegolf.stackexchange.com/questions/170908/art-attack-koth">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>

            StackExchange.ready(function () {
                                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:16,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:170908});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('200', '170908');
                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text'); });

            });
        </script>

        
        
        
        
        
        
                    <script type="text/x-mathjax-config;executed=true">
                MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
                    tex2jax: { inlineMath: [ ["\\$", "\\$"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
                    TeX: { 
                        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
                    messageStyle: "none"
            });
            </script>
            <script src="./original_files/MathJax.js.download"></script>
        <script>
        StackExchange.ready(function () {
            StackExchange.realtime.init('wss://qa.sockets.stackexchange.com');
            StackExchange.realtime.subscribeToReputationNotifications('200');
                StackExchange.realtime.subscribeToTopBarNotifications('200');
        });
    </script>
    <script>
        StackExchange.init({"locale":"en","serverTime":1535676778,"routeName":"Questions/Show","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","site":{"name":"Programming Puzzles & Code Golf Stack Exchange","description":"Q&A for programming puzzle enthusiasts and code golfers","isNoticesTabEnabled":true,"enableNewTagCreationWarning":false,"insertSpaceAfterNameTabCompletion":false,"id":200,"childUrl":"https://codegolf.meta.stackexchange.com","enableSocialMediaInSharePopup":true,"protocol":"https"},"user":{"fkey":"350f16585a6ba32da86572f6cb639d466d0936ab422413e7287de1170651978a","tid":"8fca07a6-d6ce-6006-2786-60baa6be1667","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true,"ab":{"hero_signup_button":{"v":"team_create_cta_d","g":2}}},"realtime":{"newest":true,"active":true,"tagged":true,"staleDisconnectIntervalInHours":0,"workerIframeDomain":"https://cdn.sstatic.net"},"events":{"postType":{"question":1},"postEditionSection":{"title":1,"body":2,"tags":3}},"story":{"minCompleteBodyLength":75,"likedTagsMaxLength":300,"dislikedTagsMaxLength":300},"jobPreferences":{"maxNumDeveloperRoles":2,"maxNumIndustries":4}}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableImgurHttps":true,"forceHttpsImages":true},"userMessaging":{},"comments":{},"userProfile":{},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"paths":{},"markdown":{"asteriskIntraWordEmphasis":true},"monitoring":{"clientTimingsAbsoluteTimeout":30000,"clientTimingsDebounceTimeout":1000},"slack":{"sidebarAdDismissCookie":"slack-sidebar-ad"}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"5aa8053a40ea","js/moderator.en.js":"d3615efaba4a","js/full-anon.en.js":"5a89ad9f89d8","js/full.en.js":"7064165d2dbd","js/wmd.en.js":"92e323018828","js/mobile.en.js":"b2ba616274c8","js/help.en.js":"292011d3c2af","js/tageditor.en.js":"b79db31388d4","js/tageditornew.en.js":"7c091c081325","js/inline-tag-editing.en.js":"e7aa31e8eba1","js/revisions.en.js":"8f22ba768cac","js/review.en.js":"6006c23dcc78","js/tagsuggestions.en.js":"bb4721d888d2","js/post-validation.en.js":"51c4caa043e0","js/explore-qlist.en.js":"e2a8178eb759","js/events.en.js":"4b5edaabda01","js/keyboard-shortcuts.en.js":"49b31fd625c9","js/external-editor.en.js":"610f4791b791","js/adops.en.js":"22a9bd59b1e9","js/mathjax-editing.en.js":"df88d43c8e77","js/external-editor.en.js":"610f4791b791","js/snippet-javascript.en.js":"b0befc7f186b","js/snippet-javascript-codemirror.en.js":"0b1921932290"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    <noscript id="noscript-css"><style>body,.top-bar{margin-top:1.9em}</style></noscript>
    <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><script async="" src="./original_files/full-anon.en.js.download"></script><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script async="" src="./original_files/snippet-javascript.en.js.download"></script><script async="" src="./original_files/post-validation.en.js.download"></script><script async="" src="./original_files/prettify-full.en.js.download"></script><script async="" src="./original_files/external-editor.en.js.download"></script><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none; box-sizing: content-box}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?V=2.7.4') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?V=2.7.4') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?V=2.7.4') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
        <body class="question-page unified-theme new-topbar"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
    <div id="notify-container"></div>
    <div id="custom-header"></div>




<header class="top-bar js-top-bar _fixed top-bar__network">
    <div class="-container">
        <div class="-main">
                <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="left-sidebar-toggle p0 ai-center jc-center js-left-sidebar-toggle"><span class="ps-relative"></span></a>
                            <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-logo js-gps-track js-network-logo network-logo" data-gps-track="stack_exchange_popup.show">
                    <svg aria-hidden="true" class="svg-icon native iconLogoSEAlternativeSm" width="110" height="15" viewBox="0 0 110 15"><g><path d="M50.4 11.92l-1.98-3.23-1.05 1.17v2.06h-1.42V2.08h1.42v6.07l2.76-3.24h1.73L49.4 7.66l2.77 4.26h-1.76zm-7.86.08c-1.6 0-3.16-.97-3.16-3.6 0-2.62 1.56-3.57 3.16-3.57.97 0 1.66.28 2.33.98l-.98.94c-.45-.48-.8-.66-1.35-.66s-1.01.22-1.32.62c-.3.39-.42.88-.42 1.7 0 .81.11 1.32.42 1.71.3.4.77.62 1.32.62s.9-.18 1.35-.66l.98.93c-.67.7-1.36.99-2.33.99zm-5.7-3.18h-1.67c-.84 0-1.27.38-1.27 1.01 0 .64.4 1 1.3 1 .54 0 .95-.05 1.33-.4.2-.21.3-.54.3-1.04v-.57zm.02 3.1v-.64c-.51.51-1 .72-1.88.72-.89 0-1.47-.2-1.9-.64a2.13 2.13 0 0 1-.57-1.5c0-1.17.83-2.02 2.45-2.02h1.87v-.5c0-.88-.44-1.3-1.55-1.3-.78 0-1.16.17-1.55.67l-.94-.87c.67-.77 1.37-1 2.55-1 1.94 0 2.92.8 2.92 2.4v4.68h-1.4zm-6.44 0c-1.33 0-1.95-.94-1.95-1.95V6.12h-.8V5.04h.8V2.9h1.43v2.13h1.37v1.08H29.9V9.9c0 .51.25.82.78.82h.59v1.2h-.85zm-6.9.08c-1.5 0-2.57-.35-3.52-1.3l1-.98a3.3 3.3 0 0 0 2.55.94c1.3 0 2.06-.55 2.06-1.5 0-.43-.13-.8-.4-1.03-.25-.23-.5-.33-1.09-.41l-1.17-.17a3.43 3.43 0 0 1-1.89-.79 2.43 2.43 0 0 1-.72-1.87c0-1.72 1.25-2.89 3.32-2.89 1.32 0 2.24.33 3.1 1.12l-.97.94a2.94 2.94 0 0 0-2.17-.76c-1.17 0-1.82.66-1.82 1.53 0 .36.12.68.38.91.25.22.66.39 1.12.46l1.13.16c.93.14 1.44.36 1.86.74.55.47.81 1.17.81 2.01 0 1.81-1.5 2.89-3.58 2.89z" fill="#FFF"></path><path d="M107.4 6.88c-.2-.44-.61-.76-1.23-.76-.63 0-1.04.32-1.23.76-.12.27-.16.46-.17.79h2.8a2 2 0 0 0-.17-.8zm-2.63 2.04c0 .94.58 1.63 1.6 1.63.81 0 1.21-.23 1.68-.69l1.11 1.08a3.52 3.52 0 0 1-2.8 1.16c-1.74 0-3.4-.8-3.4-3.76 0-2.39 1.3-3.74 3.2-3.74 2.06 0 3.22 1.5 3.22 3.5v.82h-4.61zm-5.68-2.67c-1.1 0-1.2.92-1.2 1.9 0 .96.1 1.9 1.2 1.9 1.08 0 1.21-.94 1.21-1.9 0-.98-.13-1.9-1.21-1.9zm-.19 8.53c-1.13 0-1.9-.22-2.67-.96l1.14-1.15c.41.4.83.56 1.45.56 1.1 0 1.48-.77 1.48-1.51v-.75c-.48.53-1.03.73-1.75.73s-1.34-.24-1.76-.65c-.69-.68-.74-1.63-.74-2.9 0-1.29.05-2.21.74-2.9a2.5 2.5 0 0 1 1.77-.65c.78 0 1.29.21 1.8.77V4.7h1.78v7.05c0 1.76-1.26 3.04-3.24 3.04zm-5.58-2.77V7.58c0-1-.63-1.33-1.21-1.33s-1.23.33-1.23 1.33v4.43h-1.84V4.7h1.8v.67c.47-.5 1.15-.76 1.83-.76.74 0 1.33.24 1.74.65.6.59.75 1.28.75 2.08V12h-1.84zm-7.14-3.1h-1.46c-.66 0-1.03.32-1.03.84 0 .5.34.84 1.06.84.51 0 .84-.04 1.16-.35.2-.18.27-.48.27-.93v-.4zm.04 3.1v-.63c-.5.49-.96.7-1.8.7-.84 0-1.45-.21-1.89-.65-.4-.4-.6-1-.6-1.64 0-1.17.8-2.12 2.51-2.12h1.74V7.3c0-.8-.4-1.15-1.37-1.15-.7 0-1.03.17-1.42.6l-1.17-1.14c.72-.78 1.43-1 2.66-1 2.06 0 3.14.86 3.14 2.58V12h-1.8zm-7 0V7.54c0-.97-.62-1.3-1.2-1.3-.57 0-1.18.34-1.18 1.3v4.47H75V2h1.84v3.36c.5-.5 1.11-.76 1.76-.76 1.62 0 2.47 1.13 2.47 2.67v4.74h-1.84zm-7.7.09c-1.48 0-3.3-.8-3.3-3.76 0-2.97 1.82-3.74 3.3-3.74 1 0 1.77.31 2.42.99L72.7 6.82c-.38-.4-.7-.57-1.19-.57-.44 0-.78.15-1.05.47-.28.36-.4.85-.4 1.62 0 .77.12 1.28.4 1.63.27.33.61.48 1.05.48.48 0 .8-.17 1.19-.58l1.24 1.23c-.65.67-1.41 1-2.43 1zm-6.07-.1l-1.36-2.2-1.34 2.2h-2.2l2.54-3.74-2.45-3.58h2.2l1.25 2.1 1.26-2.1h2.2l-2.44 3.58L67.65 12h-2.2zm-12.46 0V2h6.63v1.74h-4.66V6.1h3.97v1.75h-3.97v2.43h4.66V12H53z" fill="#2F96E8"></path><path d="M2 1h8a2 2 0 0 1 2 2H0c0-1.1.9-2 2-2z" fill="#8FD8F7"></path><path d="M0 10h12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm7 2v3l3-3z" fill="#155397"></path><path fill="#46A2D9" d="M0 4h12v2H0z"></path><path fill="#2D6DB5" d="M0 7h12v2H0z"></path></g></svg>
                </a>
                <div class="topbar-dialog network-logo-dialog js-network-logo-dialog dno">
                    <div class="dialog-content">
                        <h4 class="bold">Stack Exchange Network</h4>
                        <p>
                            Stack Exchange network consists of 174 Q&amp;A communities including <a href="https://stackoverflow.com/">Stack Overflow</a>, the largest, most trusted online community for developers to learn, share their knowledge, and build their careers.
                        </p>
                        <a class="btn-secondary" href="https://stackexchange.com/" data-gps-track="stack_exchange_popup.click">Visit Stack Exchange</a>
                        <a class="icon-close js-close-button"><svg aria-hidden="true" class="svg-icon iconClear" width="18" height="18" viewBox="0 0 18 18"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9z"></path></svg></a>
                    </div>
                </div>



        </div>

            <form id="search" action="https://codegolf.stackexchange.com/search" method="get" class="searchbar js-searchbar " autocomplete="off" role="search">
                    <div class="ps-relative">
                        <input name="q" type="text" placeholder="Search on Programming Puzzles &amp; Code Golf…" value="" autocomplete="off" maxlength="240" class="f-input js-search-field ">
                        <button type="submit" aria-label="Search..." class="s-btn s-btn__primary btn-topbar-primary js-search-submit"><svg aria-hidden="true" class="svg-icon mx0 iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.86 11.32L18 16.5 16.5 18l-5.18-5.14v-.35a7 7 0 1 1 1.19-1.19h.35zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"></path></svg></button>
                    </div>
            </form>

        





<ol class="-secondary js-secondary-topbar-links drop-icons-responsively the-js-is-handling-responsiveness">
        <li class="-item searchbar-trigger js-searchbar-trigger"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link"><svg aria-hidden="true" class="svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M12.86 11.32L18 16.5 16.5 18l-5.18-5.14v-.35a7 7 0 1 1 1.19-1.19h.35zM7 12A5 5 0 1 0 7 2a5 5 0 0 0 0 10z"></path></svg></a></li>
            <li class="-item">
        <a href="https://stackexchange.com/users/?tab=inbox" class="-link js-inbox-button" title="Recent inbox messages">
            <svg aria-hidden="true" class="svg-icon iconInbox" width="20" height="18" viewBox="0 0 20 18"><path d="M15.19 1H4.63c-.85 0-1.6.54-1.85 1.35L0 10.79V15c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2v-4.21l-2.87-8.44A2 2 0 0 0 15.19 1zm-.28 10l-2 2h-6l-2-2H1.96L4.4 3.68A1 1 0 0 1 5.35 3h9.12a1 1 0 0 1 .95.68L17.86 11h-2.95z"></path></svg>
            <span class="indicator-badge js-unread-count _important" style="display: none;"></span>
        </a>
    </li>
    <li class="-item">
        <a href="https://stackexchange.com/users/?tab=reputation" class="-link js-achievements-button" title="Recent achievements: reputation, badges, and privileges earned" data-unread-class="_highlighted-positive">
            <svg aria-hidden="true" class="svg-icon iconAchievements" width="18" height="18" viewBox="0 0 18 18"><path d="M15 2V1H3v1H0v4c0 1.6 1.4 3 3 3v1c.4 1.5 3 2.6 5 3v2H5s-1 1.5-1 2h10c0-.4-1-2-1-2h-3v-2c2-.4 4.6-1.5 5-3V9c1.6-.2 3-1.4 3-3V2h-3zM3 7c-.5 0-1-.5-1-1V4h1v3zm8.4 2.5L9 8 6.6 9.4l1-2.7L5 5h3l1-2.7L10 5h2.8l-2.3 1.8 1 2.7h-.1zM16 6c0 .5-.5 1-1 1V4h1v2z"></path></svg>
            <span class="indicator-badge js-unread-count _positive" style="display: none;"></span>
        </a>
    </li>

    <li class="-item help-button-item" data-remove-order="1"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link js-help-button" title="Help Center and other resources">
        <svg aria-hidden="true" class="svg-icon iconHelp" width="18" height="18" viewBox="0 0 18 18"><path d="M9 1a8 8 0 1 0 0 16A8 8 0 0 0 9 1zm.81 12.13c-.02.71-.55 1.15-1.24 1.13-.66-.02-1.17-.49-1.15-1.2.02-.72.56-1.18 1.22-1.16.7.03 1.2.51 1.17 1.23zM11.77 8a5.8 5.8 0 0 1-1.02.91l-.53.37c-.26.2-.42.43-.5.69a4 4 0 0 0-.09.75c0 .05-.03.16-.18.16H7.88c-.16 0-.18-.1-.18-.15.03-.66.12-1.21.4-1.66a5.29 5.29 0 0 1 1.43-1.22c.16-.12.28-.25.38-.39a1.34 1.34 0 0 0 .02-1.71c-.24-.31-.51-.46-1.03-.46-.51 0-.8.26-1.02.6-.21.33-.18.73-.18 1.1H5.75c0-1.38.35-2.25 1.1-2.76.52-.35 1.17-.5 1.93-.5 1 0 1.79.18 2.49.71.64.5.98 1.18.98 2.12 0 .57-.2 1.05-.48 1.44z"></path></svg>
    </a></li>

    <li class="-item">
        <a href="https://stackexchange.com/" class="-link js-site-switcher-button js-gps-track" data-gps-track="site_switcher.show" title="A list of all 174 Stack Exchange sites">
            <svg aria-hidden="true" class="svg-icon iconStackExchange" width="18" height="18" viewBox="0 0 18 18"><path d="M1 13c0 1.1.9 2 2 2h8v3l3-3h1a2 2 0 0 0 2-2v-2H1v2zM15 1H3a2 2 0 0 0-2 2v2h16V3a2 2 0 0 0-2-2zM1 6h16v4H1V6z"></path></svg>
        </a>
    </li>

            <li class="-ctas">
                        <a href="https://codegolf.stackexchange.com/users/login?ssrc=head&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth" class="login-link s-btn btn-topbar-clear py8" rel="nofollow">Log In</a>
                        <a href="https://codegolf.stackexchange.com/users/signup?ssrc=head&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth" class="login-link s-btn s-btn__primary py8 btn-topbar-primary" rel="nofollow" data-ga="[&quot;sign up&quot;,&quot;Sign Up Navigation&quot;,&quot;Header&quot;,null,null]">Sign Up</a>

            </li>

    <li class="-dialog-container js-topbar-dialog-corral">


    <div class="topbar-dialog siteSwitcher-dialog dno">
        <div class="header">
            <h3><a href="https://codegolf.stackexchange.com/">current community</a>
            </h3>
        </div>
        <div class="modal-content current-site-container">
            <ul class="current-site">
                    <li class="grid">
                            <div class="fl1">
            <a href="https://codegolf.stackexchange.com/" class="current-site-link site-link js-gps-track grid gs8 gsx" data-id="200" data-gps-track="site_switcher.click({ item_type:3 })">
        <div class="favicon favicon-codegolf site-icon grid--cell" title="Programming Puzzles &amp; Code Golf"></div>
        <span class="grid--cell fl1">
            Programming Puzzles &amp; Code Golf
        </span>
    </a>

    </div>
    <div class="related-links">
            <a href="https://codegolf.stackexchange.com/help" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:14 })">help</a>
                    <a href="https://chat.stackexchange.com/?tab=site&amp;host=codegolf.stackexchange.com" class="js-gps-track" data-gps-track="site_switcher.click({ item_type:6 })">chat</a>
            </div>

                    </li>
                    <li class="related-site grid">
                            <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                            <a href="https://codegolf.meta.stackexchange.com/" class="site-link js-gps-track grid gs8 gsx" data-id="202" data-gps-track="site.switch({ target_site:202, item_type:3 }),site_switcher.click({ item_type:4 })">
        <div class="favicon favicon-codegolfmeta site-icon grid--cell" title="Programming Puzzles &amp; Code Golf Meta"></div>
        <span class="grid--cell fl1">
            Programming Puzzles &amp; Code Golf Meta
        </span>
    </a>

                    </li>
            </ul>
        </div>

        <div class="header" id="your-communities-header">
            <h3>
your communities            </h3>

        </div>
        <div class="modal-content" id="your-communities-section">

                <div class="call-to-login">
<a href="https://codegolf.stackexchange.com/users/signup?ssrc=site_switcher&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:10 })">Sign up</a> or <a href="https://codegolf.stackexchange.com/users/login?ssrc=site_switcher&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth" class="login-link js-gps-track" data-gps-track="site_switcher.click({ item_type:11 })">log in</a> to customize your list.
                </div>
        </div>

        <div class="header">
            <h3><a href="https://stackexchange.com/sites">more stack exchange communities</a>
            </h3>
            <a href="https://stackoverflow.blog/" class="fr">company blog</a>
        </div>
        <div class="modal-content">
                <div class="child-content"></div>
        </div>        
    </div>
            <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="https://codegolf.stackexchange.com/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="https://codegolf.stackexchange.com/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="https://codegolf.meta.stackexchange.com/" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.stackoverflowbusiness.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
                    <div class="topbar-dialog leftnav-dialog js-leftnav-dialog dno">
                <div class="left-sidebar js-unpinned-left-sidebar" data-can-be="left-sidebar" data-is-here-when="sm"></div>
            </div>
    </li>
</ol>

    </div>
</header>
    <div id="js-gdpr-consent-banner" class="p16 bg-black-700 ff-sans fc-white ps-fixed b0 l0 r0 z-banner" role="banner" aria-hidden="false">
        <div class="wmx12 mx-auto grid jc-space-between" role="alertdialog" aria-describedby="notice-message">
            <div class="grid--cell mr12" aria-label="notice-message">
                <p class="mb0 lh-lg">
                    This site uses cookies to deliver our services and to show you relevant ads and job listings. 
By using our site, you acknowledge that you have read and understand our <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/cookie-policy">Cookie Policy</a>, <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/privacy-policy">Privacy Policy</a>, and our <a class="s-link s-link__inherit td-underline fc-white" target="_blank" href="https://stackoverflow.com/legal/terms-of-service/public">Terms of Service</a>. 
Your use of Stack Overflow’s Products and Services, including the Stack Overflow Network, is subject to these policies and terms.
                </p>
            </div>
            <a class="grid--cell fc-white js-notice-close" aria-label="notice-dismiss">
                <svg aria-hidden="true" class="svg-icon m0 iconClear" width="18" height="18" viewBox="0 0 18 18"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9z"></path></svg>
            </a>
        </div>
    </div>

    <script>
        StackExchange.ready(function () { StackExchange.topbar.init({ observeSize: true }); });
        StackExchange.scrollPadding.setPaddingTop(50, 10);     </script>


<div id="announcement-banner" class="bg-black-700 fc-white ff-sans fs-body2 py2" data-campaign="2018-08-07.q&amp;a traffic" data-cookie="notice-CoC" data-expire-date="1536451200000">
    <div class="grid jc-space-between wmx12 mx-auto px16 py8">
        <div class="grid--cell mr12">
            Join us in building a kind, collaborative learning community via our updated
            <a class="s-link js-link js-gps-track fw-bold fc-blue-400" href="https://codegolf.stackexchange.com/conduct" data-ga="[&quot;q&amp;a traffic&quot;,&quot;Announcement Banner&quot;,&quot;/conduct&quot;,null,{&quot;dimension4&quot;:&quot;q&amp;a traffic&quot;}]" data-gps-track="announcement_banner.click({campaign: &#39;2018-08-07.q&amp;a traffic&#39;, location: 2, action: 2})">Code of Conduct</a>.
        </div>
        <a class="grid-cell fc-white js-dismiss js-gps-track" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" title="dismiss" data-gps-track="announcement_banner.click({campaign: &#39;2018-08-07.q&amp;a traffic&#39;, location: 2, action: 1})"><svg aria-hidden="true" class="svg-icon m0 iconClear" width="18" height="18" viewBox="0 0 18 18"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9z"></path></svg></a>
    </div>
</div>
<script>
    StackExchange.ready(function () {
        var $banner = $('#announcement-banner');

        function setCookie(value) {
            $.cookie($banner.data('cookie'), value, {
                expires: (new Date($banner.data('expire-date'))),
                path: '/'
            });
        }

        $banner.find('.js-link').click(function () {
            setCookie('2;' + Date.now());
        });

        $banner.find('.js-dismiss').click(function () {
            setCookie('4;' + Date.now());
            $banner.animate({ height: '0', opacity: 0 }, 'fast', 'linear', function () { $banner.remove(); });
            return false;
        });
    });
</script>
    
        <header class="site-header">
            <div class="site-header--container">
                <a class="site-header--link d-flex ai-center fs-headline1 fw-bold" href="https://codegolf.stackexchange.com/">
Programming Puzzles &amp; Code Golf                </a>

            </div>
        </header>






    <aside class="s-hero s-hero__dark js-dismissable-hero" role="region" aria-hidden="false">
        <div class="s-hero--container s-hero--circle grid fs-body2 wmx12 md:fd-column ai-center ps-relative sm:pt64" aria-labeledby="banner-title" aria-describedby="banner-message">
                <div class="js-dismiss">
                    <a class="ps-absolute t16 r16 p8 fc-white" title="Click to hide"><svg aria-hidden="true" class="svg-icon m0 iconClear" width="18" height="18" viewBox="0 0 18 18"><path d="M15 4.41L13.59 3 9 7.59 4.41 3 3 4.41 7.59 9 3 13.59 4.41 15 9 10.41 13.59 15 15 13.59 10.41 9z"></path></svg></a>
                </div>
            <div class="grid--cell4 mr32 md:mr0 md:mb32 md:ta-center">
                <div class="mb16 wmx4 mx-auto">
                    Programming Puzzles &amp; Code Golf Stack Exchange is a question and answer site for programming puzzle enthusiasts and code golfers. Join them; it only takes a minute:

                </div>
                <a href="https://codegolf.stackexchange.com/users/signup?ssrc=hero&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth" class="s-btn s-btn__filled s-btn__inverted d-inline-block">Sign up</a>
            </div>
            <div class="grid--cell fl1">
                <div class="mb16 ta-center fw-bold sm:mb0">Here's how it works:</div>
                <div class="grid grid__allcells4 ta-center sm:fd-column">
                    <div class="grid--cell">
                        <svg class="sm:d-none" width="49" height="72" viewBox="0 0 49 72">
                            <g fill="none" fill-rule="evenodd">
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M12.3004115,66 L10.9897119,62.8735157 C10.6872428,62.1675354 4.03292181,46.1316968 2.01646091,40.2821456 C1.00823045,37.35737 0.302469136,34.3317401 0,31.2052558 C0,24.7505786 2.62139918,18.5984644 7.15843621,14.0600195 C11.7962963,9.52157463 18.0473251,7.00021636 24.5,7.00021636 C37.936226,6.944219 48.8890725,17.7652019 49,31.2052558 C49,37.659933 46.4794239,43.8120472 41.8415638,48.3504921 C37.2037037,52.888937 30.9526749,55.4102952 24.5,55.4102952 C22.382716,55.4102952 20.1646091,55.1077323 18.1481481,54.5026063 L12.3004115,66 Z M24.399177,10.0258463 C18.7530864,10.0258463 13.308642,12.2446416 9.27572016,16.2788148 C5.24279835,20.2121337 3.02469136,25.5574133 3.02469136,31.2052558 C3.42798354,34.0291771 4.03292181,36.752244 4.94032922,39.3744566 C6.35185185,43.6103385 10.3847737,53.5949173 12.5020576,58.6376338 L16.6358025,50.468433 L18.0473251,51.1744133 C20.063786,51.981248 22.281893,52.3846653 24.5,52.3846653 C30.1460905,52.3846653 35.590535,50.16587 39.6234568,46.1316968 C43.6563786,42.1983779 45.8744856,36.8530983 45.8744856,31.2052558 C45.7736626,19.4052991 36.1954733,9.92499196 24.399177,10.0258463 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M27.5439494,36.1794872 C28.2513593,35.4615385 28.7566521,34.5384615 29.0598277,33.6153846 C29.6527244,31.7220962 29.7226323,29.7000378 29.2619448,27.7692308 C29.0598277,26.9487179 28.6555935,26.1282051 28.1503008,25.4102564 C27.645008,24.6923077 26.9375981,24.0769231 26.2301883,23.6666667 C24.4339194,22.8295749 22.3671782,22.8295749 20.5709093,23.6666667 C19.7624409,24.0769231 19.1560896,24.6923077 18.6507968,25.4102564 C18.1455041,26.1282051 17.7412698,26.9487179 17.5391527,27.7692308 C17.1389975,29.5238152 17.1389975,31.3479797 17.5391527,33.1025641 C17.7412698,33.9230769 18.1455041,34.7435897 18.6507968,35.4615385 C19.1560896,36.1794872 19.8634995,36.7948718 20.5709093,37.2051282 C21.4804363,37.6153846 22.3899633,37.8205128 23.4005488,37.8205128 C24.2090172,37.8205128 25.0174856,37.6153846 25.8259541,37.3076923 L23.9058416,35.6666667 L25.1185442,34.2307692 L27.5439494,36.1794872 Z M27.7460666,38.7435897 C26.4323054,39.4615385 25.0174856,39.7692308 23.5016073,39.7692308 C22.1878462,39.7692308 20.9751435,39.5641026 19.7624409,39.0512821 C18.7518554,38.5384615 17.8423284,37.8205128 17.1349185,37 C15.6476822,35.1560186 14.8910258,32.8156639 15.0126889,30.4358974 C15.0126889,29.2051282 15.214806,27.974359 15.5179817,26.8461538 C15.8211573,25.7179487 16.4275087,24.7948718 17.1349185,23.8717949 C17.8423284,22.9487179 18.7518554,22.3333333 19.7624409,21.8205128 C20.9751435,21.3076923 22.1878462,21 23.5016073,21 C24.8153685,21 26.0280712,21.3076923 27.2407738,21.8205128 C28.2513593,22.3333333 29.1608863,23.0512821 29.8682962,23.8717949 C31.3841744,25.7179487 32.0915843,28.0769231 31.9905258,30.4358974 C31.9905258,31.7692308 31.7884087,33.1025641 31.2831159,34.3333333 C30.8788817,35.5641026 30.1714718,36.6923077 29.2619448,37.6153846 L31.5862916,39.4615385 L30.3735889,41 L27.7460666,38.7435897 Z"></path>
                            </g>
                        </svg>
                        <div>Anybody can ask a question</div>
                    </div>
                    <div class="grid--cell">
                        <svg class="sm:d-none" width="50" height="72" viewBox="0 0 50 72">
                            <g fill="none" fill-rule="evenodd">
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M40.6128764,30.1613416 C39.5925368,30.4633412 38.4701634,30.6646742 37.3477899,30.6646742 C34.0284004,30.6382717 30.8571885,29.3049419 28.5388649,26.960979 C26.2205413,24.6170161 24.9471558,21.4565938 25.0016816,18.1820252 C25.1037156,11.3367016 30.715583,5.90070932 37.6538917,6.00137584 C44.4901666,6.10204237 50,11.5380347 50,18.2826918 C49.7959321,19.8933562 49.4898302,21.403354 48.9796605,22.9133519 C47.9593209,25.9333476 44.4901666,34.087336 44.3881326,34.3893356 L43.6738949,36 L40.6128764,30.1613416 Z M26.328123,18.3833583 C26.430157,24.3226832 31.3277867,29.1546764 37.3477899,29.1546764 C38.4701634,29.1546764 39.5925368,28.9533433 40.6128764,28.5506772 L41.327114,28.2486777 L43.469827,32.3760051 C44.5922005,29.7586755 46.6328796,24.7253493 47.3471172,22.6113523 C47.857287,21.3026875 48.1633889,19.8933562 48.3674568,18.4840248 C48.2654228,12.5446999 43.3677931,7.71270675 37.3477899,7.71270675 C34.4791678,7.65880322 31.7063844,8.73165221 29.6396832,10.6951374 C27.572982,12.6586227 26.3817375,15.3518286 26.328123,18.1820252 L26.328123,18.3833583 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M38.6128764,13 L43.2044042,24.3785311 L41.469827,24.3785311 L40.2454196,20.9849341 L35.3477899,20.9849341 L34.0213485,24.3785311 L32.4908392,24.3785311 L36.9803331,13 L38.6128764,13 Z M39.7352498,19.6873823 L37.7966047,14.3973635 L35.8579597,19.6873823 L39.7352498,19.6873823 Z M38.6128764,60.2109228 C37.5925368,60.5103578 36.4701634,60.7099812 35.3477899,60.7099812 C32.0284004,60.6838029 28.8571885,59.3617955 26.5388649,57.0377373 C24.2205413,54.7136791 22.9471558,51.5800947 23.0016816,48.3333333 C23.1037156,41.5461394 28.715583,36.1563089 35.6538917,36.2561205 C42.4901666,36.3559322 48,41.7457627 48,48.433145 C47.7959321,50.0301318 47.4898302,51.527307 46.9796605,53.0244821 C45.9593209,56.0188324 42.4901666,64.1035782 42.3881326,64.4030132 L41.6738949,66 L38.6128764,60.2109228 Z M24.2260891,48.433145 C24.328123,54.3220339 29.2257527,59.1129944 35.2457559,59.1129944 C36.3681294,59.1129944 37.4905029,58.913371 38.5108424,58.5141243 L39.2250801,58.2146893 L41.3677931,62.306968 C42.4901666,59.7118644 44.5308456,54.7212806 45.2450833,52.6252354 C45.755253,51.3276836 46.0613549,49.9303202 46.2654228,48.5329567 C46.1633889,42.6440678 41.2657591,37.8531073 35.2457559,37.8531073 C29.2257527,37.7532957 24.328123,42.4444444 24.2260891,48.3333333 L24.2260891,48.433145 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M36.2857143 43L41 54 39.2190476 54 37.9619048 50.7192982 32.9333333 50.7192982 31.5714286 54 30 54 34.6095238 43 36.2857143 43zM37.3333333 49.4649123L35.3428571 44.3508772 33.352381 49.4649123 37.3333333 49.4649123zM15.6128764 41.1613416C14.5925368 41.4633412 13.4701634 41.6646742 12.3477899 41.6646742 9.02840044 41.6382717 5.85718848 40.3049419 3.53886491 37.960979 1.22054134 35.6170161-.0528442254 32.4565938.00168163683 29.1820252.103715589 22.3367016 5.71558298 16.9007093 12.6538917 17.0013758 19.4901666 17.1020424 25 22.5380347 25 29.2826918 24.7959321 30.8933562 24.4898302 32.403354 23.9796605 33.9133519 22.9593209 36.9333476 19.4901666 45.087336 19.3881326 45.3893356L18.6738949 47 15.6128764 41.1613416zM1.32812302 29.2826918C1.43015697 35.2220167 6.32778669 40.0540098 12.3477899 40.0540098 13.4701634 40.0540098 14.5925368 39.8526768 15.6128764 39.4500107L16.327114 39.1480111 18.469827 43.2753386C19.5922005 40.658009 21.6328796 35.6246828 22.3471172 33.5106858 22.857287 32.202021 23.1633889 30.7926896 23.3674568 29.3833583 23.3674568 23.3433669 18.469827 18.5113737 12.3477899 18.5113737 6.22575274 18.5113737 1.32812302 23.2427003 1.32812302 29.2826918z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M13.3301887,24 L18,35 L16.2358491,35 L14.990566,31.7192982 L10.009434,31.7192982 L8.66037736,35 L7,35 L11.5660377,24 L13.3301887,24 Z M14.4716981,30.4649123 L12.5,25.3508772 L10.5283019,30.4649123 L14.4716981,30.4649123 Z"></path>
                            </g>
                        </svg>
                        <div>Anybody can answer</div>
                    </div>
                    <div class="grid--cell">
                        <svg class="sm:d-none" width="68" height="72" viewBox="0 0 68 72">
                            <g fill="none" fill-rule="evenodd">
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M60.8750018,54.5578408 C60.0833353,54.8539848 59.1927106,54.9526994 58.4010441,54.9526994 C53.1675688,54.8983153 48.9639814,50.6317155 49.0002327,45.4109683 C49.036484,40.1902212 53.2989171,35.9821177 58.5326454,36.0000571 C63.7663738,36.0179966 67.999716,40.2552208 68,45.4760932 C67.9010417,46.660669 67.6041668,47.8452448 67.2083335,49.0298206 C66.4166671,51.3002575 63.8437511,57.6179949 63.7447927,57.8154242 L63.2500012,59 L60.8750018,54.5578408 Z M49.9895879,45.4760932 C49.9895879,50.1156817 53.7500036,53.7681237 58.4010441,53.7681237 C59.2916689,53.7681237 60.0833353,53.669409 60.8750018,53.2745504 L61.3697933,52.9784065 L62.9531263,56.1372752 C63.7447927,54.1629823 65.3281257,50.2143963 65.9218755,48.634962 C66.3177088,47.6478155 66.5156254,46.5619544 66.713542,45.4760932 C66.713542,40.8365048 62.9531263,37.1840628 58.3020858,37.1840628 C53.7500036,37.1840628 49.9895879,40.8365048 49.9895879,45.4760932 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M59.4255118,41 L63,49.8429487 L61.672333,49.8429487 L60.6510506,47.1602564 L56.7701778,47.1602564 L55.7488955,49.8429487 L54.5233567,49.8429487 L58.0978448,41 L59.4255118,41 Z M60.2425377,46.1666667 L58.7106142,41.9935897 L57.1786907,46.1666667 L60.2425377,46.1666667 Z M50.2339709,69.4166667 C48.0885365,69.9899443 45.7960837,69.3007049 44.3571673,67.6497711 C42.9182509,65.9988374 42.5940569,63.6858797 43.5260817,61.7204024 C44.4581065,59.7549252 46.477173,58.4936935 48.7020474,58.4871795 C51.8680226,58.4871795 54.4212284,60.9711538 54.4212284,64.0512821 C54.3191002,64.7467949 54.1148437,65.4423077 53.9105873,66.1378205 C53.3999461,67.4294872 51.8680226,71.1057692 51.7658944,71.3044872 L51.4595097,72 L50.2339709,69.4166667 Z M43.7998922,64.150641 C43.7998922,66.8333333 46.0467133,68.9198718 48.7020474,68.9198718 L48.8041756,68.9198718 C49.3148168,68.9198718 49.8254579,68.8205128 50.3360991,68.6217949 L50.6424838,68.4230769 L51.5616379,70.3108974 C52.0722791,69.1185897 52.9914332,66.8333333 53.2978179,65.9391026 C53.5020743,65.3429487 53.7063308,64.6474359 53.7063308,64.0512821 C53.7063308,61.3685897 51.4595097,59.2820513 48.8041756,59.2820513 L48.7020474,59.2820513 C45.9445851,59.2820513 43.7998922,61.4679487 43.7998922,64.150641 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M48.9766542,61.9017967 L51,67 L50.1906617,67 L49.5836579,65.4313221 L47.3579775,65.4313221 L46.7509738,67 L46.0428027,67 L48.0661486,61.9017967 L48.9766542,61.9017967 Z M49.4824906,64.9411102 L48.571985,62.5880933 L47.6614794,64.9411102 L49.4824906,64.9411102 Z M34.6108988,61.6076696 C34.0038951,61.8037544 33.295724,61.9017967 32.587553,61.9017967 C28.3548103,61.8478184 24.9632891,58.4882713 25.0003001,54.386074 C25.0373111,50.2838767 28.4889304,46.9823148 32.7219999,47.0000713 C36.9550694,47.0178278 40.377068,50.3482225 40.3774344,54.4505766 C40.2762671,55.4310003 40.0739325,56.411424 39.7704307,57.2938053 C39.1634269,59.058568 37.0389138,64.0587289 36.9377465,64.2548136 L36.5330773,65.2352373 L34.6108988,61.6076696 Z M25.8093445,54.3525342 C25.8093445,57.9801019 28.8443632,60.921373 32.587553,60.921373 C33.295724,61.0194154 34.0038951,60.8233307 34.6108988,60.5292036 L35.015568,60.3331188 L36.3307428,62.8822204 C37.0389138,61.3135425 38.2529213,58.274229 38.7587578,56.9016359 C39.0622596,56.1172969 39.2645942,55.2349156 39.3657615,54.3525342 C39.3657615,50.7249665 36.3307428,47.7836954 32.587553,47.7836954 C28.8443632,47.8817378 25.9105118,50.7249665 25.8093445,54.3525342 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M33.2155711,50.9217322 L36,58 L35.0055611,58 L34.21001,55.9064278 L31.2266932,55.9064278 L30.4311421,58 L29.4367032,58 L32.2211321,50.9217322 L33.2155711,50.9217322 Z M33.8122344,55.1088765 L32.6189077,51.8189774 L31.425581,55.1088765 L33.8122344,55.1088765 Z M15.5145585,49.2269357 C14.4206757,49.6257113 13.3267929,49.7254052 12.2329101,49.7254052 C5.47072551,49.6257113 -0.0981323823,44.0428522 0.00131150853,37.2636661 C0.100755399,30.48448 5.66961329,24.9016209 12.4317979,25.0013148 C19.1939824,25.1010087 24.6633964,30.5841739 24.6633964,37.36336 C24.4645087,38.9584626 24.166177,40.5535652 23.5695136,42.0489739 C22.5750747,45.0397913 19.1939824,53.2146922 18.9950947,53.6134678 L18.2989874,55.2085704 L15.5145585,49.2269357 Z M1.39352598,37.36336 C1.39352598,43.3449948 6.26627663,48.1303026 12.2329101,48.1303026 L12.332354,48.1303026 C13.4262368,48.1303026 14.6195635,47.9309148 15.6140024,47.5321391 L16.3101096,47.1333635 L18.3984313,51.3205078 C19.4923141,48.7284661 21.5806358,43.6440765 22.2767431,41.4508104 C22.7739625,40.0550957 23.0722942,38.6593809 23.271182,37.2636661 C23.271182,31.2820313 18.3984313,26.4967235 12.4317979,26.4967235 L12.332354,26.4967235 C6.36572052,26.4967235 1.49296987,31.3817252 1.39352598,37.36336 Z"></path>
                                <path fill="#FFFFFF" fill-rule="nonzero" d="M13.4166667 32L18 44 16.2685185 44 14.9444444 40.3793103 9.9537037 40.3793103 8.62962963 44 7 44 11.5833333 32 13.4166667 32zM14.4351852 38.9310345L12.5 33.3448276 10.462963 38.9310345 14.4351852 38.9310345zM39.6505583 39.4778919C37.9338445 39.973835 36.1161474 40.2714009 34.2984504 40.2714009 22.9883355 40.1722123 13.8998503 31.0468586 14.0008334 19.9377325 14.1018166 8.82860636 23.3922681-.0983699988 34.7023831.000818627504 45.9115148.100007254 55 9.12617224 55 20.1361098 54.6970505 22.715014 54.1921346 25.1947297 53.2832861 27.6744454 51.6675554 32.534688 46.012498 45.825964 45.7095485 46.4210957L44.5987336 49 39.6505583 39.4778919zM36.0151643 10.9115675L33.0866524 10.9115675 25.714881 29.6582179 28.3404434 29.6582179 30.46109 24.0044662 38.5397435 24.0044662 40.66039 29.6582179 43.4879187 29.6582179 36.0151643 10.9115675zM37.7318781 21.921505L31.2689553 21.921505 34.5004167 13.1929059 34.6013999 13.1929059 37.7318781 21.921505z"></path>
                            </g>
                        </svg>
                        <div>The best answers are voted up and rise to the top</div>
                    </div>
                </div>
            </div>
        </div>
    </aside>
<script>
    StackExchange.ready(function () {
        StackExchange.Hero.init("nso", "a");

        var location = 0;
        if ($("body").hasClass("questions-page")) {
            location = 1;
        } else if ($("body").hasClass("question-page")) {
            location = 1;
        } else if ($("body").hasClass("faq-page")) {
            location = 5;
        } else if ($("body").hasClass("home-page")) {
            location = 3;
        }

        $('.js-cta-button').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: 'cta', location: location }, true);
            });
        });

        // TODO: we should review the class names and whatnot in use here. Older heroes use id selectors, the newer
        // sticky question hero on SO has a .js-dismiss class instead, but it's apparently not used anywhere... 
        // It's not great. Ideally we'd have a set of classes in the partials above that would correspond to 
        // the behaviours we want here in a more clear way. 

        // sticky question-page hero at the bottom of the page on SO
        $('.js-dismiss').on('click', function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "close", location: location }, true);
            });
            StackExchange.Hero.dismiss();
            $(".js-dismissable-hero").fadeOut("fast");
        });
    });
</script>
    <div class="container  ">
                



<div id="left-sidebar" data-is-here-when="md lg" class="left-sidebar js-pinned-left-sidebar">
    <div class="left-sidebar--sticky-container js-sticky-leftnav">
        <nav role="navigation">
            <ol class="nav-links">
                <li>    </li><li>
        <a href="https://codegolf.stackexchange.com/" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:8})">
Home        </a>
    </li>

                <li>
                    <ol class="nav-links">
                            <li class=" youarehere">
        <a id="nav-questions" href="https://codegolf.stackexchange.com/questions" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:true, location:2, destination:1})">
Questions        </a>
    </li>

    <li>
        <a id="nav-tags" href="https://codegolf.stackexchange.com/tags" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:2})">
Tags        </a>
    </li>
    <li>
        <a id="nav-users" href="https://codegolf.stackexchange.com/users" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:3})">
Users        </a>
    </li>
    <li>
        <a id="nav-unanswered" href="https://codegolf.stackexchange.com/unanswered" class="pl8 js-gps-track nav-links--link" data-gps-track="top_nav.click({is_current:false, location:2, destination:5})">
Unanswered        </a>
    </li>
                                            </ol>
                </li>
            </ol>
        </nav>
    </div>
</div>
        <div id="content" class="snippet-hidden">


            


<div itemscope="" itemtype="http://schema.org/Question">
    <link itemprop="image" href="https://cdn.sstatic.net/Sites/codegolf/img/apple-touch-icon.png?v=6f55f0b2476f">

    <div class="inner-content clearfix">
    
    

            <div id="question-header" class="grid">
                    <h1 itemprop="name" class="grid--cell fs-headline1 fl1"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth" class="question-hyperlink">Art Attack KoTH</a></h1>

            



<div class="pl8 aside-cta grid--cell" role="navigation" aria-label="ask new question">
            <a href="https://codegolf.stackexchange.com/questions/ask" class="d-inline-flex ai-center ws-nowrap s-btn s-btn__primary">Ask Question</a>
</div>

        </div>
            <div id="mainbar" role="main" aria-label="question and answers">

            

<div class="question" data-questionid="170908" id="question">

    
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170908">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">66</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#">favorite</a>
        <div class="favoritecount"><b>20</b></div>



</div>

            </div>

            
<div class="postcell post-layout--right">
    <div class="post-text" itemprop="text">



<blockquote>
  <p><strong>Entries are now closed. Any new entries or edits will not be counted in the final run.</strong></p>
</blockquote>

<h2><a href="https://chat.stackexchange.com/rooms/81666/art-attack-discussion">Join the chat!</a></h2>

<h2>Challenge</h2>

<p>Try to fill the canvas with as much paint as possible. Be careful of other bots that may paint over your hard work though!</p>

<p><strong><em>Note:</em></strong> In this challenge description, <em>paint</em> means to change the colour of the square on the grid and <em>unpainted</em> means that the square on the grid has the colour 0 and is not attributed to any of the bots.</p>

<h2>Input</h2>

<p>Your function will be given four arguments: yourself, the grid, the position of all bots on the grid and game information.</p>

<h3>Myself</h3>

<p>This is a 1D array which denotes your colour and position on the grid: <code>[id, xpos, ypos]</code>. </p>

<p><strong>The top left corner of the grid is the position <code>(0, 0)</code>. The position <code>(1,0)</code> is to the right of that and the position <code>(0,1)</code> is below</strong></p>

<p>Your id is an integer which is synonymous with your colour (see below to find out how your id affects how you paint the grid). Your ID is unique to your bot.</p>

<h3>Grid</h3>

<p>This is a 2D array which contains integers which tell you what colour each cell is. If the number of a grid cell is <code>0</code>, that means that the cell is unpainted. If the number of grid cell is an integer <code>x</code>, this means that the cell has been painted by the bot with the ID <code>x</code>.</p>

<p>To get the colour of the grid at position <code>(x, y)</code>, use the array like so: <code>grid[x][y]</code>.</p>

<h3>Bots</h3>

<p>This is an array which contains information about the position of the bots. Each element of the bots array is an array which describes each bot and looks like: <code>[id, xpos, ypos]</code>, where <code>id</code> is the ID of the bot, <code>xpos</code> is the x position of the bot and <code>ypos</code> is the y position of the bot.</p>

<p>This array includes your own bot's position and id. Eliminated bots will not be included in this array.</p>

<h3>Game Information</h3>

<p>This is an array containing information about the current game and looks like: <code>[roundNum, maxRounds]</code> where <code>roundNum</code> is the number of the current round (1-indexed) and <code>maxRounds</code> is the number of rounds in the current game.</p>

<h2>Output</h2>

<p>The output should be a string returned by your function. This is the movement command.</p>

<p>The movement command determines your next move. The available commands are:</p>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="pln">up
down
left
right
wait</span></code></pre>

<p>Whenever you move, you paint the square you move to. (see below for more information)</p>

<p>Where <code>wait</code> means you do not move. (but you paint the square that you stay on)</p>

<p>If you try to move outside of the grid, your command will be ignored and you will stay in the same place.</p>

<h2>Painting the grid</h2>

<p>Whenever you move to a square, you paint it, but there are rules which determine what the colour of that square will be.</p>

<p>If the square is unpainted (0), then you simply paint it the same colour as your own ID. However, if the square has been painted previously (non-zero) then the resulting colour of the square will be found according to the following JavaScript code:</p>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="pun">[</span><span class="pln">botColour</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> floorColour</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">botColour </span><span class="pun">-</span><span class="pln"> floorColour</span><span class="pun">)%</span><span class="lit">3</span><span class="pun">]</span></code></pre>

<p>This formula is made so as to allow a bot to move over its own colour without repainting it.</p>

<h2>Elimination</h2>

<p>If, after round 5, you have one or fewer squares painted (the number of squares on the grid which are the same colour as you) then you will be eliminated. This means that you will no longer be in the game and will automatically lose.</p>

<h2>Rules</h2>

<ul>
<li>Your code must a function of the type</li>
</ul>

<pre><code>function(myself, grid, bots, gameInfo) {
    // Code here
    return move;
}</code>
</pre>

<ul>
<li>The grid will be a square of side length <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;Number of competing bots&lt;/mtext&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 15.836em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.169em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.281em, 1013.11em, 2.558em, -999.997em); top: -2.164em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mtext" id="MathJax-Span-3" style="font-family: MathJax_Main;">Number of competing bots</span><span class="mo" id="MathJax-Span-4" style="font-family: MathJax_Main; padding-left: 0.225em;">×</span><span class="mn" id="MathJax-Span-5" style="font-family: MathJax_Main; padding-left: 0.225em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.169em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.33em; border-left: 0px solid; width: 0px; height: 1.203em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>Number of competing bots</mtext><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">\text{Number of competing bots} \times 3</script></li>
<li>To prevent specific bots from being targeting, the bots' IDs will be randomised.</li>
<li>When two bots occupy the same space, the colour of that space will be made unpainted.</li>
<li>Movement is turn-based i.e. during a round, all bots are supplied with identical <code>grid</code>, <code>bots</code> and <code>gameInfo</code> arguments</li>
</ul>

<p><br></p>

<ul>
<li>You may create a maximum of three bots</li>
<li>Bots may work together but must not communicate with each other and will not know each others IDs. The wins will be awarded individually rather than as a team.</li>
<li>You must not create a bot which intentionally targets a single, pre-chosen bot. You may, however, target the tactics of a general class of bots.</li>
<li>Your bot may store data in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="nofollow noreferrer"><code>window.localStorage</code></a>. Each bot must use their own data object. If a bot is found to be reading another bot's data (accidentally or on purpose) it will be disqualified until the issue is resolved.</li>
<li><a href="https://chat.stackexchange.com/transcript/message/46389729#46389729">If your bot uses random numbers, please use <code>Math.random()</code></a></li>
</ul>

<h2>Controller</h2>

<p>The controller can be found here:</p>

<p><a href="https://gist.github.com/beta-decay/10f026b15c3babd63c004db1f937eb14" rel="nofollow noreferrer">https://gist.github.com/beta-decay/10f026b15c3babd63c004db1f937eb14</a></p>

<p>Or you can run it here: <a href="https://beta-decay.github.io/art_attack" rel="nofollow noreferrer">https://beta-decay.github.io/art_attack</a></p>

<p><strong><em>Note:</em></strong> I would advise that you do any testing offline (download the controller from the gist) as the webpage is subject to change at any moment.</p>

<p>When all of the bots have been added, I will run the 10,000 games with the stripped down controller with no graphical interface. You can run it here: <a href="https://beta-decay.github.io/art_attack/fast" rel="nofollow noreferrer">https://beta-decay.github.io/art_attack/fast</a></p>

<h2>Winning</h2>

<p>The player who has filled the most of the canvas wins the game (a game is 2000 rounds). In the event of a draw, all drawn players win.</p>

<p>The player which wins the most out of 10,000 games wins the challenge.</p>

<p>The 10,000 games is estimated to be run next Monday (2018-08-27 at 23:00 UTC+1).</p>
    </div>
    <div class="post-taglist">
        <a href="https://codegolf.stackexchange.com/questions/tagged/king-of-the-hill" class="post-tag js-gps-track" title="show questions tagged &#39;king-of-the-hill&#39;" rel="tag">king-of-the-hill</a> <a href="https://codegolf.stackexchange.com/questions/tagged/javascript" class="post-tag js-gps-track" title="show questions tagged &#39;javascript&#39;" rel="tag">javascript</a> 
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/q/170908" title="short permalink to this question" class="short-link" id="link-post-170908">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170908/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </div>

    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170908/revisions" title="show all edits to this post">edited <span title="2018-08-27 23:22:14Z" class="relativetime">Aug 27 at 23:22</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
    <div class="post-signature owner grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        asked <span title="2018-08-20 08:40:26Z" class="relativetime">Aug 20 at 8:40</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/30525/beta-decay"><div class="gravatar-wrapper-32"><img src="./original_files/uYB6v.png" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/30525/beta-decay">Beta Decay</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 12,565" dir="ltr">12.6k</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="58 silver badges"><span class="badge2"></span><span class="badgecount">58</span></span><span title="147 bronze badges"><span class="badge3"></span><span class="badgecount">147</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>

                
    <div class="post-layout--right">
	    <div id="comments-170908" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="11" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412578" class="comment js-comment " data-comment-id="412578">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">7</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Could you translate <code>[botColour, 0, floorColour][Math.abs(botColour - floorColour)%3]</code> into English, please?</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/31541/nic-hartley" title="454 reputation" class="comment-user">Nic Hartley</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412578_170908"><span title="2018-08-21 00:04:09Z" class="relativetime-clean">Aug 21 at 0:04</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412582" class="comment js-comment " data-comment-id="412582">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">7</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@NicHartley Bots that have ids that are a multiple of 3 apart can cover each other's paint directly.  Bots that are 1 more than a multiple of 3 apart can erase each other's paint, but it takes another round to repaint.  Bots that are 2 more than a multiple of 3 apart can't affect each other's paint at all.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/48543/mnemonic" title="4,037 reputation" class="comment-user">Mnemonic</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412582_170908"><span title="2018-08-21 01:02:34Z" class="relativetime-clean">Aug 21 at 1:02</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412599" class="comment js-comment " data-comment-id="412599">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@kenorb If your code errors, the game will stop and I will tell you to fix the error</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412599_170908"><span title="2018-08-21 09:43:53Z" class="relativetime-clean">Aug 21 at 9:43</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412634" class="comment js-comment " data-comment-id="412634">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">3</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@RushabhMehta I'd assume it's much more to do with the <code>[botColour, 0, floorColour][Math.abs(botColour - floorColour)%3]</code> formula, whether or not does a bot get lucky &amp; get to paint over big competitors (or gets painted over). Also take in account the trolls/hunters which can single-handedly destroy a bot of their choosing. Either way, it'll average out on the 10000 games.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/59183/dzaima" title="12,657 reputation" class="comment-user">dzaima</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412634_170908"><span title="2018-08-21 16:17:52Z" class="relativetime-clean">Aug 21 at 16:17</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412673" class="comment js-comment " data-comment-id="412673">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@trichoplax I never thought about it in terms of the area... That makes a lot of sense</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412673_170908"><span title="2018-08-21 22:13:02Z" class="relativetime-clean">Aug 21 at 22:13</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170908" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick="">show <b>11</b> more comments</a>
        </div>         
    </div>        </div>
</div>



        <div id="answers">

                <a name="tab-top"></a>
                <div id="answers-header">
                    <div class="subheader answers-subheader">
                        <h2 data-answercount="50">
                                50 Answers
                                <span style="display:none;" itemprop="answerCount">50</span>
                        </h2>
                        <div>
                            
<div id="tabs">
        <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere is-selected " href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
    </div>

                        </div>
                    </div>
                </div>


<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>

  
<a name="170921"></a>
<div id="answer-170921" class="answer" data-answerid="170921" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170921">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">13</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1><a href="https://chat.stackexchange.com/transcript/message/46303326#46303326">Jim</a></h1>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">([</span><span class="pln">mc</span><span class="pun">,</span><span class="pln"> mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">],</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">round</span><span class="pun">,</span><span class="pln"> maxRound</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="kwd">const</span><span class="pln"> ID </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> S </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> botAm </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> log</span><span class="pun">(...</span><span class="pln">args</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">//if (round &gt; 1) console.log(ID+" "+args[0], ...args.slice(1));</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">round </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> all </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">().</span><span class="pln">map</span><span class="pun">((</span><span class="pln">_</span><span class="pun">,</span><span class="pln">i</span><span class="pun">)=&gt;</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">fs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">botAm</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">().</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c </span><span class="pun">=&gt;</span><span class="pln">
      </span><span class="pun">[</span><span class="pln">all</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(),</span><span class="pln"> all</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(),</span><span class="pln"> all</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(),</span><span class="pln"> all</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">()]</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">doneSetup </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> center </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">/</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// UL=0; DL=1; DR=2; UR=3</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">dir </span><span class="pun">=</span><span class="pln"> mx</span><span class="pun">&lt;</span><span class="pln">center</span><span class="pun">?</span><span class="pln"> </span><span class="pun">(</span><span class="pln">my</span><span class="pun">&lt;</span><span class="pln">center</span><span class="pun">?</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="pln">my</span><span class="pun">&lt;</span><span class="pln">center</span><span class="pun">?</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">job </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">setupFail </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">finished </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">tbotc </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">botAm </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">botEvilness </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">+</span><span class="lit">1</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">keys </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],</span><span class="pln">
              </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln">
              </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">]];</span><span class="pln">
    </span><span class="com">/*if (ID == 2) */</span><span class="pun">{</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">chased </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">ignore </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">badMoves </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">pastMoves </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="lit">100</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(</span><span class="str">"-1;0"</span><span class="pun">);</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">timer </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">jimFn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">([</span><span class="pln">mc</span><span class="pun">,</span><span class="pln"> mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">],</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">round</span><span class="pun">,</span><span class="pln"> maxRound</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// ---------- BEGIN JIM ---------- \\</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> output</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> allowRetracing </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">

        </span><span class="kwd">var</span><span class="pln"> checkSize </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> eatSize </span><span class="pun">=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> myScore</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> scoreboard</span><span class="pun">;</span><span class="pln">



        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">mx</span><span class="pun">][</span><span class="pln">my</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">some</span><span class="pun">(([</span><span class="pln">col</span><span class="pun">,</span><span class="pln"> bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">])=&gt;</span><span class="pln"> col </span><span class="pun">!=</span><span class="pln"> mc </span><span class="pun">&amp;&amp;</span><span class="pln"> bx</span><span class="pun">==</span><span class="pln">mx </span><span class="pun">&amp;&amp;</span><span class="pln"> by</span><span class="pun">==</span><span class="pln">my</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln"> </span><span class="com">// collect those sweet points</span><span class="pln">

        </span><span class="com">// rescore every now and then</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">timer </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">200</span><span class="pun">)</span><span class="pln"> rescore</span><span class="pun">();</span><span class="pln">

        S</span><span class="pun">.</span><span class="pln">pastMoves</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">mx</span><span class="pun">+</span><span class="str">";"</span><span class="pun">+</span><span class="pln">my</span><span class="pun">);</span><span class="pln">
        S</span><span class="pun">.</span><span class="pln">pastMoves</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">();</span><span class="pln">


        </span><span class="kwd">var</span><span class="pln"> orth </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],[</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">],[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">],[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">]];</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">atTarget
        </span><span class="pun">||</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetX </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pln">
        </span><span class="pun">||</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetX </span><span class="pun">===</span><span class="pln"> mx </span><span class="pun">&amp;&amp;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY </span><span class="pun">===</span><span class="pln"> my
        </span><span class="pun">||</span><span class="pln"> orth</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])=&gt;[</span><span class="pln">mx</span><span class="pun">+</span><span class="pln">x</span><span class="pun">,</span><span class="pln">my</span><span class="pun">+</span><span class="pln">y</span><span class="pun">]).</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">c</span><span class="pun">)==</span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> inbounds</span><span class="pun">(</span><span class="pln">c</span><span class="pun">)).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

          S</span><span class="pun">.</span><span class="pln">atTarget </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> neighbors </span><span class="pun">=</span><span class="pln"> orth
            </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">[</span><span class="pln">x</span><span class="pun">+</span><span class="pln">mx</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">+</span><span class="pln">my</span><span class="pun">])</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">some</span><span class="pun">(([</span><span class="pln">bid</span><span class="pun">,</span><span class="pln"> bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> bx</span><span class="pun">==</span><span class="pln">x </span><span class="pun">&amp;&amp;</span><span class="pln"> by</span><span class="pun">==</span><span class="pln">y</span><span class="pun">))</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;[</span><span class="pln">c</span><span class="pun">,</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">c</span><span class="pun">)]);</span><span class="pln">

          </span><span class="kwd">let</span><span class="pln"> test </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">neighbors</span><span class="pun">,</span><span class="pln"> f</span><span class="pun">,</span><span class="pln"> msg</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> bestOf</span><span class="pun">(</span><span class="pln">neighbors</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">f</span><span class="pun">).</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> log</span><span class="pun">(</span><span class="pln">msg</span><span class="pun">);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">

          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">test</span><span class="pun">(</span><span class="pln">neighbors</span><span class="pun">,</span><span class="pln"> </span><span class="pun">([,</span><span class="pln">c</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> c</span><span class="pun">===</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="str">"good"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> output</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">test</span><span class="pun">(</span><span class="pln">neighbors</span><span class="pun">,</span><span class="pln"> </span><span class="pun">([,</span><span class="pln">c</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> overMap</span><span class="pun">(</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">,</span><span class="pln">  </span><span class="str">"sad"</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> output</span><span class="pun">;</span><span class="pln">

          S</span><span class="pun">.</span><span class="pln">atTarget </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">targetX </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> bestScore </span><span class="pun">=</span><span class="pln"> </span><span class="lit">7</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> bfscore </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> dist </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln"> dist</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dsx</span><span class="pun">,</span><span class="pln"> dsy</span><span class="pun">,</span><span class="pln"> dx</span><span class="pun">,</span><span class="pln"> dy</span><span class="pun">]</span><span class="pln"> of </span><span class="pun">[[</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">]])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> dist</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> cx </span><span class="pun">=</span><span class="pln"> dx</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsx</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> mx</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> cy </span><span class="pun">=</span><span class="pln"> dy</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsy</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> my</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">cx</span><span class="pun">,</span><span class="pln"> cy</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">cx</span><span class="pun">][</span><span class="pln">cy</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln">  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                  </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> scoreOf</span><span class="pun">(</span><span class="pln">cx</span><span class="pun">,</span><span class="pln"> cy</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
                  </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">score</span><span class="pun">&gt;</span><span class="pln">bfscore</span><span class="pun">)</span><span class="pln">bfscore</span><span class="pun">=</span><span class="pln">score</span><span class="pun">;</span><span class="pln">
                  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">score </span><span class="pun">&gt;</span><span class="pln"> bestScore</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    bestScore </span><span class="pun">=</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">targetX </span><span class="pun">=</span><span class="pln"> cx</span><span class="pun">;</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">targetY </span><span class="pun">=</span><span class="pln"> cy</span><span class="pun">;</span><span class="pln">
                  </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
              </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            log</span><span class="pun">(</span><span class="str">"short goto"</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">,</span><span class="str">"(rel"</span><span class="pun">,</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">-</span><span class="pln">mx</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">-</span><span class="pln">my</span><span class="pun">,</span><span class="str">") score"</span><span class="pun">,</span><span class="pln"> bestScore</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">([</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">]);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> log</span><span class="pun">(</span><span class="str">"long goto"</span><span class="pun">,</span><span class="pln">bfscore</span><span class="pun">);</span><span class="pln">


          rescore</span><span class="pun">();</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">([</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> log</span><span class="pun">(</span><span class="str">"going to target"</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">);</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">([</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">]);</span><span class="pln">

        </span><span class="kwd">function</span><span class="pln"> myScore</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">myScore</span><span class="pun">)</span><span class="pln"> calculateScoreboard</span><span class="pun">();</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> myScore</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> calculateScoreboard</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          scoreboard </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">column</span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">var</span><span class="pln"> arr </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int16Array</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln">
            column</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">
              myScore</span><span class="pun">+=</span><span class="pln"> c</span><span class="pun">==</span><span class="pln">mc</span><span class="pun">,</span><span class="pln">
              arr</span><span class="pun">[</span><span class="pln">x</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> overMap</span><span class="pun">(</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">));</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> arr</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">});</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">bc</span><span class="pun">,</span><span class="pln"> bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">]</span><span class="pln"> of bots</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bc </span><span class="pun">!=</span><span class="pln"> mc</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            scoreboard</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">][</span><span class="pln">by</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">100</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">bx</span><span class="pun">-</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">]))</span><span class="pln"> scoreboard</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">-</span><span class="lit">2</span><span class="pun">][</span><span class="pln">by</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">50</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">bx</span><span class="pun">+</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">]))</span><span class="pln"> scoreboard</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">+</span><span class="lit">2</span><span class="pun">][</span><span class="pln">by</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">50</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">-</span><span class="lit">2</span><span class="pun">]))</span><span class="pln"> scoreboard</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">][</span><span class="pln">by</span><span class="pun">-</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">50</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">+</span><span class="lit">2</span><span class="pun">]))</span><span class="pln"> scoreboard</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">][</span><span class="pln">by</span><span class="pun">+</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">50</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> scoreOf </span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">,</span><span class="pln"> includeEnemies</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">scoreboard</span><span class="pun">)</span><span class="pln"> calculateScoreboard</span><span class="pun">();</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">size</span><span class="pun">;</span><span class="pln"> dx </span><span class="pun">&lt;=</span><span class="pln"> size</span><span class="pun">;</span><span class="pln"> dx</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> cx </span><span class="pun">=</span><span class="pln"> dx </span><span class="pun">+</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cx </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> cx </span><span class="pun">&gt;=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">size</span><span class="pun">;</span><span class="pln"> dy </span><span class="pun">&lt;=</span><span class="pln"> size</span><span class="pun">;</span><span class="pln"> dy</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">let</span><span class="pln"> cy </span><span class="pun">=</span><span class="pln"> dy </span><span class="pun">+</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cy </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> cy </span><span class="pun">&gt;=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
              </span><span class="kwd">let</span><span class="pln"> cs </span><span class="pun">=</span><span class="pln"> scoreboard</span><span class="pun">[</span><span class="pln">cx</span><span class="pun">][</span><span class="pln">cy</span><span class="pun">];</span><span class="pln">
              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cs </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> includeEnemies</span><span class="pun">)</span><span class="pln"> score</span><span class="pun">+=</span><span class="pln"> cs</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> rescore</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// heatmap of best scoring places</span><span class="pln">
          </span><span class="com">//log(JSON.stringify(scoreboard));</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">bestScore </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> blur </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">map</span><span class="pun">((</span><span class="pln">column</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">)=&gt;</span><span class="pln">column</span><span class="pun">.</span><span class="pln">map</span><span class="pun">((</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> scoreOf</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> checkSize</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">score </span><span class="pun">&gt;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">bestScore</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              S</span><span class="pun">.</span><span class="pln">bestScore </span><span class="pun">=</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
              S</span><span class="pun">.</span><span class="pln">targetX </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
              S</span><span class="pun">.</span><span class="pln">targetY </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">}));</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">atTarget </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">timer </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">bestScore </span><span class="pun">=</span><span class="pln"> scoreOf</span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">,</span><span class="pln"> eatSize</span><span class="pun">);</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">badMoves </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
          </span><span class="com">// log("scored to", S.targetX, S.targetY, S.bestScore);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> over</span><span class="pun">(</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// 1 if overrides happen, -1 if overrides don't happen, 0 if override = 0</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> res </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">mc</span><span class="pun">-</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">1</span><span class="pun">?</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">0</span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> overMap</span><span class="pun">(</span><span class="pln">col</span><span class="pun">,</span><span class="pln"> best </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> good </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> bad </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mine </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> zero </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// best if overrides happen, bad if overrides don't happen, good if override = 0</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> res </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">mc</span><span class="pun">-</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> col </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">?</span><span class="pln"> zero </span><span class="pun">:</span><span class="pln"> col </span><span class="pun">==</span><span class="pln"> mc</span><span class="pun">?</span><span class="pln"> mine </span><span class="pun">:</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">1</span><span class="pun">?</span><span class="pln"> good </span><span class="pun">:</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">0</span><span class="pun">?</span><span class="pln"> best </span><span class="pun">:</span><span class="pln"> bad</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> iwin   </span><span class="pun">(</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> over</span><span class="pun">(</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> zeroes </span><span class="pun">(</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> over</span><span class="pun">(</span><span class="pln">col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> to</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">//debugger</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> LR </span><span class="pun">=</span><span class="pln"> x </span><span class="pun">&gt;</span><span class="pln"> mx</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">mx</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> mx</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">mx</span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> UD </span><span class="pun">=</span><span class="pln"> y </span><span class="pun">&gt;</span><span class="pln"> my</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">+</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> my</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">-</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">LR </span><span class="pun">&amp;&amp;</span><span class="pln"> UD</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">LRScore</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> overMap</span><span class="pun">(</span><span class="pln">LR</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">var</span><span class="pln"> </span><span class="typ">UDScore</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> overMap</span><span class="pun">(</span><span class="pln">UD</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">LRScore</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="typ">UDScore</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> toPos</span><span class="pun">([</span><span class="pln">LR</span><span class="pun">,</span><span class="pln"> UD</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()&gt;.</span><span class="lit">5</span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">])</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">LRScore</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">UDScore</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> toPos</span><span class="pun">(</span><span class="pln">LR</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> toPos</span><span class="pun">(</span><span class="pln">UD</span><span class="pun">);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> toPos</span><span class="pun">(</span><span class="pln">LR </span><span class="pun">||</span><span class="pln"> UD </span><span class="pun">||</span><span class="pln"> </span><span class="pun">[</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> toPos</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&gt;</span><span class="pln"> mx</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"right"</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&lt;</span><span class="pln"> mx</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y </span><span class="pun">&lt;</span><span class="pln"> my</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y </span><span class="pun">&gt;</span><span class="pln"> my</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'wait'</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> inbounds</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// if (x&lt;grid.length &amp;&amp; y&lt;grid.length &amp;&amp; x&gt;=0 &amp;&amp; y&gt;=0) return true;</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x</span><span class="pun">&lt;</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> y</span><span class="pun">&lt;</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">&gt;=</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> y</span><span class="pun">&gt;=</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> </span><span class="kwd">get</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">]))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> bestOf </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">.</span><span class="pln">length </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> bestScore </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> bestPos</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> </span><span class="pun">[</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">]</span><span class="pln"> of arr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> </span><span class="pun">[</span><span class="pln">bcol</span><span class="pun">,</span><span class="pln"> bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">]</span><span class="pln"> of bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">((</span><span class="pln">x</span><span class="pun">-</span><span class="pln">bx</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y</span><span class="pun">-</span><span class="pln">by</span><span class="pun">)**</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
              </span><span class="kwd">let</span><span class="pln"> res </span><span class="pun">=</span><span class="pln"> over</span><span class="pun">(</span><span class="pln">bcol</span><span class="pun">);</span><span class="pln">
              </span><span class="kwd">let</span><span class="pln"> power </span><span class="pun">=</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">0</span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> res</span><span class="pun">==</span><span class="lit">1</span><span class="pun">?</span><span class="pln"> </span><span class="lit">0.4</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">1.4</span><span class="pun">;</span><span class="pln">
              score</span><span class="pun">+=</span><span class="pln"> power </span><span class="pun">*</span><span class="pln"> dist</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            score</span><span class="pun">-=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">((</span><span class="pln">x</span><span class="pun">-</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetX</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">y</span><span class="pun">-</span><span class="pln">S</span><span class="pun">.</span><span class="pln">targetY</span><span class="pun">)**</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">pastMoves</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">x</span><span class="pun">+</span><span class="str">";"</span><span class="pun">+</span><span class="pln">y</span><span class="pun">))</span><span class="pln"> score</span><span class="pun">-=</span><span class="pln"> </span><span class="lit">1000000</span><span class="pun">;</span><span class="pln">

            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">score </span><span class="pun">&gt;</span><span class="pln"> bestScore</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              bestScore </span><span class="pun">=</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
              bestPos </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bestScore </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">500000</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">allowRetracing</span><span class="pun">)</span><span class="pln"> log</span><span class="pun">(</span><span class="str">"RETRACING"</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          output </span><span class="pun">=</span><span class="pln"> to</span><span class="pun">(</span><span class="pln">bestPos</span><span class="pun">);</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="com">// ---------- END JIM ---------- \\</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> dirs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'up'</span><span class="pun">,</span><span class="str">'left'</span><span class="pun">,</span><span class="str">'down'</span><span class="pun">,</span><span class="str">'right'</span><span class="pun">];</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">S</span><span class="pun">.</span><span class="pln">doneSetup </span><span class="pun">&amp;&amp;</span><span class="pln"> round </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">37</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// ---------- HANDSHAKE ---------- \\</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> finished </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">round </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> id </span><span class="pun">&lt;</span><span class="pln"> botAm</span><span class="pun">;</span><span class="pln"> id</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">fs</span><span class="pun">[</span><span class="pln">id</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> remaining </span><span class="pun">=</span><span class="pln"> f</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">.</span><span class="pln">length</span><span class="pun">).</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">)=&gt;</span><span class="pln">a</span><span class="pun">+</span><span class="pln">b</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">remaining </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          finished</span><span class="pun">++;</span><span class="pln">
          </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">remaining </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="com">// mourn the loss of a good friend</span><span class="pln">
          finished</span><span class="pun">++;</span><span class="pln">
          </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dir </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> dir </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln"> dir</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> possible </span><span class="pun">=</span><span class="pln"> f</span><span class="pun">[</span><span class="pln">dir</span><span class="pun">];</span><span class="pln">

          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> possible</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">--)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> bc </span><span class="pun">=</span><span class="pln"> possible</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> curr </span><span class="pun">=</span><span class="pln">       bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">bc</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> prev </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">pastBots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">bc</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">curr </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">prev</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              possible</span><span class="pun">.</span><span class="pln">splice</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
              </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln"> curr</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]-</span><span class="pln">prev</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln"> curr</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]-</span><span class="pln">prev</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> move</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dy </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dx </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> move </span><span class="pun">=</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">;</span><span class="pln">
              </span><span class="kwd">else</span><span class="pln">         move </span><span class="pun">=</span><span class="pln">  </span><span class="str">'left'</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dy </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> move </span><span class="pun">=</span><span class="pln">  </span><span class="str">'down'</span><span class="pun">;</span><span class="pln">
              </span><span class="kwd">else</span><span class="pln">         move </span><span class="pun">=</span><span class="pln">    </span><span class="str">'up'</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> omove </span><span class="pun">=</span><span class="pln"> rotate</span><span class="pun">(</span><span class="pln">move</span><span class="pun">,</span><span class="pln"> dir</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> expected </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'down'</span><span class="pun">,</span><span class="str">'right'</span><span class="pun">][</span><span class="pln">S</span><span class="pun">.</span><span class="pln">keys</span><span class="pun">[</span><span class="pln">id</span><span class="pun">][</span><span class="pln">round</span><span class="pun">-</span><span class="lit">1</span><span class="pun">]];</span><span class="pln">
            </span><span class="com">// if (id == 0 &amp;&amp; dir == S.dir) log();</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">omove </span><span class="pun">!=</span><span class="pln"> expected</span><span class="pun">)</span><span class="pln"> possible</span><span class="pun">.</span><span class="pln">splice</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">pastBots </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">finished </span><span class="pun">==</span><span class="pln"> botAm</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">doneSetup </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">pastBots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">botAm</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">().</span><span class="pln">map</span><span class="pun">((</span><span class="pln">_</span><span class="pun">,</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">fs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">[-</span><span class="lit">1</span><span class="pun">])[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln"> </span><span class="com">// AKA idtoc</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">fighters </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">ctoid </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{[</span><span class="pln">S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]:</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]]:</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]]:</span><span class="lit">2</span><span class="pun">};</span><span class="pln">
      log</span><span class="pun">(</span><span class="str">"identified"</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ID </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        log</span><span class="pun">(</span><span class="str">"can beat"</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">S</span><span class="pun">.</span><span class="pln">fighters</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b</span><span class="pun">=&gt;</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">b</span><span class="pun">-</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">])%</span><span class="lit">3</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">).</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">).</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]));</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// log(ID,S.fs);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> rotate</span><span class="pun">([</span><span class="str">'down'</span><span class="pun">,</span><span class="str">'right'</span><span class="pun">][</span><span class="pln">S</span><span class="pun">.</span><span class="pln">keys</span><span class="pun">[</span><span class="pln">ID</span><span class="pun">][</span><span class="pln">round</span><span class="pun">]],</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">dir</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">S</span><span class="pun">.</span><span class="pln">doneSetup</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// HANDSHAKE FAILED</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">setupFail </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">=[];</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">fighters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">ctoid </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">


  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">pastGrid</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">bc</span><span class="pun">,</span><span class="pln"> bx</span><span class="pun">,</span><span class="pln"> by</span><span class="pun">]</span><span class="pln"> of bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// calculate bot evilness</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> prev </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">pastGrid</span><span class="pun">[</span><span class="pln">bx</span><span class="pun">][</span><span class="pln">by</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> fID </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">prev</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">fID </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botEvilness</span><span class="pun">[</span><span class="pln">bc</span><span class="pun">]+=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">fID </span><span class="pun">!==</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botEvilness</span><span class="pun">[</span><span class="pln">bc</span><span class="pun">]+=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">let</span><span class="pln"> over </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">bc </span><span class="pun">-</span><span class="pln"> prev</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">over </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botEvilness</span><span class="pun">[</span><span class="pln">bc</span><span class="pun">]+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">over </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botEvilness</span><span class="pun">[</span><span class="pln">bc</span><span class="pun">]+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

  </span><span class="pun">}</span><span class="pln">


  S</span><span class="pun">.</span><span class="pln">pastGrid </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ID </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">jimFn</span><span class="pun">([</span><span class="pln">mc</span><span class="pun">,</span><span class="pln"> mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">],</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">round</span><span class="pun">,</span><span class="pln"> maxRound</span><span class="pun">]);</span><span class="pln">





  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">setupFail </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">S</span><span class="pun">.</span><span class="pln">fighters</span><span class="pun">[</span><span class="lit">1</span><span class="pun">-</span><span class="pln">ID</span><span class="pun">]))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'wait'</span><span class="pun">;</span><span class="pln"> </span><span class="com">// for my demise</span><span class="pln">
  </span><span class="com">// TODO yeah no</span><span class="pln">


  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">round </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">50</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">jimFn</span><span class="pun">([</span><span class="pln">mc</span><span class="pun">,</span><span class="pln"> mx</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">],</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">round</span><span class="pun">,</span><span class="pln"> maxRound</span><span class="pun">]);</span><span class="pln"> </span><span class="com">// if Jim's dead or if it's early game, be Jim so others don't win needlessly/scoreboard becomes more clear</span><span class="pln">


  </span><span class="kwd">let</span><span class="pln"> tbot </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">);</span><span class="pln">


  </span><span class="com">// ---------- NEW TARGET ---------- \\</span><span class="pln">
  </span><span class="kwd">let</span><span class="pln"> tried</span><span class="pun">;</span><span class="pln">


  </span><span class="com">// {</span><span class="pln">
  </span><span class="com">//   let scores = S.botEvilness.slice(); // new Array(S.botAm+1).fill(0);</span><span class="pln">
  </span><span class="com">//   for (let column of grid) for (let item of column) scores[item]++;</span><span class="pln">
  </span><span class="com">//   log("scores", scores.map((score, id) =&gt; [botName(id), score]).sort((a,b)=&gt;b[1]-a[1]));</span><span class="pln">
  </span><span class="com">//   log("evilness", S.botEvilness.map((score, id) =&gt; [botName(id), score]).sort((a,b)=&gt;b[1]-a[1]));</span><span class="pln">
  </span><span class="com">// }</span><span class="pln">

  </span><span class="kwd">let</span><span class="pln"> makeSureImNotStupidAgain </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">((!</span><span class="pln">S</span><span class="pun">.</span><span class="pln">tbotc </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">tbot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">S</span><span class="pun">.</span><span class="pln">finished</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    makeSureImNotStupidAgain</span><span class="pun">++;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">makeSureImNotStupidAgain </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">100</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"dzaima is stupid"</span><span class="pun">);</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">finished </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">tried</span><span class="pun">)</span><span class="pln"> tried </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">();</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> scores </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botEvilness</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">();</span><span class="pln"> </span><span class="com">// new Array(S.botAm+1).fill(0);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> column of grid</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> item of column</span><span class="pun">)</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">item</span><span class="pun">]++;</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> bbc</span><span class="pun">,</span><span class="pln"> bbs</span><span class="pun">=-</span><span class="kwd">Infinity</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botAm</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> bbs </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">tried</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">i</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      bbs </span><span class="pun">=</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
      bbc </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    S</span><span class="pun">.</span><span class="pln">tbotc </span><span class="pun">=</span><span class="pln"> bbc</span><span class="pun">;</span><span class="pln">
    tbot </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> bbc</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">tbot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      tried</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">bbc</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">jobs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
      </span><span class="kwd">let</span><span class="pln"> executers </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">fighters</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">c</span><span class="pun">-</span><span class="pln">bbc</span><span class="pun">)%</span><span class="lit">3</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">).</span><span class="pln">concat</span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">fighters</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">c</span><span class="pun">-</span><span class="pln">bbc</span><span class="pun">)%</span><span class="lit">3</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">executers</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        S</span><span class="pun">.</span><span class="pln">jobs</span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">ctoid</span><span class="pun">[</span><span class="pln">executers</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">()]]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        S</span><span class="pun">.</span><span class="pln">jobs</span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">ctoid</span><span class="pun">[</span><span class="pln">executers</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">()]]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        </span><span class="com">//S.jobs.forEach((c,id) =&gt; c==0? S.jobs[id]=2 : 0);</span><span class="pln">
        log</span><span class="pun">(</span><span class="str">"targetting"</span><span class="pun">,</span><span class="pln"> botName</span><span class="pun">(</span><span class="pln">bbc</span><span class="pun">),</span><span class="str">"jobs"</span><span class="pun">,</span><span class="pln">S</span><span class="pun">.</span><span class="pln">jobs</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// cry</span><span class="pln">
        tried</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">bbc</span><span class="pun">);</span><span class="pln">
        S</span><span class="pun">.</span><span class="pln">tbotc </span><span class="pun">=</span><span class="pln"> tbot </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">job </span><span class="pun">=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">jobs</span><span class="pun">[</span><span class="pln">ID</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tried</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// everyone is dead</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">job </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">jobs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="lit">2</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
      S</span><span class="pun">.</span><span class="pln">finished </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tbot </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">S</span><span class="pun">.</span><span class="pln">finished</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">_</span><span class="pun">,</span><span class="pln"> tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> tbot</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">switch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">job</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">1</span><span class="pun">:</span><span class="pln"> </span><span class="com">// follow</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">(</span><span class="pln">tx</span><span class="pun">,</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">2</span><span class="pun">:</span><span class="pln"> </span><span class="com">// erase</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> endingClearing </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pln">  </span><span class="pun">||</span><span class="pln">  S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">==</span><span class="pln">mx </span><span class="pun">&amp;&amp;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">==</span><span class="pln">my  </span><span class="pun">||</span><span class="pln">  grid</span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">][</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> ending </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...</span><span class="pln">S</span><span class="pun">.</span><span class="pln">fighters</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c </span><span class="pun">!=</span><span class="pln"> mc</span><span class="pun">)].</span><span class="pln">map</span><span class="pun">(</span><span class="pln">c </span><span class="pun">=&gt;</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">b</span><span class="pun">=&gt;</span><span class="pln">b</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">c</span><span class="pun">)).</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">I</span><span class="pun">=&gt;</span><span class="pln">I</span><span class="pun">);</span><span class="pln">
          search</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> dist </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">*</span><span class="lit">2</span><span class="pun">+</span><span class="lit">2</span><span class="pun">;</span><span class="pln"> dist</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dsx</span><span class="pun">,</span><span class="pln"> dsy</span><span class="pun">,</span><span class="pln"> dx</span><span class="pun">,</span><span class="pln"> dy</span><span class="pun">]</span><span class="pln"> of </span><span class="pun">[[</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">]])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> dist</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> cx </span><span class="pun">=</span><span class="pln"> dx</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsx</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> mx</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> cy </span><span class="pun">=</span><span class="pln"> dy</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsy</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> my</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">(</span><span class="pln">cx</span><span class="pun">,</span><span class="pln"> cy</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">cx</span><span class="pun">][</span><span class="pln">cy</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc </span><span class="pun">&amp;&amp;</span><span class="pln"> ending</span><span class="pun">.</span><span class="pln">every</span><span class="pun">(([</span><span class="pln">_</span><span class="pun">,</span><span class="pln">bx</span><span class="pun">,</span><span class="pln">by</span><span class="pun">])</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bx</span><span class="pun">-</span><span class="pln">cx</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">by</span><span class="pun">-</span><span class="pln">cy</span><span class="pun">)**</span><span class="lit">2</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()*</span><span class="lit">10</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">=</span><span class="pln"> cx</span><span class="pun">;</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">gotoY </span><span class="pun">=</span><span class="pln"> cy</span><span class="pun">;</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pln"> search</span><span class="pun">;</span><span class="pln">
                  </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
              </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> available </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
            grid</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">column</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> column</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> c</span><span class="pun">==</span><span class="pln">S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">?</span><span class="pln"> available</span><span class="pun">.</span><span class="pln">push</span><span class="pun">([</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln">
            </span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> available</span><span class="pun">[</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()*</span><span class="pln">available</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)];</span><span class="pln">
            endingClearing </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">,</span><span class="pln"> endingClearing</span><span class="pun">?</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">case</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln"> </span><span class="com">// exercise</span><span class="pln">

        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pln">  </span><span class="pun">||</span><span class="pln">  S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">==</span><span class="pln">mx </span><span class="pun">&amp;&amp;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">==</span><span class="pln">my  </span><span class="pun">||</span><span class="pln">  grid</span><span class="pun">[</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">][</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">tbotc</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">let</span><span class="pln"> scores </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint32Array</span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">botAm</span><span class="pun">+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> column of grid</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> item of column</span><span class="pun">)</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">item</span><span class="pun">]++;</span><span class="pln">
          </span><span class="kwd">var</span><span class="pln"> bbc</span><span class="pun">,</span><span class="pln"> bbs</span><span class="pun">=-</span><span class="kwd">Infinity</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">botAm</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> bbs </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">mc</span><span class="pun">-</span><span class="pln">i</span><span class="pun">)%</span><span class="lit">3</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">S</span><span class="pun">.</span><span class="typ">BCs</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">i</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            bbs </span><span class="pun">=</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
            bbc </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bbc</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
            search</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> dist </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">*</span><span class="lit">2</span><span class="pun">+</span><span class="lit">2</span><span class="pun">;</span><span class="pln"> dist</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dsx</span><span class="pun">,</span><span class="pln"> dsy</span><span class="pun">,</span><span class="pln"> dx</span><span class="pun">,</span><span class="pln"> dy</span><span class="pun">]</span><span class="pln"> of </span><span class="pun">[[</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">]])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> dist</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                  </span><span class="kwd">let</span><span class="pln"> cx </span><span class="pun">=</span><span class="pln"> dx</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsx</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> mx</span><span class="pun">;</span><span class="pln">
                  </span><span class="kwd">let</span><span class="pln"> cy </span><span class="pun">=</span><span class="pln"> dy</span><span class="pun">*</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> dsy</span><span class="pun">*</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> my</span><span class="pun">;</span><span class="pln">
                  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">inbounds</span><span class="pun">(</span><span class="pln">cx</span><span class="pun">,</span><span class="pln"> cy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">cx</span><span class="pun">][</span><span class="pln">cy</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> bbc</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">=</span><span class="pln"> cx</span><span class="pun">;</span><span class="pln">
                    S</span><span class="pun">.</span><span class="pln">gotoY </span><span class="pun">=</span><span class="pln"> cy</span><span class="pun">;</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pln"> search</span><span class="pun">;</span><span class="pln">
                  </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
              </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> to</span><span class="pun">(</span><span class="pln">S</span><span class="pun">.</span><span class="pln">gotoX</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">.</span><span class="pln">gotoY</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> dirs</span><span class="pun">[</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()*</span><span class="lit">4</span><span class="pun">)];</span><span class="pln">
      </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">


  </span><span class="kwd">function</span><span class="pln"> to </span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> col</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln">  </span><span class="pun">(</span><span class="pln">x </span><span class="pun">==</span><span class="pln"> mx</span><span class="pun">&amp;&amp;</span><span class="pln">y</span><span class="pun">==</span><span class="pln"> my</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'wait'</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln">   x    </span><span class="pun">-</span><span class="pln"> mx </span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln">      y </span><span class="pun">-</span><span class="pln"> my </span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> ax </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">dx</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> ay </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">dy</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln">          diag</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln">   </span><span class="pun">(</span><span class="pln">     ax</span><span class="pun">==</span><span class="pln">ay   </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">col</span><span class="pun">&amp;&amp;</span><span class="pln">ax</span><span class="pun">+</span><span class="pln"> ay</span><span class="pun">==</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> i</span><span class="pun">=[[</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> my</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">mx</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">]].</span><span class="pln">findIndex</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]][</span><span class="pln">c</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]]==</span><span class="pln">col</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> diag </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()&gt;=.</span><span class="lit">5</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">     diag </span><span class="pun">=</span><span class="pln">           i  </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln">     diag </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()&gt;=.</span><span class="lit">5</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ax</span><span class="pun">==</span><span class="pln">ay</span><span class="pun">?</span><span class="pln">  diag </span><span class="pun">:</span><span class="pln">  ax</span><span class="pun">&gt;</span><span class="pln">ay</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dx</span><span class="pun">&gt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">else</span><span class="pln">      </span><span class="kwd">return</span><span class="pln">  </span><span class="str">'left'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dy</span><span class="pun">&gt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln">  </span><span class="str">'down'</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">else</span><span class="pln">      </span><span class="kwd">return</span><span class="pln">    </span><span class="str">'up'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> rotate </span><span class="pun">(</span><span class="pln">move</span><span class="pun">,</span><span class="pln"> dir</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'up'</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'down'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dir </span><span class="pun">&amp;&amp;</span><span class="pln"> dir</span><span class="pun">&lt;</span><span class="lit">3</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'up'</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'down'</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'up'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'left'</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> dir</span><span class="pun">&gt;</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">move </span><span class="pun">==</span><span class="pln"> </span><span class="str">'left'</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'left'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> move</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> botName</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> bot </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">c</span><span class="pun">=&gt;</span><span class="pln">c</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]==</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">bot</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> id</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> bot</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> inbounds</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> x</span><span class="pun">&lt;</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&amp;&amp;</span><span class="pln"> y</span><span class="pun">&lt;</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> y</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>The simple explanation of the strategy of this bot is as follows:</p>

<ul>
<li>win</li>
</ul>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170921" title="short permalink to this answer" class="short-link" id="link-post-170921">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170921/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170921/revisions" title="show all edits to this post">edited <span title="2018-08-27 21:18:26Z" class="relativetime">Aug 27 at 21:18</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-20 12:41:50Z" class="relativetime">Aug 20 at 12:41</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/59183/dzaima"><div class="gravatar-wrapper-32"><img src="./original_files/photo.jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/59183/dzaima">dzaima</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 12,657" dir="ltr">12.7k</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="14 silver badges"><span class="badge2"></span><span class="badgecount">14</span></span><span title="52 bronze badges"><span class="badge3"></span><span class="badgecount">52</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170921" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412556" class="comment js-comment " data-comment-id="412556">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy"><a href="https://www.facebook.com/JimllPaintIt/" rel="nofollow noreferrer">Jim'll paint it</a>!</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/58974/shaggy" title="16,009 reputation" class="comment-user">Shaggy</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412556_170921"><span title="2018-08-20 20:58:39Z" class="relativetime-clean">Aug 20 at 20:58</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170921" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170932"></a>
<div id="answer-170932" class="answer" data-answerid="170932" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170932">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">12</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Trollbot</h1>

<p>Picks the closest bot it can paint over and just follows it. If it can't find a valid bot, go to the nearest empty space. If it can't find an empty space, move randomly.</p>

<p>Note: Lots of good contributions by Simon</p>

<pre><code>function(myself, grid, bots, gameInfo) {
    var c = myself[0];
    var x = myself[1];
    var y = myself[2];

    var cd = -1;
    var cx = -1;
    var cy = -1;
    var i;
    for(i = 0; i &lt; bots.length; i++){
        var bc = bots[i][0];
        var bx = bots[i][1];
        var by = bots[i][2];

        if (c != bc &amp;&amp; Math.abs(c-bc)%3 == 0) {
            var d = Math.abs(x-bx)+Math.abs(y-by);

            if (d &gt; 0 &amp;&amp; (cd == -1 || d&lt;cd)) {
                cd = d;
                cx = bx;
                cy = by;
            }
        }
    }

    if (cd == -1) {
        var j;
        for(i=0; i&lt;grid.length; i++) {
            for(j=0; j&lt;grid.length; j++) {
                if (grid[i][j] == 0) {
                    var d = Math.abs(x-i)+Math.abs(y-j);
                    var sharingWithBot = (i == x &amp;&amp; j == y &amp;&amp; bots.filter((item) =&gt; item[1] == i &amp;&amp; item[2] == j).length &gt; 1);
                    if (!sharingWithBot &amp;&amp; (cd == -1 || d&lt;cd)) {
                        cd = d;
                        cx = i;
                        cy = j;
                    }
                }
            }
        }
    }


    var move;
    var dx = cx-x;
    var dy = cy-y;
    if (cd == -1) {
        move = ["up","down","left","right"][Math.random() *4 |0];
    } else if (dx == 0 &amp;&amp; dy == 0) {
        move = "wait";
    } else if (Math.abs(dx) &gt; Math.abs(dy) || (Math.abs(dx) == Math.abs(dy) &amp;&amp; Math.random() * 2 &lt; 1)) {
        if (dx &gt; 0) {
            move = "right";
        } else {
            move = "left";
        }
    } else {
        if (dy &gt; 0) {
            move = "down";
        } else {
            move = "up";
        }
    }
    return move;
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170932" title="short permalink to this answer" class="short-link" id="link-post-170932">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170932/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170932/revisions" title="show all edits to this post">edited <span title="2018-08-22 17:11:35Z" class="relativetime">Aug 22 at 17:11</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/4689/simon"><div class="gravatar-wrapper-32"><img src="./original_files/62e682e6621d6fd99976dd64b6db9e24.jpeg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/4689/simon">Simon</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">105</span><span title="2 bronze badges"><span class="badge3"></span><span class="badgecount">2</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 16:16:08Z" class="relativetime">Aug 20 at 16:16</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/82160/lispy-louie"><div class="gravatar-wrapper-32"><img src="./original_files/904a147101bcb7f69d7fcbab4ecc78f6" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/82160/lispy-louie">Lispy Louie</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">179</span><span title="4 bronze badges"><span class="badge3"></span><span class="badgecount">4</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170932" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412546" class="comment js-comment " data-comment-id="412546">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I like this idea, so I tried it out.  Unfortunately, as-is it just tries to troll itself (that is, it always picks itself to follow).  Change <code>if (Math.abs(c-bc)%3 == 0) {</code> to <code>if (c != bc &amp;&amp; Math.abs(c-bc)%3 == 0) {</code> and <code>} else if (dx&gt;dy) {</code> to <code>} else if (Math.abs(dx) &gt; Math.abs(dy)) {</code> and it seems to work as intended.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/4689/simon" title="105 reputation" class="comment-user">Simon</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412546_170932"><span title="2018-08-20 19:02:33Z" class="relativetime-clean">Aug 20 at 19:02</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412547" class="comment js-comment " data-comment-id="412547">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Ah yes. That's a bit of a problem. Thanks for pointing that out!</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/82160/lispy-louie" title="179 reputation" class="comment-user">Lispy Louie</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412547_170932"><span title="2018-08-20 19:05:15Z" class="relativetime-clean">Aug 20 at 19:05</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"></path></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412649" class="comment js-comment " data-comment-id="412649">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I have some other enhancements to keep it from getting stuck on immobile bots, would you like me to edit them in?</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/4689/simon" title="105 reputation" class="comment-user">Simon</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412649_170932"><span title="2018-08-21 18:35:24Z" class="relativetime-clean">Aug 21 at 18:35</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412650" class="comment js-comment " data-comment-id="412650">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Go ahead (more characters so I can add this comment)</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/82160/lispy-louie" title="179 reputation" class="comment-user">Lispy Louie</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412650_170932"><span title="2018-08-21 18:50:29Z" class="relativetime-clean">Aug 21 at 18:50</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170932" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170917"></a>
<div id="answer-170917" class="answer" data-answerid="170917" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170917">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">10</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>¯\_(ツ)_/¯ (Random moves)</h2>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"up"</span><span class="pun">,</span><span class="str">"down"</span><span class="pun">,</span><span class="str">"left"</span><span class="pun">,</span><span class="str">"right"</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="lit">4</span><span class="pln"> </span><span class="pun">|</span><span class="lit">0</span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170917" title="short permalink to this answer" class="short-link" id="link-post-170917">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170917/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170917/revisions" title="show all edits to this post">edited <span title="2018-08-20 12:42:28Z" class="relativetime">Aug 20 at 12:42</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/59183/dzaima"><div class="gravatar-wrapper-32"><img src="./original_files/photo.jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/59183/dzaima">dzaima</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 12,657" dir="ltr">12.7k</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="14 silver badges"><span class="badge2"></span><span class="badgecount">14</span></span><span title="52 bronze badges"><span class="badge3"></span><span class="badgecount">52</span></span>
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 12:15:02Z" class="relativetime">Aug 20 at 12:15</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/78039/luis-felipe-de-jesus-munoz"><div class="gravatar-wrapper-32"><img src="./original_files/photo(1).jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/78039/luis-felipe-de-jesus-munoz">Luis felipe De jesus Munoz</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,823</span><span title="10 silver badges"><span class="badge2"></span><span class="badgecount">10</span></span><span title="42 bronze badges"><span class="badge3"></span><span class="badgecount">42</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170917" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412539" class="comment js-comment " data-comment-id="412539">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Info: This is about 2x worse than random filler, mostly because it usually walks in the same position.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/69850/user202729" title="12,690 reputation" class="comment-user">user202729</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412539_170917"><span title="2018-08-20 15:34:49Z" class="relativetime-clean">Aug 20 at 15:34</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170917" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170927"></a>
<div id="answer-170927" class="answer" data-answerid="170927" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170927">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">9</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>The Bot That Paints The Board Constantly But Is Not A Painter</h1>

<pre class="lang-es6 prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">me</span><span class="pun">,</span><span class="pln"> board</span><span class="pun">,</span><span class="pln"> painters</span><span class="pun">,</span><span class="pln"> info</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> meX </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> meY </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> board</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">ceil</span><span class="pun">(</span><span class="pln">s </span><span class="pun">/</span><span class="pln"> </span><span class="lit">3</span><span class="pun">),</span><span class="pln"> pl </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> info</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> storage</span><span class="pun">,</span><span class="pln"> sk </span><span class="pun">=</span><span class="pln"> </span><span class="str">'jijdfoadofsdfasz'</span><span class="pun">,</span><span class="pln"> s1</span><span class="pun">,</span><span class="pln"> s2</span><span class="pun">,</span><span class="pln"> scores </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> bos </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">ss</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> ss</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln">
        </span><span class="pun">[</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">ss</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> ss</span><span class="pun">,</span><span class="pln"> ss </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ss </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">r </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">[</span><span class="pln">sk</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">'undefined'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> ss </span><span class="pun">+</span><span class="pln"> painters</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        s1 </span><span class="pun">=</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">n </span><span class="pun">%</span><span class="pln"> </span><span class="lit">8</span><span class="pun">];</span><span class="pln">
        s2 </span><span class="pun">=</span><span class="pln"> bos</span><span class="pun">[(</span><span class="pln">n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">8</span><span class="pun">];</span><span class="pln">
        storage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">[</span><span class="pln">sk</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">s1</span><span class="pun">:</span><span class="pln"> s1</span><span class="pun">,</span><span class="pln"> s2</span><span class="pun">:</span><span class="pln"> s2</span><span class="pun">,</span><span class="pln"> bs</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        storage </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">[</span><span class="pln">sk</span><span class="pun">];</span><span class="pln">
        s1 </span><span class="pun">=</span><span class="pln"> storage</span><span class="pun">.</span><span class="pln">s1</span><span class="pun">;</span><span class="pln">
        s2 </span><span class="pun">=</span><span class="pln"> storage</span><span class="pun">.</span><span class="pln">s2</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> getDistance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">x1 </span><span class="pun">-</span><span class="pln"> x2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">y1 </span><span class="pun">-</span><span class="pln"> y2</span><span class="pun">))</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> getColorValue </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">c </span><span class="pun">===</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">id </span><span class="pun">-</span><span class="pln"> c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0.1</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> getEnemyValue </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eId </span><span class="pun">===</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">id </span><span class="pun">-</span><span class="pln"> eId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1.75</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> value</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> isInSection </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&gt;=</span><span class="pln"> s</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> y </span><span class="pun">&gt;=</span><span class="pln"> s</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> x </span><span class="pun">&lt;=</span><span class="pln"> s</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> y </span><span class="pun">&lt;=</span><span class="pln"> s</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> bs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">storage</span><span class="pun">.</span><span class="pln">bs </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> storage</span><span class="pun">.</span><span class="pln">c </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> mysi </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> bos</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isInSection</span><span class="pun">(</span><span class="pln">meX</span><span class="pun">,</span><span class="pln"> meY</span><span class="pun">,</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]))</span><span class="pln"> mysi </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s1</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s1</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s1</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s1</span><span class="pun">[</span><span class="lit">3</span><span class="pun">])</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">r </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">5e2</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s2</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s2</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s2</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> s2</span><span class="pun">[</span><span class="lit">3</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">100000</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> bX </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="pln">bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> bX </span><span class="pun">&lt;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(</span><span class="pln">bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> bX</span><span class="pun">++)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> bY </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="pln">bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> bY </span><span class="pun">&lt;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(</span><span class="pln">bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">3</span><span class="pun">],</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"> bY</span><span class="pun">++)</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> getColorValue</span><span class="pun">(</span><span class="pln">board</span><span class="pun">[</span><span class="pln">bX</span><span class="pun">][</span><span class="pln">bY</span><span class="pun">]);</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> pl</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">let</span><span class="pln"> pId </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> pX </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> pY </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pId </span><span class="pun">===</span><span class="pln"> id </span><span class="pun">||</span><span class="pln"> pX </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pX </span><span class="pun">===</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pY </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pY </span><span class="pun">===</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="pln">isInSection</span><span class="pun">(</span><span class="pln">pX</span><span class="pun">,</span><span class="pln"> pY</span><span class="pun">,</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]))</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                    scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">getEnemyValue</span><span class="pun">(</span><span class="pln">pId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> ss</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> bss </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> scores</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bss </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> bss </span><span class="pun">&lt;</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                bss </span><span class="pun">=</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
                bs </span><span class="pun">=</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mysi </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> scores</span><span class="pun">[</span><span class="pln">mysi</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">1.1</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> bss</span><span class="pun">)</span><span class="pln"> bs </span><span class="pun">=</span><span class="pln"> bos</span><span class="pun">[</span><span class="pln">mysi</span><span class="pun">];</span><span class="pln">
        storage</span><span class="pun">.</span><span class="pln">bs </span><span class="pun">=</span><span class="pln"> bs</span><span class="pun">;</span><span class="pln">
        storage</span><span class="pun">.</span><span class="pln">c </span><span class="pun">=</span><span class="pln"> </span><span class="lit">250</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        bs </span><span class="pun">=</span><span class="pln"> storage</span><span class="pun">.</span><span class="pln">bs</span><span class="pun">;</span><span class="pln">
        storage</span><span class="pun">.</span><span class="pln">c</span><span class="pun">--;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> getScore </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isInSection</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> bs</span><span class="pun">))</span><span class="pln"> score </span><span class="pun">-=</span><span class="pln"> s </span><span class="pun">*</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> bX </span><span class="pun">=</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln"> bX </span><span class="pun">&lt;=</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> bX</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> bY </span><span class="pun">=</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln"> bY </span><span class="pun">&lt;=</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">3</span><span class="pun">];</span><span class="pln"> bY</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> distance </span><span class="pun">=</span><span class="pln"> getDistance</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> bX</span><span class="pun">,</span><span class="pln"> bY</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> colorValue </span><span class="pun">=</span><span class="pln"> getColorValue</span><span class="pun">(</span><span class="pln">board</span><span class="pun">[</span><span class="pln">bX</span><span class="pun">][</span><span class="pln">bY</span><span class="pun">]);</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
                score </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">colorValue </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> factor</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">===</span><span class="pln"> meX </span><span class="pun">&amp;&amp;</span><span class="pln"> y </span><span class="pun">===</span><span class="pln"> meY </span><span class="pun">&amp;&amp;</span><span class="pln"> x </span><span class="pun">===</span><span class="pln"> bX </span><span class="pun">&amp;&amp;</span><span class="pln"> y </span><span class="pun">===</span><span class="pln"> bY </span><span class="pun">&amp;&amp;</span><span class="pln"> colorValue </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> score </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> pl</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> pId </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> pX </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> pY </span><span class="pun">=</span><span class="pln"> painters</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pId </span><span class="pun">===</span><span class="pln"> id </span><span class="pun">||</span><span class="pln"> pX </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pX </span><span class="pun">===</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pY </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> pY </span><span class="pun">===</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> pDistance </span><span class="pun">=</span><span class="pln"> getDistance</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> pX</span><span class="pun">,</span><span class="pln"> pY</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pDistance </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> pIdValue </span><span class="pun">=</span><span class="pln"> getEnemyValue</span><span class="pun">(</span><span class="pln">pId</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pDistance </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">8</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pDistance </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> factor </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> score </span><span class="pun">-=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pIdValue </span><span class="pun">/</span><span class="pln"> pDistance</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> factor</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> score </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isInSection</span><span class="pun">(</span><span class="pln">meX</span><span class="pun">,</span><span class="pln"> meY</span><span class="pun">,</span><span class="pln"> bs</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> possibleMoves </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[{</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="str">'wait'</span><span class="pun">}];</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">meX </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> possibleMoves</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="str">'left'</span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">meY </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> possibleMoves</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="str">'up'</span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">meX </span><span class="pun">&lt;</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> possibleMoves</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">meY </span><span class="pun">&lt;</span><span class="pln"> s </span><span class="pun">-</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> possibleMoves</span><span class="pun">.</span><span class="pln">push</span><span class="pun">({</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">:</span><span class="pln"> </span><span class="str">'down'</span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> topCommand</span><span class="pun">,</span><span class="pln"> topScore </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> possibleMoves</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> getScore</span><span class="pun">(</span><span class="pln">meX </span><span class="pun">+</span><span class="pln"> possibleMoves</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> meY </span><span class="pun">+</span><span class="pln"> possibleMoves</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">topScore </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> score </span><span class="pun">&gt;</span><span class="pln"> topScore</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                topScore </span><span class="pun">=</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
                topCommand </span><span class="pun">=</span><span class="pln"> possibleMoves</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">c</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> topCommand</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> dX </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">bs</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">])</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> meX</span><span class="pun">,</span><span class="pln"> dY </span><span class="pun">=</span><span class="pln"> </span><span class="pun">((</span><span class="pln">bs</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> bs</span><span class="pun">[</span><span class="lit">3</span><span class="pun">])</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> meY</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">dX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">dY</span><span class="pun">))</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dX </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'left'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dY </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">'up'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'down'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>This bot tries to find the best area of the board and moves there. Then tries to make the best decision possible by generating a score for each possible move in that area. The best area keeps getting re-selected on some intervals and the bot moves to a new better area if needed. This bot has a few other details that I might explain later.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170927" title="short permalink to this answer" class="short-link" id="link-post-170927">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170927/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170927/revisions" title="show all edits to this post">edited <span title="2018-08-27 03:45:11Z" class="relativetime">Aug 27 at 3:45</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-20 13:41:51Z" class="relativetime">Aug 20 at 13:41</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/81663/night2"><div class="gravatar-wrapper-32"><img src="./original_files/BkwGP.png" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/81663/night2">Night2</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,609</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="11 bronze badges"><span class="badge3"></span><span class="badgecount">11</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170927" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170927" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170978"></a>
<div id="answer-170978" class="answer" data-answerid="170978" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170978">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">9</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>MC</h1>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

</span><span class="str">"use strict"</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> O </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O</span><span class="pun">;</span><span class="pln">

</span><span class="com">// console.log(this);</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> MAXBOTS </span><span class="pun">=</span><span class="pln"> </span><span class="lit">60</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> MAXSZ </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> MAXBOTS</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> MAXID </span><span class="pun">=</span><span class="pln"> MAXBOTS </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> MAXBOTS</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        alert</span><span class="pun">(</span><span class="str">"ASSERTION FAILED: MAXBOTS EXCEEDED (contact @tomsmeding)"</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> b of bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> MAXID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            alert</span><span class="pun">(</span><span class="str">"ASSERTION FAILED: MAXID EXCEEDED (contact @tomsmeding)"</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> from_base64</span><span class="pun">(</span><span class="pln">bs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">length </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Error</span><span class="pun">(</span><span class="str">"Invalid Base64 string"</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">const</span><span class="pln"> alpha </span><span class="pun">=</span><span class="pln"> </span><span class="str">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> beta </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="lit">256</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> alpha</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> beta</span><span class="pun">[</span><span class="pln">alpha</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">const</span><span class="pln"> arrbuf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayBuffer</span><span class="pun">(</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">length </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> buf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">arrbuf</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> bs</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">0</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"="</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"="</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">3</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">arrbuf</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> repeat</span><span class="pun">(</span><span class="pln">str</span><span class="pun">,</span><span class="pln"> times</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">times </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">).</span><span class="pln">join</span><span class="pun">(</span><span class="pln">str</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> println_func</span><span class="pun">(</span><span class="pln">ptr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(;</span><span class="pln"> ptr </span><span class="pun">&lt;</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> ptr</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">[</span><span class="pln">ptr</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        s </span><span class="pun">+=</span><span class="pln"> </span><span class="typ">String</span><span class="pun">.</span><span class="pln">fromCharCode</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">[</span><span class="pln">ptr</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> print_int_func</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> seed_random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">wa_rand_state</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_rand_state</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">256</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">0xff</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_myself</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_my_id</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_grid</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> W </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> H </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_width</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> W</span><span class="pun">;</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_height</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> H</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> W</span><span class="pun">;</span><span class="pln"> x</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> H</span><span class="pun">;</span><span class="pln"> y</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            O</span><span class="pun">.</span><span class="pln">wa_grid</span><span class="pun">[</span><span class="pln">W </span><span class="pun">*</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> x</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_bots</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_nbots</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_gameInfo</span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_round_idx</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_total_rounds</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> stringify</span><span class="pun">(</span><span class="pln">thing</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">isArray</span><span class="pun">(</span><span class="pln">thing</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"["</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">stringify</span><span class="pun">).</span><span class="pln">join</span><span class="pun">(</span><span class="str">","</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thing </span><span class="kwd">instanceof</span><span class="pln"> </span><span class="typ">Int8Array</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"["</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> mc_calcmove</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// console.log("mc_calcmove(" + stringify(myself) + "," + stringify(grid) + "," + stringify(bots) + "," + stringify(gameInfo) + ")");</span><span class="pln">
    transfer_myself</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">);</span><span class="pln">
    transfer_grid</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">);</span><span class="pln">
    transfer_bots</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">);</span><span class="pln">
    transfer_gameInfo</span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">][</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_mc_calcmove</span><span class="pun">()];</span><span class="pln">
    </span><span class="com">// return O.wa_mc_calcmove();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wasm_bytes </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wasm_bytes </span><span class="pun">=</span><span class="pln"> from_base64</span><span class="pun">(</span><span class="pln">
</span><span class="com">// INSERT-WASM-HERE</span><span class="pln">
</span><span class="str">"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AAC0BgAAvQYAAL8GAADIBgAAygYAACIHAAAkBwAALwcAADEHAAA6BwAAPAcAAEcHAABJBwAAUgcAAFQHAABkBwAAZgcAAG8HAABxBwAAegcAAHwHAACFBwAAhwcAAJAHAACSBwAArwcAALEHAAC6BwAAvAcAAMUHAADHBwAA0AcAANIHAADbBwAA3QcAAPUHAAD3BwAAAAgAAAIIAAALCAAADQgAABYIAAAYCAAAIQgAACMIAAAAAAAAAAAAAIcDAACLAwAAogMAANIDAAAAAAAAAAAAAD4FAACcBgAAngYAAKcGAACpBgAAsgYAALQGAAC9BgAAvwYAAMgGAADKBgAAIgcAACQHAAAvBwAAMQcAADoHAAA8BwAARwcAAEkHAABSBwAAVAcAAGMHAABmBwAAbwcAAHEHAAB6BwAAfAcAAIUHAACHBwAAkAcAAJIHAACnBwAAsQcAALoHAAC8BwAAxQcAAMcHAADQBwAA0gcAANsHAADdBwAA9AcAAPcHAAAACAAAAggAAAsIAAANCAAAFggAABgIAAAhCAAAIwgAAEUIAABWCAAA8QgAAAAJAAAHCQAAAAAAAAAAAABfBQAAmgUAAB8GAAA0BgAAngYAAKcGAACpBgAAsgYAALQGAAC9BgAAvwYAAMgGAADKBgAA2AYAACYHAAAvBwAAMQcAADoHAAA+BwAARwcAAEkHAABSBwAAVAcAAGMHAABmBwAAbwcAAHEHAAB6BwAAfAcAAIUHAACHBwAAkAcAAJIHAACgBwAAsQcAALoHAAC8BwAAxQcAAMcHAADQBwAA0gcAANsHAADdBwAA6wcAAPcHAAAACAAAAggAAAsIAAANCAAAFggAABgIAAAhCAAAIwgAADEIAAAAAAAAAAAAAF8FAACaBQAAHwYAADQGAACeBgAApwYAAKkGAACyBgAAtAYAAL0GAAC/BgAAyAYAAMoGAADYBgAAJgcAAC8HAAAxBwAAOgcAAD4HAABHBwAASQcAAFIHAABUBwAAYwcAAGYHAABvBwAAcQcAAHoHAAB8BwAAhQcAAIcHAACQBwAAkgcAAKAHAACxBwAAugcAALwHAADFBwAAxwcAANAHAADSBwAA2wcAAN0HAADrBwAA9wcAAAAIAAACCAAACwgAAA0IAAAWCAAAGAgAACEIAAAjCAAAMQgAAAAAAAAAAAAAXwUAAJoFAAAVBgAAnAYAAJ4GAACnBgAAqQYAALIGAAC0BgAAvQYAAL8GAADIBgAAygYAAOEGAAAmBwAALwcAADEHAAA6BwAAPgcAAEcHAABJBwAAUgcAAFQHAABjBwAAZgcAAG8HAABxBwAAegcAAHwHAACFBwAAhwcAAJAHAACSBwAApwcAALEHAAC6BwAAvAcAAMUHAADHBwAA0AcAANIHAADbBwAA3QcAAPQHAAD3BwAAAAgAAAIIAAALCAAADQgAABYIAAAYCAAAIQgAACMIAABFCAAAAAAAAAAAAAC2BQAA7QUAAOYGAAABBwAAHgcAACIHAAAkBwAAJgcAADwHAAA+BwAAAAAAAAAAAAC2BQAA7QUAAOYGAAABBwAAHgcAACIHAAAkBwAAJgcAADwHAAA+BwAAAAAAAAAAAABfBQAAnAYAAJ4GAACnBgAAqQYAALIGAAC0BgAAvQYAAL8GAADIBgAAygYAACIHAAAkBwAALwcAADEHAAA6BwAAPAcAAEcHAABJBwAAUgcAAFQHAABjBwAAZgcAAG8HAABxBwAAegcAAHwHAACFBwAAhwcAAJAHAACSBwAApwcAALEHAAC6BwAAvAcAAMUHAADHBwAA0AcAANIHAADbBwAA3QcAAPQHAAD3BwAAAAgAAAIIAAALCAAADQgAABYIAAAYCAAAIQgAACMIAABFCAAAVggAAOQIAAAAAAAAAAAAAF8FAACcBgAAngYAAKcGAACpBgAAsgYAALQGAAC9BgAAvwYAAMgGAADKBgAAIgcAACQHAAAvBwAAMQcAADoHAAA8BwAARwcAAEkHAABSBwAAVAcAAGMHAABmBwAAbwcAAHEHAAB6BwAAfAcAAIUHAACHBwAAkAcAAJIHAACnBwAAsQcAALoHAAC8BwAAxQcAAMcHAADQBwAA0gcAANsHAADdBwAA9AcAAPcHAAAACAAAAggAAAsIAAANCAAAFggAABgIAAAhCAAAIwgAAEUIAABWCAAA8QgAAAAAAAAAAAAAPgUAAJwGAACeBgAApwYAAKkGAACyBgAAtAYAAL0GAAC/BgAAyAYAAMoGAAAiBwAAJAcAAC8HAAAxBwAAOgcAADwHAABHBwAASQcAAFIHAABUBwAAYwcAAGYHAABvBwAAcQcAAHoHAAB8BwAAhQcAAIcHAACQBwAAkgcAAKcHAACxBwAAugcAALwHAADFBwAAxwcAANAHAADSBwAA2wcAAN0HAAD0BwAA9wcAAAAIAAACCAAACwgAAA0IAAAWCAAAGAgAACEIAAAjCAAARQgAAFYIAAAVCQAAAAAAAAAAAACfBAAAnAYAAJ4GAACnBgAAqQYAALIGAAC0BgAAvQYAAL8GAADIBgAAygYAACIHAAAkBwAALwcAADEHAAA6BwAAPAcAAEcHAABJBwAAUgcAAFQHAABjBwAAZgcAAG8HAABxBwAAegcAAHwHAACFBwAAhwcAAJAHAACSBwAApwcAALEHAAC6BwAAvAcAAMUHAADHBwAA0AcAANIHAADbBwAA3QcAAPQHAAD3BwAAAAgAAAIIAAALCAAADQgAABYIAAAYCAAAIQgAACMIAABFCAAAVggAAFQJAAAAAAAAAAAAAJ8EAACcBgAAngYAAKcGAACpBgAAsgYAALQGAAC9BgAAvwYAAMgGAADKBgAAIgcAACQHAAAvBwAAMQcAADoHAAA8BwAARwcAAEkHAABSBwAAVAcAAGMHAABmBwAAbwcAAHEHAAB6BwAAfAcAAIUHAACHBwAAkAcAAJIHAACnBwAAsQcAALoHAAC8BwAAxQcAAMcHAADQBwAA0gcAANsHAADdBwAA9AcAAPcHAAAACAAAAggAAAsIAAANCAAAFggAABgIAAAhCAAAIwgAAEUIAABWCAAAYQkAAAAAAAAAAAAARgIAAF4CAABiAgAAhAIAAIYCAACcBgAAngYAAKcGAACpBgAAsgYAALQGAAC9BgAAvwYAAMgGAADKBgAAIgcAACQHAAAvBwAAMQcAADoHAAA8BwAARwcAAEkHAABSBwAAVAcAAGMHAABmBwAAbwcAAHEHAAB6BwAAfAcAAIUHAACHBwAAkAcAAJIHAACnBwAAsQcAALoHAAC8BwAAxQcAAMcHAADQBwAA0gcAANsHAADdBwAA9AcAAPcHAAAACAAAAggAAAsIAAANCAAAFggAABgIAAAhCAAAIwgAAEUIAABWCAAAeQkAAAAAAAAAAAAAgQEAAIYBAACpAQAAXgIAAGICAACEAgAAhgIAAJwGAACeBgAApwYAAKkGAACyBgAAtAYAAL0GAAC/BgAAyAYAAMoGAAAiBwAAJAcAAC8HAAAxBwAAOgcAADwHAABHBwAASQcAAFIHAABUBwAAYwcAAGYHAABvBwAAcQcAAHoHAAB8BwAAhQcAAIcHAACQBwAAkgcAAKcHAACxBwAAugcAALwHAADFBwAAxwcAANAHAADSBwAA2wcAAN0HAAD0BwAA9wcAAAAIAAACCAAACwgAAA0IAAAWCAAAGAgAACEIAAAjCAAARQgAAFYIAACGCQAAAAAAAAAAAACgCQAAEgoAAB8KAAAmCgAAAAAAAAAAAACgCQAAEgoAAB8KAAAmCgAAAAAAAAAAAAAAEA4uZGVidWdfbWFjaW5mbwAAnQ0LLmRlYnVnX2xpbmWNBgAABAAeAAAAAQEB+w4NAAEBAQEAAAABAAABAG1haW4uYwAAAAAAAAUCAwAAAAONBAEFBgoIrQUBAxoIugYD13vyBQYGA48EIAUDAxUIEtcFAWoGA9d78gUKBgP8AyAvxwgUxjHFMsQzwzQDesg1A3nINgUBAyXIBQoDU8gFAQMtZgYD13sgBRYGA6IDIAUABgPefKwFFgOiA0oFFOQFAiAD3nxKBRIGA6MDugUPBkoFElgFByAFFAYtBR4GdAUUWAUCWAUAA958PAUCBgOxAwhYBRYDcVgFAgMPAiMBBgPPfFgDsQMCQgEFIgYCVhYFIAYISgUWBgNtPAUKAxVKBQ4GIAPJfC4FLQO3A+QFHVgFFgYDa6wFHQMVLgYDyXw8BQIGA+AAdAYDoH9KBQwGA+EAggUOBroFDLoFFAY7BQIGugYIGAULSwUNBroFC7oFHAY7BSIGLgUcWAUCPAOaf0oGA+AAdAYDoH9KBQwGA+EAggUOBroFDLoFFAY7BQIGugYIGAULSwUNBroFC7oFHAY7BSIGLgUcWAUCPAUSBgPbAkpzBQAGA8B8dAUiBgOHAUoFKwaQBS9YBSI8BQYGA3ZmBQAGA4N/WAURBgP+AEoFGgYIPAUCWAUAA4J/PAUCA/4ASgOCf3QFFAYDhwFYBQIDWXQGA6B/ZgUMBgPhAAhKBQ4GSgUMWAUUBjsFAgYILgZsBgOaf2YFCwYD5wC6BQ0GSgULWAUcBjsFAgYILgUAA5p/ngUCBgOTA6wGA+18LgUGBgOUA/IFCQZKBRGsBQYgBRgGOwUCBroD7XxmBgPgAEoGA6B/ggUMBgPhAAhKBQ4GSgUMWAUUBjsFAgYILgZsBgOaf2YFCwYD5wC6BQ0GSgULWAUcBjsFAgYILgUKBgPsAmYGA658dAUuBgPrAgjWBRQGkAOVffIFEgYD7AIgBQsDxX10BRdqBQuMMY0FNQYuBQuQBSAuBQuQA0+sBQkGAzMIrAUECEcFCTsFBAZYBj8FCToFBFsFFz4FCwZ0BREGA74CWAUWBjwDjX08BRsGA/QCAiIBBQkDv32eBQQdBQk7BQQGWAY/BQk6BQRbBRsDwQIgBQ3lBRIGPAUWIAUEBloFFwiiBREGWAOFfXQFGQYD+QIgBRcGLgUZWAURPAOHfUoFFwYD+gIgBREGWAOGfXQFGQYD+AIgBRcGLgUZWAUWBgMqWAUgA499LgUWA/ECkAULA499LgUWA/ECkAU1A499LgUWA/ECkAULA5J9LgUWA+4CkAUXA5N9LgUtA8MC1gYDiH2QBQkGAy9YBQQGWAUJBnUFBAYgBj4FCT0FBAZYBRYGA8ACPAUDBgiCA419LgUoBgMtLgUWA/UCSgUoA4t9LgUgMgUWA/ECkAULA499LgUWA/ECkAUoA4t9LgU1MgUWA/ECkAULA5J9LgUWA+4CkAUXA5N9LgYDS+QFFgYDogMgBSADj30uBRYD8QKQBQsDj30uBRYD8QKQBTUDj30uBRYD8QKQBQsDkn0uBRYD7gKQBRcDk30uBSUDxQLWBgOGfXQFFgYDogOCBSADj30uBRYD8QKQBQsDj30uBRYD8QKQBTUDj30uBRYD8QKQBQsDkn0uBRYD7gKQBRcDk30uBS4DxALWBgOHfZAFFgYDogMgBSADj30uBRYD8QKQBQsDj30uBRYD8QKQBTUDj30uBRYD8QKQBQsDkn0uBRYD7gKQBRcDk30uBSUDxgLWBgOFfXQFEAYD/gJmBQAGA4J9dAUlBgOFAwgSBRRzBRmcBSEGLgUZWAUrIAUjWAUUBiIFAAYD/HzIBREGA/4ASgUaBgg8BQJYBQADgn88BQID/gBKA4J/dAUUBgOHAboFAwOAAnQFJQaCBSMGWgUcKQUjXQUdHQUVWwUhOgUeA2t0BRQGWAUCWAUfBgPiADwFGAaQA6x8WAUSBgPsAiAFHwPoAHQFGAaQBQQgBRYGTgUEBnQDqHwuBQUGA9kDSgUgBoIFBVgFGjwFGMgFFgY7BQQGugUyBgNxZgUjBp4Dt3w8BQcGA+EDIAUNBkoFB1gDn3zWBRoGA7EDIAUUBpADz3w8BQ8GA+cDIAYDmXx0BQEGA6kEIAYD13vyBRIGAy4gBSIxBRKNBTtNBTUGdAUSBo0FIMsFEo0FF1EFEgN5CEoFBDIrBQkGLgUEWAUJBlkFBAYgBj4FCSEFBAZYBQsGIQUBA/UDkAULA4x8yAUkA7IDdAUBA8IAIAIBAAEBANEDB2xpbmtpbmcBCOCBgIAAFgAAAghlbnRyeV9mbgIQAAECBi5MLnN0cgEAAQAQAAAQAQEABmhlaWdodAMABAEABHB0cnMAACQBAAV3aWR0aAIABAEABW5ib3RzBAAEAQAJcm91bmRfaWR4BQAEAQAMdG90YWxfcm91bmRzBgAEAQAFbXlfaWQHAAQBAARncmlkCACQ/QEBAARib3RzCQC0AQEACnJhbmRfc3RhdGUKABQBAhIuTG1jX2NhbGNtb3ZlLmR4ZXMLABQBAhIuTG1jX2NhbGNtb3ZlLmR5ZXMMABQDAgUDAgYDAgcDAgkDAgsF3IGAgAANCS5ic3MucHRycxAADi5yb2RhdGEuLkwuc3RyAQAKLmJzcy53aWR0aAQACy5ic3MuaGVpZ2h0BAAKLmJzcy5uYm90cwQADi5ic3Mucm91bmRfaWR4BAARLmJzcy50b3RhbF9yb3VuZHMEAAouYnNzLm15X2lkBAAJLmJzcy5ncmlkEAAJLmJzcy5ib3RzEAAPLmJzcy5yYW5kX3N0YXRlEAAaLnJvZGF0YS4uTG1jX2NhbGNtb3ZlLmR4ZXMQABoucm9kYXRhLi5MbWNfY2FsY21vdmUuZHllcxAAAI0DCnJlbG9jLkNPREUDUAcJAQcWAQdEAQRfAgAAZQMAbQQHegEEhgEFAAONAQYEBJUBBwADnAEGAASkAQgAA6sBBggEswEJAAO6AQYMBMIBCgADyQEGEATRAQsAA9gBBhQE4AEMAAPnAQYYBO8BDQAD9gEGHAT+AQ4AA4UCBiAHkgIBBJgCBgADowILAAO0AggABMcCDQADjQMFAAOYAwcABI0EDQIEmwQNAQTVBA8ABOsEEAAErgUMAATqBQwABKYGDQAE4gYNAAPqCg4QA/UKDgADgAsOBAOLCw4IA5YLDgwDpQ0OCAOwDQ4MA7sNDgQDxg0OAAPWDQ4QA60ODggDuA4ODAPFDg4EA9AODgAD2w4OEAPtDg4IA/gODgwDgw8OBAOODw4AA54PDhADuA8OCAPDDw4MA84PDgQD2Q8OAAPpDw4QA/4PDggDiRAODAOUEA4EA58QDgADrxAOEAeaEwEDpxMOBAO0Ew4AA70TDgQDxhMODAPTEw4IA94TDhAD7BMOEAOQFA4AB50UAQDPBxFyZWxvYy4uZGVidWdfaW5mbwilAQkGEwAJDBEACRIRpQEJFhUACRoRrAEIHgAACScRxwEFMwYACUURzAEJTBHgAQVYBwAJXRHmAQlkEeoBBXAFAAl1EfEBBYEBCAAJhgER9wEFkgEJAAmXARGBAgWjAQoACagBEY4CBbQBCwAJuQERlAIFxQEMAAnbARGnAgniARGZAgnpARGvAgX1AQ0ACYYCEbsCCY4CEbQCCZoCEbcCCaYCEbkCCbMCEb8CBb8CDgAJ1AIR1wIJ2wIRygIJ6wIR9wIJ8gIR4AIJkgMRgAMJmwMRjgMJqAMRmgMJtAMRoAMJwAMRpgMJzAMRrAMJ2AMRsgMJ5AMRuAMJ8AMRwQMJ/AMRxwMJiAQRzAMJlQQR0QMJowQR0QMJsAQR0wMJvAQR1gMJyAQR2QMJ1AQR5AMJ4QQR6gMJ7gQR8wMJ+gQR/AMJhwURiQQJlQURjAQJxQURjgQJzQURlwQJ2AURnAQJ4wURoQQJ7gURowQJ+QURqAQJhAYRrgQJjwYRtAQJmwYR0QMJqAYR0QMJuwYRuQQJxwYRxQQJ0gYRtAIJ3gYRywQJ5gYR0QQJ8QYRtwIJ/AYRuQIJhwcRtAIJkwcR1AQJoAcR0QQJrAcRtAIJuAcR4gQJxQcR5QQJ0wcR6QQJ3AcR0QQJ6AcR+AQJ9AcRsgMJgAgR+wQJjAgRhwUJmAgR/AMJpAgRkwUJsAgRnwUJvAgRqAUJyAgRuwUJ1QgR0QMJ4wgR0QMJ8AgR5QQJ/AgRzQUJiAkR3QUJlQkR6AUJuwkR1wUJwgkR7AUJzgkR8wUJ2QkR+QUJ5AkR+wUJ9QkR/QUIgQoAAAmJChGCBgmVChGLBgmlChQACbEKFBgJ3woSAAnoChIqCfEKEj8J+goUwAAJ/woSFQmJCxSIFQmOCxLUAAmXCxSYEwmrCxLSAQi4CwCQBQjJCwCQBQnSCxLpAAjcCwDUBQjwCwCIBgiLDACIBgmUDBL+AAieDADMBgiyDACHBwnRDBS4AgjjDADeBwj0DADeBwn9DBKTAQiHDQCeCAibDQDZCAmnDRKoAQiwDQDZCAm5DRK9AQnEDRS4EQnJDRLnAQnSDRTYDwnfDRL8AQjsDQCfCQj9DQCfCQmGDhKRAgiQDgDhCQmgDhT4DQmlDhKmAgmyDhTQAgjYDgC+CgnhDhK7AgnrDhSYDAnwDhLQAgn5DhS4CgmDDxT4BwmRDxS4BAmdDxSYBgm1DxTYCQnBDxSICgjYDwCCEQj3DwCCEQiSEACVEgmbEBLyAgmtEBSAFwm5EBSYFwAYEXJlbG9jLi5kZWJ1Z19saW5lCwEIKwAA"</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">

    </span><span class="com">// require("fs").writeFileSync("reverse-base64-output.txt", Buffer.from(O.wasm_bytes));</span><span class="pln">

    O</span><span class="pun">.</span><span class="pln">memory </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="typ">Memory</span><span class="pun">({</span><span class="pln">initial</span><span class="pun">:</span><span class="pln"> </span><span class="lit">15</span><span class="pun">});</span><span class="pln">
    </span><span class="com">// O.importObject = {js: {mem: O.memory}, env: {println: println_func}};</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">importObject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        env</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            println</span><span class="pun">:</span><span class="pln"> println_func</span><span class="pun">,</span><span class="pln">
            print_int</span><span class="pun">:</span><span class="pln"> print_int_func</span><span class="pun">,</span><span class="pln">
            __linear_memory</span><span class="pun">:</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">,</span><span class="pln">
            __indirect_function_table</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="typ">Table</span><span class="pun">({</span><span class="pln">initial</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">:</span><span class="pln"> </span><span class="str">"anyfunc"</span><span class="pun">}),</span><span class="pln">
        </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="com">// let wa_membuf, wa_width, wa_height, wa_nbots, wa_round_idx, wa_total_rounds, wa_my_id, wa_grid, wa_bots, wa_rand_state;</span><span class="pln">

    </span><span class="com">/*const promise = fetch('../out/main.wasm').then(response =&gt;
        response.arrayBuffer()
    ).then(bytes =&gt;
        WebAssembly.instantiate(bytes, O.importObject)
    );*/</span><span class="pln">
    </span><span class="com">// const promise = WebAssembly.instantiate(fs.readFileSync("hotpatcher/out.wasm"), O.importObject);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wasm_bytes</span><span class="pun">,</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">importObject</span><span class="pun">);</span><span class="pln">

    promise</span><span class="pun">.</span><span class="pln">then</span><span class="pun">(</span><span class="pln">results </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> instance </span><span class="pun">=</span><span class="pln"> results</span><span class="pun">.</span><span class="pln">instance</span><span class="pun">;</span><span class="pln">

        </span><span class="com">// console.log(instance.exports);</span><span class="pln">

        </span><span class="com">// First set some pointers</span><span class="pln">
        instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_membuf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> ptrs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_width </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_height </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_nbots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_round_idx </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">3</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_total_rounds </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">4</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_my_id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">5</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_grid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">6</span><span class="pun">],</span><span class="pln"> MAXSZ </span><span class="pun">*</span><span class="pln"> MAXSZ</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">7</span><span class="pun">],</span><span class="pln"> MAXBOTS </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_rand_state </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">8</span><span class="pun">],</span><span class="pln"> </span><span class="lit">5</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_mc_calcmove </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

        seed_random</span><span class="pun">();</span><span class="pln">

        </span><span class="com">// Signal that we're done setting up, and the wasm code can set itself up</span><span class="pln">
        instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">instantiated </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"MC: Instantiated!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}).</span><span class="kwd">catch</span><span class="pun">(</span><span class="pln">console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">instantiated</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// const start = new Date();</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> output </span><span class="pun">=</span><span class="pln"> mc_calcmove</span><span class="pun">();</span><span class="pln">
        </span><span class="com">// const end = new Date();</span><span class="pln">


        </span><span class="com">// if (O.time_sum == null) O.time_sum = 0;</span><span class="pln">
        </span><span class="com">// O.time_sum += end - start;</span><span class="pln">

        </span><span class="com">// if (gameInfo[0] % 50 == 0) {</span><span class="pln">
        </span><span class="com">//     console.log("Average time taken: " + O.time_sum / (gameInfo[0] - 1));</span><span class="pln">
        </span><span class="com">// }</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> output</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Error</span><span class="pun">(</span><span class="str">"SCREAM FIRE wasm instantiation"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"MC: RANDOM MOVE BEFORE INSTANTIATE"</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>

<p>Monte Carlo bot. For each of the five possible moves, it does 100 random playouts, where a "playout" here is 5 random moves from everybody. Only 5 because stuff is unpredictable anyway. At the end of each playout, the bot's score is calculated. The move with the best playout results is taken.</p>

<p>This bot is coded in WebAssembly. See <a href="https://codegolf.stackexchange.com/a/171243/6689">my P bot</a> for a description.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170978" title="short permalink to this answer" class="short-link" id="link-post-170978">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170978/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170978/revisions" title="show all edits to this post">edited <span title="2018-08-28 10:35:02Z" class="relativetime">2 days ago</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-21 12:18:50Z" class="relativetime">Aug 21 at 12:18</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding"><div class="gravatar-wrapper-32"><img src="./original_files/ae275ae74371f0f24d369948a12ac197.jpeg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding">tomsmeding</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,809</span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="18 bronze badges"><span class="badge3"></span><span class="badgecount">18</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170978" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170978" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171125"></a>
<div id="answer-171125" class="answer" data-answerid="171125" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171125">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">9</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Leonardo da Pixli</h2>

<pre><code>function(myself, grid, bots, gameInfo) {
    var ME = this;
    var w='up',a='left',s='down',d='right';
    var ps = [
        [
            // Castlevania Simon Belmont
            16,30,0,11,
            [s,s,d,s,d,d,w,w,d,d,s,a,s,d,d,s,d,s,s,a,s,a,a,s,a,s,s,a,s,s,s,s,s,s,s,a,a,s,s,d,w,d,s,d,d,d,w,w,a,s,a,w,w,d,w,d,w,a,a,s,w,w,w,d,s,d,w,w,a,d,d,w,d,w,d,s,d,s,s,d,s,d,s,d,s,s,s,s,a,s,d,d,d,d,w,a,a,w,d,d,w,a,a,w,d,d,w,a,a,w,d,a,w,a,s,a,w,w,a,d,d,w,w,w,w,a,a,a,a,s,a,w,w,d,d,d,d,d,d,s,w,w,a,a,a,a,a,w,d,d,d,d,w,a,a,a,a,a,a,w,d,d,d,d,d,d,d,w,a,a,a,a,a,a,w,d,d,d,d,d,d,d,d,w,w,s,s,a,a,w,a,a,a,a,a,a,w,w,a,s,a,a,s,a,a,a,d,d,s,d,w,w,d,d,d,d,d,d,d,d,w,d,d,a,w,w,a,s,a,s,a,a,a,w,a,w,d,d,s,d,w,d,w,d,a,a,a,a,a,s,a,a,s,a,a,w,w,w,d,a,w,w,d,w,d,s,d,s,s,d,d,d,w,a,a,w,d,a,w,a]
        ],
        [
            // Final Fantasy White Mage
            17,25,2,10,
            [a,w,a,w,w,w,d,w,d,w,d,w,d,d,w,d,d,w,d,d,d,w,d,d,d,d,d,s,d,s,s,s,s,s,a,a,w,a,w,s,d,s,d,s,s,s,s,a,s,s,a,d,s,d,s,d,s,s,s,s,s,s,s,s,s,a,s,a,a,w,w,s,a,s,a,a,w,w,w,s,a,s,a,w,s,s,a,a,w,s,a,a,w,a,s,w,a,w,w,d,a,a,w,w,w,d,s,w,d,d,d,s,d,s,d,s,w,w,d,a,a,a,w,w,d,w,d,a,a,w,w,d,d,d,w,d,s,d,d,d,s,d,s,s,w,w,a,w,a,a,a,a,a,a,a,s,a,a,a,s,a,s,w,w,w,w,d,w,d,d,w,w,w,d,d,s,s,w,w,d,d,d,d,s,s,s,w,w,d,w,a,w,a,w,a,w,a,s,s,d,a,a,w,w,a,s,a,w,a,s,a,s,d,d,s,a,d,s,s,a]
        ],
        [
            // Megaman
            21,24,11,0,
            [d,s,d,s,s,d,d,s,d,s,s,s,s,w,w,w,w,a,a,s,s,s,w,w,a,a,s,s,a,w,d,w,w,a,w,w,a,w,a,a,s,a,s,d,d,w,s,d,s,a,a,a,a,s,d,d,a,s,a,d,s,s,s,d,a,a,a,s,a,a,s,s,a,s,s,s,d,d,w,a,w,w,d,w,d,s,w,d,w,d,s,d,d,d,d,d,d,d,w,w,a,a,a,a,d,d,d,d,s,d,d,d,s,s,d,s,s,s,a,a,w,d,w,w,a,w,a,s,w,a,a,s,a,a,a,a,a,a,s,d,d,d,d,d,d,s,a,a,a,a,a,a,s,d,d,d,d,d,d,s,a,a,a,a,a,a,s,a,s,a,s,d,s,a,a,a,s,a,a,d,d,d,d,d,d,w,w,w,d,s,w,w,d,s,w,d,d,s,d,s,d,s,s,d,d,d,d,d,d,a,a,w,a,a,a,w,d,w,a,w,a,s,a,w]
        ],
        [
            // Mario mushroom
            16,16,7,0,
            [a,s,a,a,s,a,s,a,s,s,a,s,s,s,s,s,s,d,s,d,s,s,d,s,d,d,d,d,d,d,d,d,d,w,d,w,w,d,w,d,w,w,w,w,w,w,a,w,w,a,w,a,w,a,a,w,a,a,a,s,d,s,a,s,d,d,s,a,a,a,w,s,a,a,a,w,s,d,s,d,a,s,s,s,a,s,a,a,s,d,s,d,w,d,w,d,s,d,s,s,w,w,d,d,d,s,s,w,w,d,w,d,s,d,s,d,w,d,w,a,a,w,a,w,w,w,a,w,d,d,w]
        ],
        [
            // Mario Bullet Bill
            16,14,15,0,
            [a,a,s,a,s,s,d,d,w,d,s,s,s,s,s,s,s,s,s,s,s,a,w,w,w,w,w,w,w,w,w,a,s,s,s,s,s,s,s,s,a,w,w,w,w,w,w,a,w,d,w,a,w,w,a,s,s,s,a,w,w,w,a,s,s,s,s,s,w,a,w,w,w,w,s,a,a,s,d,s,s,a,w,s,s,a,w,s,s,s,s,d,s,d,d,d,d,w,d,d,w,s,s,s,s,a,w,w,a,s,s,a,w,a,s,a,w,a,a,w,a,w,w,w,w,a,s,s,s,s,w,a,w,w,w,a,s,w,w,w,w,d,d,s,w,w,a,d,d,w,a,d,d,w,d,s,w,d,w,d,d,d,d,d]
        ],
        [
            // Pac-Man Ghost
            14,14,2,6,
            [w,a,s,a,s,d,s,a,s,d,s,a,s,d,s,a,s,w,w,d,d,w,w,w,d,s,s,s,s,d,s,d,w,w,a,w,d,w,a,w,d,w,a,d,w,w,w,w,a,w,a,a,a,s,w,d,d,w,d,d,s,w,w,d,s,s,s,s,s,s,s,s,s,s,s,d,w,w,w,w,w,w,d,s,a,s,s,d,s,s,s,s,s,d,w,w,w,w,w,d,s,s,s,s,w,d,d,s,d,s,w,w,w,a,a,w,d,d,w,a,a,a,w,d,d,d,w,a,a,w,d,w,a,w,d,a,w,a,s,w,w,a,s,a,w,w,a,s,s,s,w]
        ],
        [
            // Mario Goomba's shoe
            16,27,2,11,
            [a,s,s,s,s,d,a,a,s,s,s,s,s,s,s,s,d,d,d,w,w,w,a,d,d,w,s,a,s,s,s,a,a,a,s,d,s,d,s,d,d,d,d,d,d,d,d,d,d,d,d,w,d,w,w,w,w,w,a,w,a,a,a,a,a,s,w,d,d,d,w,w,w,a,a,a,a,a,a,a,a,a,s,s,a,d,w,w,d,d,d,d,d,d,d,d,d,d,w,w,w,w,a,w,d,w,d,w,w,w,a,a,a,w,w,d,d,w,d,a,w,a,s,a,w,a,s,a,s,s,s,w,w,w,a,a,a,s,a,d,w,d,d,w,d,d,w,w,w,a,a,a,a,s,a,a,s,a,s,a,s,s,s,d,d,d,s,s,d,a,s,w,a,w,w,a,a,a,s,s,s,s,d,s,d,d,d,d,d,w,d,w,s,s,d,w,s,d,d]
        ],
        [
            // Zelda Triforce
            20,20,5,10,
            [a,s,d,s,d,s,a,a,w,a,s,s,a,s,d,d,w,d,s,d,w,d,s,s,d,s,a,a,w,a,s,a,w,a,s,a,w,a,s,s,a,s,d,d,w,d,s,d,w,d,s,d,w,d,s,d,w,d,s,d,w,d,s,d,w,d,s,d,w,d,s,d,w,d,s,d,d,w,a,w,w,a,s,a,w,a,s,a,w,a,s,a,a,w,d,w,w,d,s,d,w,d,s,d,d,w,a,w,w,a,s,a,a,w,d,w,d,w,a,w,w,a,s,a,w,a,s,a,w,a,s,a,w,a,s,a,a,w,d,w,w,d,s,d,w,d,s,d,w,d,s,d,d,w,a,w,w,a,s,a,w,a,s,a,a,w,d,w,w,d,s,d,d,w,a,w,w,a,s]
        ],
        [
            // Final Fantasy Black Mage
            18,26,4,8,
            [a,a,a,w,a,w,w,d,d,d,d,d,d,w,d,d,w,d,d,w,d,w,d,d,w,d,d,d,s,s,s,a,s,s,a,s,s,s,a,d,s,d,s,d,s,d,s,s,a,a,s,s,a,d,s,s,s,s,s,a,s,s,d,s,d,s,s,a,a,a,a,w,w,d,a,s,a,w,a,a,w,w,w,a,a,a,d,d,w,w,w,a,a,d,w,d,d,w,d,d,a,a,s,a,s,s,s,s,d,s,s,s,d,d,s,s,a,a,a,a,a,a,a,a,a,a,a,w,w,d,w,w,w,w,w,d,d,s,s,d,s,d,s,s,d,d,a,a,w,w,a,w,a,w,w,w,w,s,s,a,a,a,w,w,w,d,d,a,w,w,w,d,w,d,d,w,w,d,d,d,s,a,s,s,a,a,s,a,d,d,s,d,w,d,s,w,d,w,w,w,d,s,s,s,d,w,w,w,s,d,s,s,d,w,w,s,s,d,w,d]
        ],
        [
            // Final Fantasy Fighter
            18,26,4,7,
            [a,w,s,a,s,w,a,w,w,d,w,w,a,w,d,w,d,s,w,w,s,d,d,w,s,d,d,w,d,d,d,d,d,d,d,s,d,s,a,a,d,d,d,s,d,a,s,a,d,s,s,d,a,s,a,d,s,s,a,s,a,a,w,w,w,a,a,a,s,s,w,a,w,w,a,a,s,a,a,d,s,s,w,w,a,a,s,s,s,a,d,s,s,d,s,d,d,d,d,w,d,s,w,w,d,w,d,d,d,d,s,d,s,d,s,a,s,a,w,a,a,a,a,s,s,d,d,s,d,s,d,d,w,w,s,s,a,s,a,a,a,w,s,a,a,a,a,w,w,w,d,w,d,w,a,a,a,s,a,w,a,w,a,a,a,w,s,a,d,s,d,s,d,s,w,a,w,a,a,s,s,s,d,d,a,a,a,s,s,s,d,d,d,d,w,w,d,s,w,w,d,d,a,a,s,s,d,s,d,d,d,d,d,s,d,s,s,s,s,a,s,a,a,a,a,a,w,a,d,w,w,w,w,s,d,d,d,d,d]
        ],
        [
            // Final Fantasy Chocobo
            12,16,11,0,
            [a,a,a,a,a,a,a,a,s,s,s,d,s,a,w,w,w,a,a,s,a,s,s,s,s,s,d,d,w,d,d,d,d,a,s,a,s,a,s,a,s,d,s,d,s,d,s,d,s,s,a,d,d,w,d,s,d,d,d,a,w,a,a,w,d,w,d,d,w,d,w,d,w,d,w,d,a,w,w,d,a,w,s,a,s,a,d,s,a,a,a,s,a,a,s,w,w,w,w,w,d,w,w,a,d,w,d,s,w,d,w,d]
        ],
        [
            // Pac-Man Ghost (scared)
            14,14,0,6,
            [s,s,d,s,a,s,s,s,s,w,d,w,d,w,d,s,s,d,s,d,w,w,a,d,d,w,d,s,d,s,s,d,w,w,d,s,w,w,d,s,d,s,d,s,w,w,w,w,w,w,w,a,s,s,s,w,a,a,a,s,a,w,a,a,a,s,a,w,a,a,w,a,w,w,w,w,d,w,d,w,d,d,w,d,s,s,a,a,s,d,s,a,a,w,s,a,s,s,d,w,s,s,d,d,d,d,d,d,d,d,w,a,w,d,d,w,w,a,s,a,w,w,d,a,w,a,a,w,a,s,s,d,d,s,s,a,w,a,a,s,d,s,a,s,d,s]
        ],
        [
            // Pokemon Pokeball
            14,14,5,0,
            [d,d,d,s,d,d,s,d,s,d,s,s,d,s,s,a,w,a,s,a,a,d,w,w,a,d,d,w,a,w,a,s,a,w,w,d,a,a,s,a,w,w,d,a,a,a,a,s,a,s,a,d,d,d,w,d,s,s,a,a,a,a,s,a,s,d,d,w,d,d,a,s,s,d,d,s,s,d,d,d,w,w,w,a,a,a,s,a,a,a,a,a,s,s,d,s,s,d,s,d,d,s,d,d,d,d,d,w,d,d,w,d,w,w,d,w]
        ]
    ];
    if(ME.c === undefined){
        ME.c = 9999;
        ME.t = [];
        ME.n = Math.floor(Math.random()*Math.floor(ps.length));
    }
    if(gameInfo[0] == 1 &amp;&amp; myself[1] &lt; grid.length-ps[ME.n][0]+ps[ME.n][2] &amp;&amp; myself[1] &gt; ps[ME.n][2] &amp;&amp; myself[2] &lt; grid.length-ps[ME.n][1]+ps[ME.n][3] &amp;&amp; myself[2] &gt; ps[ME.n][3]){
        ME.c = 0;
    }
    if(ps[ME.n][4][ME.c] !== undefined){
        return ps[ME.n][4][ME.c++];
    }
    else if(ME.c &lt; 9999){
        ME.c = 9999;
        ME.n = Math.floor(Math.random()*Math.floor(ps.length));
    }
    if(ME.t.length == 0){
        var rand = [
                [parseInt(Math.random()*(grid.length-ps[ME.n][0]))+ps[ME.n][2],parseInt(Math.random()*(grid.length-ps[ME.n][1]))+ps[ME.n][3]],
                [parseInt(Math.random()*(grid.length-ps[ME.n][0]))+ps[ME.n][2],parseInt(Math.random()*(grid.length-ps[ME.n][1]))+ps[ME.n][3]],
                [parseInt(Math.random()*(grid.length-ps[ME.n][0]))+ps[ME.n][2],parseInt(Math.random()*(grid.length-ps[ME.n][1]))+ps[ME.n][3]]
            ],
            colorable = [0,0,0],
            i, j, k;
        for(i=0;i&lt;rand.length;i++){
            for(j=rand[i][0]-ps[ME.n][2];j&lt;rand[i][0]-ps[ME.n][2]+ps[ME.n][0];j++){
                for(k=rand[i][1]-ps[ME.n][3];k&lt;rand[i][1]-ps[ME.n][2]+ps[ME.n][1];k++){
                    if(grid[j][k] == 0 || (grid[j][k] != myself[0] &amp;&amp; grid[j][k]%3 == 0)){
                        colorable[i]++;
                    }
                }
            }
        }
        if(colorable[0] &gt;= colorable[1] &amp;&amp; colorable[0] &gt;= colorable[2]){
            ME.t = [rand[0][0],rand[0][1]];
        }
        else if(colorable[1] &gt;= colorable[2]){
            ME.t = [rand[1][0],rand[1][1]];
        }
        else{
            ME.t = [rand[2][0],rand[2][1]];
        }
    }
    if(ME.t[0] &gt; myself[1]){
        return 'right';
    }
    else if(ME.t[0] &lt; myself[1]){
        return 'left';
    }
    else if(ME.t[1] &gt; myself[2]){
        return 'down';
    }
    else if(ME.t[1] &lt; myself[2]){
        return 'up';
    }
    else{
        ME.t = [];
        ME.c = 0;
    }
}
</code></pre>

<p>Has a list of (pixelated) paintings it likes to paint; picks one at random along with a random canvas/placement and paints. It seems to have issues with its paint, however, as sometimes the paint cleans the canvas, and other times it doesn't seem to stick to the canvas at all. The painter bot is unfazed by this, however.</p>

<h3>Update 25-Aug-2018:</h3>

<ul>
<li>New pictures</li>
<li>Wants his pictures seen so tries to pick better placement for them</li>
</ul>

<h3>Update 29-Aug-2018:</h3>

<ul>
<li>New Pictures + Updates to old ones</li>
</ul>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171125" title="short permalink to this answer" class="short-link" id="link-post-171125">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171125/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171125/revisions" title="show all edits to this post">edited <span title="2018-08-29 07:22:00Z" class="relativetime">yesterday</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-24 08:20:31Z" class="relativetime">Aug 24 at 8:20</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/75557/jo"><div class="gravatar-wrapper-32"><img src="./original_files/bae6b01208b173a0809899cf17784b58" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/75557/jo">Jo.</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">684</span><span title="9 bronze badges"><span class="badge3"></span><span class="badgecount">9</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171125" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413097" class="comment js-comment " data-comment-id="413097">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">This is beautiful :D</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413097_171125"><span title="2018-08-24 12:32:21Z" class="relativetime-clean">Aug 24 at 12:32</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171125" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170926"></a>
<div id="answer-170926" class="answer" data-answerid="170926" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170926">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">8</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Random Filler</h2>

<pre><code>function([id, x, y], grid, bots, gameInfo) {
    let painted = {
        false: {
            un: [],
            other: [],
            me: [],
        },
        true: {
            un: [],
            other: [],
            me: [],
        },
    };
    let moves = {
        left: {x: x - 1, y},
        up: {x, y: y - 1},
        right: {x: x + 1, y},
        down: {x, y: y + 1},
        wait: {x, y},
    };
    let isbot = m =&gt; bots.some(([, x, y]) =&gt; m.x == x &amp;&amp; m.y == y);
    let whose = n =&gt; n ? n == id || Math.abs(id - n) % 3 &gt; 1 ? "me" : "other" : "un";
    for (let dir in moves) {
        let move = moves[dir];
        if (move.x &gt;= 0 &amp;&amp; move.x &lt; grid.length &amp;&amp; move.y &gt;= 0 &amp;&amp; move.y &lt; grid.length)
            painted[isbot(move)][whose(grid[move.x][move.y])].push(dir);
    }
    choices = [painted.false.un, painted.false.other, painted.true.un, painted.true.other, painted.false.me, painted.true.me].find(choices =&gt; choices.length);
    let move = choices[Math.random() * choices.length | 0];
    return move;
}
</code></pre>

<p>Randomly walks with a preference for moving to unpainted squares, then squares it can repaint (twice if necessary), then any square. Edit: Updated to prefer squares that don't already contain a bot (including itself), except that squares with a bot are currently preferred to squares it can't paint.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170926" title="short permalink to this answer" class="short-link" id="link-post-170926">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170926/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170926/revisions" title="show all edits to this post">edited <span title="2018-08-21 09:51:06Z" class="relativetime">Aug 21 at 9:51</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 13:33:09Z" class="relativetime">Aug 20 at 13:33</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/17602/neil"><div class="gravatar-wrapper-32"><img src="./original_files/4538cb9de4914a875d13da50c7c406ad" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/17602/neil">Neil</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 74,562" dir="ltr">74.6k</span><span title="7 gold badges"><span class="badge1"></span><span class="badgecount">7</span></span><span title="44 silver badges"><span class="badge2"></span><span class="badgecount">44</span></span><span title="169 bronze badges"><span class="badge3"></span><span class="badgecount">169</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170926" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412527" class="comment js-comment " data-comment-id="412527">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">So your bot is pretty much a straight upgrade to the one I posted a few seconds before?</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/77759/adyrem" title="461 reputation" class="comment-user">Adyrem</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412527_170926"><span title="2018-08-20 13:36:41Z" class="relativetime-clean">Aug 20 at 13:36</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412533" class="comment js-comment " data-comment-id="412533">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="warm">5</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@Adyrem Great minds think alike?</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/17602/neil" title="74,562 reputation" class="comment-user">Neil</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412533_170926"><span title="2018-08-20 14:53:29Z" class="relativetime-clean">Aug 20 at 14:53</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170926" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170922"></a>
<div id="answer-170922" class="answer" data-answerid="170922" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170922">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">6</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Borderline</h1>

<pre><code>function(myself, grid, bots, gameInfo) {
    // Check if already on border
    if (myself[1] == 0 || myself[1] == grid.length-1 || myself[2] == 0 || myself[2] == grid.length-1) {
        // Move anticlockwise around the border
        if (myself[1] == 0 &amp;&amp; myself[2] != 0 &amp;&amp; myself[2] != grid.length-1) {
            return "down";
        }
        if (myself[1] == 0 &amp;&amp; myself[2] == 0) {
            return "down";
        }

        if (myself[2] == grid.length-1 &amp;&amp; myself[1] != 0 &amp;&amp; myself[1] != grid.length-1) {
            return "right";
        }
        if (myself[1] == 0 &amp;&amp; myself[2] == grid.length-1) {
            return "right";
        }

        if (myself[1] == grid.length-1 &amp;&amp; myself[2] != 0 &amp;&amp; myself[2] != grid.length-1) {
            return "up";
        }
        if (myself[1] == grid.length-1 &amp;&amp; myself[2] == grid.length-1) {
            return "up";
        }

        if (myself[2] == 0 &amp;&amp; myself[1] != 0 &amp;&amp; myself[1] != grid.length-1) {
            return "left";
        }
        if (myself[1] == grid.length-1 &amp;&amp; myself[2] == 0) {
            return "left";
        }
    } else {
        // Find the nearest border and move to it
        if (myself[1] &lt;= grid.length-1 - myself[1]) {
            // Move to left border
            return "left";
        } else {
            // Move to right border
            return "right";
        }
    }
}
</code></pre>

<p>Not too interesting, just moves around the edge of the grid.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170922" title="short permalink to this answer" class="short-link" id="link-post-170922">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170922/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
            


    <div class="post-signature owner grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-20 13:01:14Z" class="relativetime">Aug 20 at 13:01</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/30525/beta-decay"><div class="gravatar-wrapper-32"><img src="./original_files/uYB6v.png" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/30525/beta-decay">Beta Decay</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 12,565" dir="ltr">12.6k</span><span title="5 gold badges"><span class="badge1"></span><span class="badgecount">5</span></span><span title="58 silver badges"><span class="badge2"></span><span class="badgecount">58</span></span><span title="147 bronze badges"><span class="badge3"></span><span class="badgecount">147</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170922" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412540" class="comment js-comment " data-comment-id="412540">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">This looks like an orbiting satellite when running on high FPS!</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/81663/night2" title="1,609 reputation" class="comment-user">Night2</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412540_170922"><span title="2018-08-20 15:41:57Z" class="relativetime-clean">Aug 20 at 15:41</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"></path></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412595" class="comment js-comment " data-comment-id="412595">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy"><a href="https://www.youtube.com/watch?v=xAf8dSyK2HM" rel="nofollow noreferrer">This song</a> has been stuck in my head the whole time I was testing my bot.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/75557/jo" title="684 reputation" class="comment-user">Jo.</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412595_170922"><span title="2018-08-21 06:51:28Z" class="relativetime-clean">Aug 21 at 6:51</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170922" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170953"></a>
<div id="answer-170953" class="answer" data-answerid="170953" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170953">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">6</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>M.A.D.S.</h2>

<pre><code>function(myself, grid, bots, gameInfo)
{
    const w = 6, h = 6;
    let my_c = myself[0], my_x = myself[1], my_y = myself[2], size = grid.length, roundnum = gameInfo[0];

    if (!localStorage.steelyeyedmissileman) {
        var offset_x = Math.random() *(size-w-1) |0;
        var offset_y = Math.random() *(size-h-1) |0;
        localStorage.steelyeyedmissileman = JSON.stringify([offset_x, offset_y]);
    }
    offsets = JSON.parse(localStorage.steelyeyedmissileman);
    offset_x = offsets[0];
    offset_y = offsets[1];

    let targets = [];
    for(let grid_x = offset_x; grid_x &lt; offset_x+6; grid_x++)
    {
        for(let grid_y = offset_y; grid_y &lt; offset_y+6; grid_y++)
        {
            if(grid[grid_x][grid_y] != my_c)
            {
                targets.push([grid_x, grid_y]);
            }
        }
    }
    let target = targets.pop();
    if(target == undefined) return 'wait';
    if(target[0] &gt; my_x) return 'right';
    if(target[0] &lt; my_x) return 'left';
    if(target[1] &gt; my_y) return 'down';
    if(target[1] &lt; my_y) return 'up';
    return "left";
}
</code></pre>

<p>Picks a 6x6 spot on the board and defends it.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170953" title="short permalink to this answer" class="short-link" id="link-post-170953">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170953/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 22:32:11Z" class="relativetime">Aug 20 at 22:32</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/71627/john-aaron"><div class="gravatar-wrapper-32"><img src="./original_files/215632e6dd215c09558b89a7c8a9c88f" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/71627/john-aaron">John Aaron</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">161</span><span title="3 bronze badges"><span class="badge3"></span><span class="badgecount">3</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170953" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170953" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170977"></a>
<div id="answer-170977" class="answer" data-answerid="170977" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170977">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">6</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Euclid</h1>

<pre><code>function euclidFn(myself, grid, bots, gameInfo) {
    const W = grid.length, H = grid[0].length;
    const meIdx = bots.findIndex(b =&gt; b[0] == myself[0]);
    const meClr = bots[meIdx][0];

    const botIdToIndex = {};
    for (let i = 0; i &lt; bots.length; i++) {
        botIdToIndex[bots[i][0]] = i;
    }

    function paintValue(floor, clr) {
        if (floor == 0) return clr;
        else return [clr, 0, floor][Math.abs(clr - floor) % 3];
    }

    function paint(gr, x, y, clr) {
        gr[x][y] = paintValue(gr[x][y], clr);
    }

    function distance(x1, y1, x2, y2) {
        return Math.abs(y2 - y1) + Math.abs(x2 - x1);
    }

    function calcHeatmap() {
        const heat = new Array(W).fill(0).map(() =&gt; new Array(H).fill(0));

        function weight(dx, dy) {
            const d = dx + dy;
            return d &lt; 3 ? 1 / (1 + d) : 0;
        }

        for (let x = 0; x &lt; W; x++) {
            for (let y = 0; y &lt; H; y++) {
                let s=0;
                for (let x2 = Math.max(x-3, 0); x2 &lt;= Math.min(W-1, x+3); x2++) {
                    for (let y2 = Math.max(y-3, 0); y2 &lt;= Math.min(H-1, y+3); y2++) {
                        if (grid[x2][y2] == meClr) {
                            s += weight(Math.abs(x2 - x), Math.abs(y2 - y));
                        }
                    }
                }
                heat[x][y] = s;
            }
        }

        return heat;
    }

    const heatmap = calcHeatmap();

    function scorePos(px, py) {
        let sc = 0;
        if (grid[px][py] != meClr &amp;&amp; paintValue(grid[px][py], meClr) == meClr) {
            sc += 100;
        }

        let mindist = W + H + 1;
        for (let x = 0; x &lt; W; x++) {
            for (let y = 0; y &lt; H; y++) {
                if (grid[x][y] != meClr &amp;&amp; paintValue(grid[x][y], meClr) == meClr) {
                    let d = distance(px, py, x, y);
                    if (d &lt; mindist) mindist = d;
                }
            }
        }
        sc -= 3 * mindist;

        mindist = W + H + 1;
        for (let x = 0; x &lt; W; x++) {
            for (let y = 0; y &lt; H; y++) {
                if (grid[x][y] == largestBotId) {
                    let d = distance(px, py, x, y);
                    if (d &lt; mindist) mindist = d;
                }
            }
        }
        sc -= 6 * mindist;

        sc -= 3 * heatmap[px][py];

        sc += Math.random();
        return sc;
    }

    function calcBotScores() {
        const res = new Array(bots.length).fill(0).map((_,i) =&gt; [bots[i][0], 0]);

        for (let x = 0; x &lt; W; x++) {
            for (let y = 0; y &lt; H; y++) {
                if (grid[x][y] &gt; 0) {
                    let i = botIdToIndex[grid[x][y]];
                    if (i != undefined) res[i][1]++;
                }
            }
        }

        return res;
    }

    const botScores = calcBotScores();  // [id, size]
    const largestBotId = botScores
        .filter(p =&gt; p[0] != meClr &amp;&amp; paintValue(p[0], meClr) == meClr)
        .sort((a,b) =&gt; b[1] - a[1])
        [0][0];

    const dxes = [1, 0, -1, 0, 0], dyes = [0, 1, 0, -1, 0];
    const outputs = ["right", "down", "left", "up", "wait"];

    let allscores = [];
    let maxscore = -Infinity, maxat = -1;

    let allowWait = grid[bots[meIdx][1]][bots[meIdx][2]] == 0;

    for (let i = 0; i &lt; 4 + allowWait; i++) {
        const nx = bots[meIdx][1] + dxes[i];
        const ny = bots[meIdx][2] + dyes[i];
        if (nx &lt; 0 || nx &gt;= W || ny &lt; 0 || ny &gt;= H) {
            allscores.push(null);
            continue;
        }

        let score = scorePos(nx, ny);
        if (i == 4) score -= 20;
        if (euclidFn.lastMove != undefined &amp;&amp; i != euclidFn.lastMove) score -= 3;

        allscores.push(~~(score * 1000) / 1000);

        if (score &gt; maxscore) {
            maxscore = score;
            maxat = i;
        }
    }

    // console.log([maxscore, maxat], allscores);

    let move = maxscore == -1 ? Math.random() * 5 | 0 : maxat;
    euclidFn.lastMove = move;

    return outputs[move];
}
</code></pre>

<p>This does all kinds of arbitrary things. The name is badly chosen, but it does a number of things with distances, so I guess it makes sense somewhere.</p>

<p>I chooses the move that maximises <code>scorePos</code>, which really likes painting a square to its colour when it wasn't before, and otherwise doesn't like being far from colourable squares or from the largest colourable bot (not sure whether this is actually working well). It also doesn't like being near itself, because otherwise it goes overpainting itself often for some reason.</p>

<p><em>EDIT</em> This gave errors before, I hope it's correct now...</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170977" title="short permalink to this answer" class="short-link" id="link-post-170977">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170977/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170977/revisions" title="show all edits to this post">edited <span title="2018-08-22 12:26:04Z" class="relativetime">Aug 22 at 12:26</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-21 12:12:51Z" class="relativetime">Aug 21 at 12:12</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding"><div class="gravatar-wrapper-32"><img src="./original_files/ae275ae74371f0f24d369948a12ac197.jpeg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding">tomsmeding</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,809</span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="18 bronze badges"><span class="badge3"></span><span class="badgecount">18</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170977" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412603" class="comment js-comment " data-comment-id="412603">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I have <i>just</i> finished testing Jim v3 which tries to stay around areas with high score potentials and this pops up :p</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/59183/dzaima" title="12,657 reputation" class="comment-user">dzaima</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412603_170977"><span title="2018-08-21 12:17:48Z" class="relativetime-clean">Aug 21 at 12:17</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170977" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170936"></a>
<div id="answer-170936" class="answer" data-answerid="170936" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170936">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">5</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Hunter-Killer</h2>

<pre><code>function(myself, grid, bots, gameInfo) {
    targetColour = myself[0] % 3;
    // If I can paint someone else's space to my colour, do so.
    var options = [];
    if (myself[1] !== 0 &amp;&amp; grid[myself[1] - 1][myself[2]] % 3 === targetColour &amp;&amp; grid[myself[1] - 1][myself[2]] !== myself[0] &amp;&amp; grid[myself[1] - 1][myself[2]] !== 0)
        options.push("left");
    if (myself[1] !== grid.length - 1 &amp;&amp; grid[myself[1] + 1][myself[2]] % 3 === targetColour &amp;&amp; grid[myself[1] + 1][myself[2]] !== myself[0] &amp;&amp; grid[myself[1] + 1][myself[2]] !== 0)
        options.push("right");
    if (myself[2] !== 0 &amp;&amp; grid[myself[1]][myself[2] - 1] % 3 === targetColour &amp;&amp; grid[myself[1]][myself[2] - 1] !== myself[0] &amp;&amp; grid[myself[1]][myself[2] - 1] !== 0)
        options.push("up");
    if (myself[2] !== grid.length - 1 &amp;&amp; grid[myself[1]][myself[2] + 1] % 3 === targetColour &amp;&amp; grid[myself[1]][myself[2] + 1] !== myself[0] &amp;&amp; grid[myself[1]][myself[2] + 1] !== 0)
        options.push("down");
    if (options.length &gt; 0) return options[Math.random() * options.length | 0];

    // Otherwise, move to the closest bot I can paint over.
    var targetBots = bots.filter(bot =&gt; {
        if (bot[0] === myself[0] || bot[0] % 3 !== targetColour) return false;
        return true;
    });
    if (targetBots.length &gt; 0) {
        targetBots.sort((a, b) =&gt; (Math.abs(a[1] - myself[1]) + Math.abs(a[2] - myself[2])) &lt; (Math.abs(a[1] - myself[1]) + Math.abs(a[2] - myself[2])));
        if (Math.abs(targetBots[0][1] - myself[1]) &gt; Math.abs(targetBots[0][2] - myself[2])){
            return targetBots[0][1] - myself[1] &gt; 0 ? "right" : "left";
        }
        return targetBots[0][2] - myself[2] &gt; 0 ? "down" : "up";
    }

    options = [];
    // If we've killed them all, try to move to a blank space.
    if (myself[1] !== 0 &amp;&amp; grid[myself[1] - 1][myself[2]] === 0 &amp;&amp; grid[myself[1] - 1][myself[2]] !== myself[0])
        options.push("left");
    if (myself[1] !== grid.length - 1 &amp;&amp; grid[myself[1] + 1][myself[2]] === 0 &amp;&amp; grid[myself[1] + 1][myself[2]] !== myself[0])
        options.push("right");
    if (myself[2] !== 0 &amp;&amp; grid[myself[1]][myself[2] - 1] === 0 &amp;&amp; grid[myself[1]][myself[2] - 1] !== myself[0])
        options.push("up");
    if (myself[2] !== grid.length - 1 &amp;&amp; grid[myself[1]][myself[2] + 1] === 0 &amp;&amp; grid[myself[1]][myself[2] + 1] !== myself[0])
        options.push("down");
    if (options.length &gt; 0) return options[Math.random() * options.length | 0];

    options = [];
    // If there aren't any, try to move to a space I can paint white.
    targetColour = (targetColour + 2) % 3
    if (myself[1] !== 0 &amp;&amp; grid[myself[1] - 1][myself[2]] % 3 === 0 &amp;&amp; grid[myself[1] - 1][myself[2]] !== myself[0])
        options.push("left");
    if (myself[1] !== grid.length - 1 &amp;&amp; grid[myself[1] + 1][myself[2]] % 3 === 0 &amp;&amp; grid[myself[1] + 1][myself[2]] !== myself[0])
        options.push("right");
    if (myself[2] !== 0 &amp;&amp; grid[myself[1]][myself[2] - 1] % 3 === 0 &amp;&amp; grid[myself[1]][myself[2] - 1] !== myself[0])
        options.push("up");
    if (myself[2] !== grid.length - 1 &amp;&amp; grid[myself[1]][myself[2] + 1] % 3 === 0 &amp;&amp; grid[myself[1]][myself[2] + 1] !== myself[0])
        options.push("down");
    if (options.length &gt; 0) return options[Math.random() * options.length | 0];

    // Otherwise, pick one at random.
    return ["up","down","left","right"][Math.random() * 4 | 0];
}
</code></pre>

<p>Hunter-Killer targets the closest bot that it can paint over and tries to paint over all of its spaces, eliminating it.  If it gets all of them, it reverts to a random-painting algorithm where it tries to move first to white spaces and second to spaces it can make white.</p>

<p>It seems to do well if it can latch on to a bot that has a good strategy and follow it for a while, but only moderate if it kills all of its targets quickly (or its targets are weak bots).</p>

<p>Doesn't work well with the current version of the controller, as bots aren't removed when eliminated.  If that's not changed, I'll rewrite it to ignore bots which haven't moved in a few turns (potentially allowing a turtleing strategy which would allow a bot to survive, though likely not prosper).</p>

<p>All that's required to fix this is change the first loop in runBots to</p>

<pre><code>for (var j = 0; j &lt; botData.length; j++) {
    if (!botData[j].eliminated)
        bots_array.push([botData[j].uid, botData[j].x, botData[j].y]);
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170936" title="short permalink to this answer" class="short-link" id="link-post-170936">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170936/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170936/revisions" title="show all edits to this post">edited <span title="2018-08-20 19:42:47Z" class="relativetime">Aug 20 at 19:42</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 18:37:39Z" class="relativetime">Aug 20 at 18:37</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/82199/spitemaster"><div class="gravatar-wrapper-32"><img src="./original_files/d5ced87ce3a2ade5b0cc98e16521851f" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/82199/spitemaster">Spitemaster</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">51</span><span title="2 bronze badges"><span class="badge3"></span><span class="badgecount">2</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170936" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412658" class="comment js-comment " data-comment-id="412658">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I have a (potentially very laggy suggestion) if the controller isn't changed: you can check the current round, and count how many of each color are on the board, thus allowing you to tell which bots have been eliminated.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/55550/zachar%c3%bd" title="4,770 reputation" class="comment-user">Zacharý</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412658_170936"><span title="2018-08-21 20:38:24Z" class="relativetime-clean">Aug 21 at 20:38</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412671" class="comment js-comment " data-comment-id="412671">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">It was changed, but thanks :)</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/82199/spitemaster" title="51 reputation" class="comment-user">Spitemaster</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412671_170936"><span title="2018-08-21 22:08:42Z" class="relativetime-clean">Aug 21 at 22:08</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170936" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170969"></a>
<div id="answer-170969" class="answer" data-answerid="170969" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170969">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">5</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>GiveMeSpace</h2>

<pre><code>function(myself, grid, bots, gameInfo){
    if(!localStorage.givemespace){
        localStorage.givemespace = JSON.stringify({
            recent:[],
            timeout:-1,
            corner:[9999,-1,-1],
            following:[]
        });
    }
    var firstchoice = {up:-1,down:-1,left:-1,right:-1}, nearestblank = [9999,-1,-1], store = JSON.parse(localStorage.givemespace), unique = [], numunique = 0,
        currdist, i, j;
    if(store.timeout &gt;= 0 &amp;&amp; store.corner[1] &gt;= 0 &amp;&amp; store.corner[2] &gt;= 0){
        store.timeout--;
        persiststorage(store);
        if(store.corner[2] &lt; myself[2]){
            return 'up';
        }
        if(store.corner[2] &gt; myself[2]){
            return 'down';
        }
        if(store.corner[1] &lt; myself[1]){
            return 'left';
        }
        if(store.corner[1] &gt; myself[1]){
            return 'right';
        }
    }
    if(store.recent.length == 20){
        for(i=0;i&lt;store.recent.length;i++){
            if(unique.indexOf(store.recent[i][1]+"_"+store.recent[i][2]) == -1){
                unique.push(store.recent[i][1]+"_"+store.recent[i][2]);
                numunique++;
            }
        }
        if(numunique &lt;= 6){
            store.recent = [];
            store.timeout = 10+numunique;
            store.corner = [[-1,0,0],[-1,0,grid.length-1],[-1,grid.length-1,0],[-1,grid.length-1,grid.length-1]][Math.random()*4|0];
            persiststorage(store);
        }
    }
    function dist(a,b){
        return Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2]);
    }
    function finalcolor(a,b){
        return Math.abs(a-b)%3;
    }
    function persiststorage(store){
        if(store.recent.length &gt; 20) store.recent = store.recent.slice(1);
        localStorage.givemespace = JSON.stringify(store);
    }
    store.recent.push(myself);
    persiststorage(store);
    if(myself[2] &gt; 0 &amp;&amp; myself[0] != grid[myself[1]][myself[2]-1] &amp;&amp; (grid[myself[1]][myself[2]-1] == 0 || finalcolor(myself[0],grid[myself[1]][myself[2]-1]) == 0)){
        firstchoice.up = 9999;
    }
    if(myself[2] &lt; grid.length-1 &amp;&amp; myself[0] != grid[myself[1]][myself[2]+1] &amp;&amp; (grid[myself[1]][myself[2]+1] == 0 || finalcolor(myself[0],grid[myself[1]][myself[2]+1]) == 0)){
        firstchoice.down = 9999;
    }
    if(myself[1] &gt; 0 &amp;&amp; myself[0] != grid[myself[1]-1][myself[2]] &amp;&amp; (grid[myself[1]-1][myself[2]] == 0 || finalcolor(myself[0],grid[myself[1]-1][myself[2]]) == 0)){
        firstchoice.left = 9999;
    }
    if(myself[1] &lt; grid.length-1 &amp;&amp; myself[0] != grid[myself[1]+1][myself[2]] &amp;&amp; (grid[myself[1]+1][myself[2]] == 0 || finalcolor(myself[0],grid[myself[1]+1][myself[2]]) == 0)){
        firstchoice.right = 9999;
    }
    if(firstchoice.up &gt; 0 || firstchoice.down &gt; 0 || firstchoice.left &gt; 0 || firstchoice.right &gt; 0){
        for(i=0;i&lt;bots.length;i++){
            if(bots[i][0] != myself[0]){
                if(firstchoice.up &gt; 0){
                    currdist = dist(bots[i],[0,myself[1],myself[2]-1]);
                    if(currdist &lt; firstchoice.up){
                        firstchoice.up = currdist;
                    }
                }
                if(firstchoice.down &gt; 0){
                    currdist = dist(bots[i],[0,myself[1],myself[2]+1]);
                    if(currdist &lt; firstchoice.down){
                        firstchoice.down = currdist;
                    }
                }
                if(firstchoice.left &gt; 0){
                    currdist = dist(bots[i],[0,myself[1]-1,myself[2]]);
                    if(currdist &lt; firstchoice.left){
                        firstchoice.left = currdist;
                    }
                }
                if(firstchoice.right &gt; 0){
                    currdist = dist(bots[i],[0,myself[1]+1,myself[2]]);
                    if(currdist &lt; firstchoice.right){
                        firstchoice.right = currdist;
                    }
                }
            }
        }
        if(firstchoice.up &gt;= firstchoice.down &amp;&amp; firstchoice.up &gt;= firstchoice.left &amp;&amp; firstchoice.up &gt;= firstchoice.right){
            return 'up';
        }
        else if(firstchoice.down &gt;= firstchoice.left &amp;&amp; firstchoice.down &gt;= firstchoice.right){
            return 'down';
        }
        else if(firstchoice.left &gt;= firstchoice.right){
            return 'left';
        }
        else{
            return 'right';
        }
    }
    for(i=0;i&lt;grid.length;i++){
        for(j=0;j&lt;grid.length;j++){
            if((i != myself[1] || j != myself[2]) &amp;&amp; grid[i][j] != myself[0] &amp;&amp; (grid[i][j] == 0 || finalcolor(myself[0],grid[i][j]) == 0)){
                currdist = dist(myself,[0,i,j]);
                if(currdist &lt; nearestblank[0]){
                    nearestblank[0] = currdist;
                    nearestblank[1] = i;
                    nearestblank[2] = j;
                }
            }
        }
    }
    if(nearestblank[0] &lt; 9999){
        if(nearestblank[2] &lt; myself[2]){
            return 'up';
        }
        if(nearestblank[2] &gt; myself[2]){
            return 'down';
        }
        if(nearestblank[1] &lt; myself[1]){
            return 'left';
        }
        if(nearestblank[1] &gt; myself[1]){
            return 'right';
        }
    }
    return ['up','down','left','right'][Math.random()*4|0];
}
</code></pre>

<p>Checks for any paintable (can paint into its own color) spaces next to it and chooses the one furthest from any other bots. If there are no paintable spaces adjacent to the bot, it finds the closest paintable space and heads towards it.</p>

<p>Currently avoids infinite loops.</p>

<p>Todo: Avoid hunters.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170969" title="short permalink to this answer" class="short-link" id="link-post-170969">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170969/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170969/revisions" title="show all edits to this post">edited <span title="2018-08-23 01:20:31Z" class="relativetime">Aug 23 at 1:20</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 06:15:36Z" class="relativetime">Aug 21 at 6:15</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/75557/jo"><div class="gravatar-wrapper-32"><img src="./original_files/bae6b01208b173a0809899cf17784b58" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/75557/jo">Jo.</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">684</span><span title="9 bronze badges"><span class="badge3"></span><span class="badgecount">9</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170969" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170969" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171329"></a>
<div id="answer-171329" class="answer" data-answerid="171329" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171329">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">5</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>TRAVELER</h1>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pln"> TRAVELER</span><span class="pun">([</span><span class="pln">myColor</span><span class="pun">,</span><span class="pln"> myX</span><span class="pun">,</span><span class="pln"> myY</span><span class="pun">],</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">frame</span><span class="pun">,</span><span class="pln"> maxFrames</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">BinaryHeapStrategy</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">comparator </span><span class="pun">=</span><span class="pln"> options</span><span class="pun">.</span><span class="pln">comparator</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heapify</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        heapify</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">bubbleUp</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        queue</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">bubbleUp</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        dequeue</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">const</span><span class="pln"> ret </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">const</span><span class="pln"> last </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">();</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> last </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> last</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">bubbleDown</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> ret</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        peek</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        clear</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        bubbleUp</span><span class="pun">(</span><span class="pln">pos</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pos </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">const</span><span class="pln"> parent </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pos </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;&gt;&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">comparator</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">parent</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">const</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">parent</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">parent</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
                    pos </span><span class="pun">=</span><span class="pln"> parent</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        bubbleDown</span><span class="pun">(</span><span class="pln">pos</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> last </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">const</span><span class="pln"> left </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">pos </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">const</span><span class="pln"> right </span><span class="pun">=</span><span class="pln"> left </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> minIndex </span><span class="pun">=</span><span class="pln"> pos</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">left </span><span class="pun">&lt;=</span><span class="pln"> last </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">comparator</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">left</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">minIndex</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    minIndex </span><span class="pun">=</span><span class="pln"> left</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">right </span><span class="pun">&lt;=</span><span class="pln"> last </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">comparator</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">right</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">minIndex</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    minIndex </span><span class="pun">=</span><span class="pln"> right</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">minIndex </span><span class="pun">!==</span><span class="pln"> pos</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">const</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">minIndex</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">minIndex</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">data</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
                    pos </span><span class="pun">=</span><span class="pln"> minIndex</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PriorityQueue</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">strategy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">BinaryHeapStrategy</span><span class="pun">(</span><span class="pln">options</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        queue</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">++;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">strategy</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        dequeue</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">--;</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">strategy</span><span class="pun">.</span><span class="pln">dequeue</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        peek</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln">
                </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">strategy</span><span class="pun">.</span><span class="pln">peek</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        clear</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">strategy</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> mapSize </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        width</span><span class="pun">:</span><span class="pln"> grid</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">length</span><span class="pun">,</span><span class="pln">
        height</span><span class="pun">:</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length
    </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> mapArea </span><span class="pun">=</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width </span><span class="pun">*</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> maxOpenNodes </span><span class="pun">=</span><span class="pln"> </span><span class="lit">300</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> centerNode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">myX</span><span class="pun">,</span><span class="pln"> myY</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> colorStats </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> nearestBotAtNode </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">mapArea</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> row </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> color </span><span class="pun">=</span><span class="pln"> row</span><span class="pun">[</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">++</span><span class="pln">colorStats</span><span class="pun">[</span><span class="pln">color</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> nodeId</span><span class="pun">(</span><span class="typ">Node</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">));</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> closestBots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">botColor</span><span class="pun">,</span><span class="pln"> botX</span><span class="pun">,</span><span class="pln"> botY</span><span class="pun">]</span><span class="pln"> of bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> distance </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> manhattanDistance</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> botX</span><span class="pun">,</span><span class="pln"> botY</span><span class="pun">));</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">closestBots </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> distance </span><span class="pun">&lt;</span><span class="pln"> closestBots</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    closestBots </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> distance</span><span class="pun">,</span><span class="pln"> colors</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">botColor</span><span class="pun">]</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">==</span><span class="pln"> closestBots</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    closestBots </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> distance</span><span class="pun">,</span><span class="pln"> colors</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[...</span><span class="pln">closestBots</span><span class="pun">.</span><span class="pln">colors</span><span class="pun">,</span><span class="pln"> botColor</span><span class="pun">]</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            nearestBotAtNode</span><span class="pun">[</span><span class="pln">id</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> closestBots</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> bestSpace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> node</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> space</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> primaryEnemy </span><span class="pun">=</span><span class="pln"> winningColor</span><span class="pun">({</span><span class="pln"> includeMyself</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> includeWhite</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> canErase</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> isBehindWinner </span><span class="pun">=</span><span class="pln"> winningColor</span><span class="pun">({</span><span class="pln"> includeMyself</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> includeWhite</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> canErase</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> ignoreColor</span><span class="pun">:</span><span class="pln"> primaryEnemy </span><span class="pun">})</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> myColor</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> step </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">round</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">30</span><span class="pun">));</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> step</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width </span><span class="pun">-</span><span class="pln"> step</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">+=</span><span class="pln"> step</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> step</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> step</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">+=</span><span class="pln"> step</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> space </span><span class="pun">=</span><span class="pln"> countSpace</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bestSpace</span><span class="pun">.</span><span class="pln">node </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> space </span><span class="pun">&gt;</span><span class="pln"> bestSpace</span><span class="pun">.</span><span class="pln">space</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                bestSpace</span><span class="pun">.</span><span class="pln">node </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">);</span><span class="pln">
                bestSpace</span><span class="pun">.</span><span class="pln">space </span><span class="pun">=</span><span class="pln"> space</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> goalNode </span><span class="pun">=</span><span class="pln"> bestSpace</span><span class="pun">.</span><span class="pln">node</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> isRetreat </span><span class="pun">=</span><span class="pln"> nearestBotAtNode</span><span class="pun">[</span><span class="pln">nodeId</span><span class="pun">(</span><span class="pln">centerNode</span><span class="pun">)].</span><span class="pln">colors</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">AStarNode</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">({},</span><span class="pln"> node</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> nodeId</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y </span><span class="pun">*</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height </span><span class="pun">+</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">x</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> defaultComparator</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">+</span><span class="pln"> a</span><span class="pun">.</span><span class="pln">goal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">+</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">goal</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> nonDiagonalNodes</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
            node</span><span class="pun">.</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
            node</span><span class="pun">.</span><span class="pln">y </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
            node</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
            node</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Node</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln">
        </span><span class="pun">].</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">x </span><span class="pun">=&gt;</span><span class="pln"> x</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> mixColor</span><span class="pun">(</span><span class="pln">floorColor</span><span class="pun">,</span><span class="pln"> botColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">botColor</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> floorColor</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">botColor </span><span class="pun">-</span><span class="pln"> floorColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> countSpace</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> area </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> x </span><span class="pun">&gt;=</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">width </span><span class="pun">||</span><span class="pln"> y </span><span class="pun">&gt;=</span><span class="pln"> mapSize</span><span class="pun">.</span><span class="pln">height</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> color </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">area </span><span class="pun">==</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            area </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">countSpace</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">,</span><span class="pln"> area</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="pun">++</span><span class="pln">area</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> area </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">area </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">==</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> mixColor</span><span class="pun">(</span><span class="pln">color</span><span class="pun">,</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">area</span><span class="pun">;</span><span class="pln"> dx </span><span class="pun">&lt;=</span><span class="pln"> area</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">dx</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">countSpace</span><span class="pun">(</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> dx</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">-</span><span class="pln"> area</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln">
                    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">countSpace</span><span class="pun">(</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> dx</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> area</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln">
                    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="pln">area </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> dy </span><span class="pun">&lt;=</span><span class="pln"> area </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">dy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">countSpace</span><span class="pun">(</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> area</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> dy</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln">
                    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">countSpace</span><span class="pun">(</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> area</span><span class="pun">,</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> dy</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">))</span><span class="pln">
                    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> area </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> manhattanDistance</span><span class="pun">(</span><span class="pln">x1</span><span class="pun">,</span><span class="pln"> y1</span><span class="pun">,</span><span class="pln"> x2</span><span class="pun">,</span><span class="pln"> y2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">x2 </span><span class="pun">-</span><span class="pln"> x1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">y2 </span><span class="pun">-</span><span class="pln"> y1</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> moveFromNodes</span><span class="pun">(</span><span class="pln">node1</span><span class="pun">,</span><span class="pln"> node2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node2</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&lt;</span><span class="pln"> node1</span><span class="pun">.</span><span class="pln">x</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'left'</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node2</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&gt;</span><span class="pln"> node1</span><span class="pun">.</span><span class="pln">x</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'right'</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node2</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&lt;</span><span class="pln"> node1</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'up'</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node2</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&gt;</span><span class="pln"> node1</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'down'</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'wait'</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> winningColor</span><span class="pun">(</span><span class="pln">options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> winningColor </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            color</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
            count</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> color </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> color </span><span class="pun">&lt;</span><span class="pln"> colorStats</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">color</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">options</span><span class="pun">.</span><span class="pln">includeWhite</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">options</span><span class="pun">.</span><span class="pln">includeMyself</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> options</span><span class="pun">.</span><span class="pln">ignoreColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">canErase </span><span class="pun">&amp;&amp;</span><span class="pln"> mixColor</span><span class="pun">(</span><span class="pln">color</span><span class="pun">,</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> color</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">colorStats</span><span class="pun">[</span><span class="pln">color</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> winningColor</span><span class="pun">.</span><span class="pln">count</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                winningColor</span><span class="pun">.</span><span class="pln">color </span><span class="pun">=</span><span class="pln"> color</span><span class="pun">;</span><span class="pln">
                winningColor</span><span class="pun">.</span><span class="pln">count </span><span class="pun">=</span><span class="pln"> colorStats</span><span class="pun">[</span><span class="pln">color</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">winningColor</span><span class="pun">.</span><span class="pln">count </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> winningColor</span><span class="pun">.</span><span class="pln">color</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> goal</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> goal </span><span class="pun">=</span><span class="pln"> manhattanDistance</span><span class="pun">(</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> node</span><span class="pun">.</span><span class="pln">y</span><span class="pun">,</span><span class="pln"> goalNode</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> goalNode</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> goal</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> cost</span><span class="pun">(</span><span class="pln">node</span><span class="pun">,</span><span class="pln"> changes</span><span class="pun">,</span><span class="pln"> depth</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> cost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> nodeId</span><span class="pun">(</span><span class="pln">node</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> color</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">changes</span><span class="pun">[</span><span class="pln">id</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            color </span><span class="pun">=</span><span class="pln"> changes</span><span class="pun">[</span><span class="pln">id</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            color </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">node</span><span class="pun">.</span><span class="pln">x</span><span class="pun">][</span><span class="pln">node</span><span class="pun">.</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> color </span><span class="pun">!==</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> mixedColor </span><span class="pun">=</span><span class="pln"> changes</span><span class="pun">[</span><span class="pln">id</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> mixColor</span><span class="pun">(</span><span class="pln">color</span><span class="pun">,</span><span class="pln"> myColor</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mixedColor </span><span class="pun">===</span><span class="pln"> myColor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">nearestBotAtNode</span><span class="pun">[</span><span class="pln">nodeId</span><span class="pun">(</span><span class="pln">centerNode</span><span class="pun">)].</span><span class="pln">colors</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">color</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> nearestBotAtNode</span><span class="pun">[</span><span class="pln">id</span><span class="pun">].</span><span class="pln">colors</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">color</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> primaryEnemy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isBehindWinner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">80</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                    </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">60</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mixedColor </span><span class="pun">===</span><span class="pln"> color</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                cost </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">mixedColor </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> primaryEnemy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isBehindWinner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">15</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                    </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">color </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            changes</span><span class="pun">[</span><span class="pln">id</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myColor</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> nearestBot </span><span class="pun">=</span><span class="pln"> nearestBotAtNode</span><span class="pun">[</span><span class="pln">id</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">nearestBot</span><span class="pun">.</span><span class="pln">colors</span><span class="pun">.</span><span class="pln">includes</span><span class="pun">(</span><span class="pln">myColor</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">depth </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> nearestBot</span><span class="pun">.</span><span class="pln">colors</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">20</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">60</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">depth </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> nearestBot</span><span class="pun">.</span><span class="pln">distance </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    cost </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">let</span><span class="pln"> distanceDelta </span><span class="pun">=</span><span class="pln"> depth </span><span class="pun">-</span><span class="pln"> nearestBot</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">;</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distanceDelta </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">50</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> distanceDelta </span><span class="pun">*</span><span class="pln"> </span><span class="lit">20</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                    </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        cost </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">60</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> cost</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> bestMove</span><span class="pun">(</span><span class="pln">options</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> walkCost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">25</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> goalImportance </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> goalTarget </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">strategy </span><span class="pun">===</span><span class="pln"> </span><span class="str">'long-sighted'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            walkCost </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            goalImportance </span><span class="pun">=</span><span class="pln"> </span><span class="lit">25</span><span class="pun">;</span><span class="pln">
            goalTarget </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        options</span><span class="pun">.</span><span class="pln">maxOpenNodes </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">maxOpenNodes</span><span class="pun">,</span><span class="pln"> mapArea</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> openNodes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PriorityQueue</span><span class="pun">({</span><span class="pln">
            comparator</span><span class="pun">:</span><span class="pln"> defaultComparator
        </span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> bestNodes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">PriorityQueue</span><span class="pun">({</span><span class="pln">
            comparator</span><span class="pun">:</span><span class="pln"> defaultComparator
        </span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> closedNodes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> closeNode </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> closedNodes</span><span class="pun">[</span><span class="pln">nodeId</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> node</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> getClosedNode </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> closedNodes</span><span class="pun">[</span><span class="pln">nodeId</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)];</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isRetreat</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">const</span><span class="pln"> waitNode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">AStarNode</span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">fromNode</span><span class="pun">);</span><span class="pln">
            waitNode</span><span class="pun">.</span><span class="pln">depth </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            waitNode</span><span class="pun">.</span><span class="pln">changes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
            waitNode</span><span class="pun">.</span><span class="pln">goal </span><span class="pun">=</span><span class="pln"> goal</span><span class="pun">(</span><span class="pln">waitNode</span><span class="pun">);</span><span class="pln">
            waitNode</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> cost</span><span class="pun">(</span><span class="pln">waitNode</span><span class="pun">,</span><span class="pln"> waitNode</span><span class="pun">.</span><span class="pln">changes</span><span class="pun">,</span><span class="pln"> waitNode</span><span class="pun">.</span><span class="pln">depth</span><span class="pun">);</span><span class="pln">
            bestNodes</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">waitNode</span><span class="pun">);</span><span class="pln">
            closeNode</span><span class="pun">(</span><span class="pln">waitNode</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> startNode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">AStarNode</span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">fromNode</span><span class="pun">);</span><span class="pln">
        startNode</span><span class="pun">.</span><span class="pln">depth </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        startNode</span><span class="pun">.</span><span class="pln">changes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
        startNode</span><span class="pun">.</span><span class="pln">goal </span><span class="pun">=</span><span class="pln"> goal</span><span class="pun">(</span><span class="pln">startNode</span><span class="pun">);</span><span class="pln">
        startNode</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> cost</span><span class="pun">(</span><span class="pln">startNode</span><span class="pun">,</span><span class="pln"> startNode</span><span class="pun">.</span><span class="pln">changes</span><span class="pun">,</span><span class="pln"> startNode</span><span class="pun">.</span><span class="pln">depth</span><span class="pun">);</span><span class="pln">
        openNodes</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">startNode</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">openNodes</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&amp;&amp;</span><span class="pln"> openNodes</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&lt;</span><span class="pln"> maxOpenNodes</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> bestNode </span><span class="pun">=</span><span class="pln"> openNodes</span><span class="pun">.</span><span class="pln">dequeue</span><span class="pun">();</span><span class="pln">
            nonDiagonalNodes</span><span class="pun">(</span><span class="pln">bestNode</span><span class="pun">).</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">node </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> nextNode </span><span class="pun">=</span><span class="pln"> </span><span class="typ">AStarNode</span><span class="pun">(</span><span class="pln">node</span><span class="pun">);</span><span class="pln">
                nextNode</span><span class="pun">.</span><span class="pln">depth </span><span class="pun">=</span><span class="pln"> bestNode</span><span class="pun">.</span><span class="pln">depth </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                nextNode</span><span class="pun">.</span><span class="pln">changes </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">({},</span><span class="pln"> bestNode</span><span class="pun">.</span><span class="pln">changes</span><span class="pun">);</span><span class="pln">
                nextNode</span><span class="pun">.</span><span class="pln">parent </span><span class="pun">=</span><span class="pln"> bestNode</span><span class="pun">;</span><span class="pln">
                nextNode</span><span class="pun">.</span><span class="pln">goal </span><span class="pun">=</span><span class="pln"> goal</span><span class="pun">(</span><span class="pln">node</span><span class="pun">)</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> goalImportance</span><span class="pun">;</span><span class="pln">
                nextNode</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">=</span><span class="pln"> bestNode</span><span class="pun">.</span><span class="pln">cost </span><span class="pun">+</span><span class="pln"> walkCost </span><span class="pun">+</span><span class="pln"> cost</span><span class="pun">(</span><span class="pln">nextNode</span><span class="pun">,</span><span class="pln"> nextNode</span><span class="pun">.</span><span class="pln">changes</span><span class="pun">,</span><span class="pln"> nextNode</span><span class="pun">.</span><span class="pln">depth</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">goalTarget </span><span class="pun">&amp;&amp;</span><span class="pln"> nextNode</span><span class="pun">.</span><span class="pln">x </span><span class="pun">==</span><span class="pln"> goalNode</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&amp;&amp;</span><span class="pln"> nextNode</span><span class="pun">.</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> goalNode</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    bestNodes</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">nextNode</span><span class="pun">);</span><span class="pln">
                    </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> closedNode </span><span class="pun">=</span><span class="pln"> getClosedNode</span><span class="pun">(</span><span class="pln">node</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">closedNode </span><span class="pun">||</span><span class="pln"> defaultComparator</span><span class="pun">(</span><span class="pln">nextNode</span><span class="pun">,</span><span class="pln"> closedNode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    openNodes</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">nextNode</span><span class="pun">);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">});</span><span class="pln">
            closeNode</span><span class="pun">(</span><span class="pln">bestNode</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bestNode </span><span class="pun">!=</span><span class="pln"> startNode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                bestNodes</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">(</span><span class="pln">bestNode</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> directions </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> bestNode </span><span class="pun">=</span><span class="pln"> bestNodes</span><span class="pun">.</span><span class="pln">peek</span><span class="pun">();</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">options</span><span class="pun">.</span><span class="pln">strategy </span><span class="pun">===</span><span class="pln"> </span><span class="str">'short-sighted'</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bestNode</span><span class="pun">.</span><span class="pln">depth </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">6</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">isRetreat</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> bestMove</span><span class="pun">(</span><span class="typ">Object</span><span class="pun">.</span><span class="pln">assign</span><span class="pun">({},</span><span class="pln"> options</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strategy</span><span class="pun">:</span><span class="pln"> </span><span class="str">'long-sighted'</span><span class="pln"> </span><span class="pun">}));</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> nextMoveNode </span><span class="pun">=</span><span class="pln"> bestNode</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">nextMoveNode</span><span class="pun">.</span><span class="pln">parent</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                directions</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">moveFromNodes</span><span class="pun">(</span><span class="pln">nextMoveNode</span><span class="pun">.</span><span class="pln">parent</span><span class="pun">,</span><span class="pln"> nextMoveNode</span><span class="pun">));</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">nextMoveNode</span><span class="pun">.</span><span class="pln">parent </span><span class="pun">===</span><span class="pln"> startNode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                nextMoveNode </span><span class="pun">=</span><span class="pln"> nextMoveNode</span><span class="pun">.</span><span class="pln">parent</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> moveFromNodes</span><span class="pun">(</span><span class="pln">startNode</span><span class="pun">,</span><span class="pln"> nextMoveNode</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> bestMove</span><span class="pun">({</span><span class="pln">
        strategy</span><span class="pun">:</span><span class="pln"> </span><span class="str">'short-sighted'</span><span class="pun">,</span><span class="pln">
        fromNode</span><span class="pun">:</span><span class="pln"> centerNode</span><span class="pun">,</span><span class="pln">
        maxOpenNodes</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Stateless bot uses A-star pathing to find the most the most optimal path (optimal being the lowest cost path). Usually predicts 150 moves ahead on average, however if the best path has less than 6 moves ahead, the bot will be forced to walk to a cluster with most obtainable colors.</p>

<p>Some costs are driven by determining the winning color, and some costs are set to avoid circling around and losing trolls.</p>

<p>If anyone wishes to improve the code by playing around with editing the cost values, or rewriting the cost function, you are more than welcome to.</p>

<p>Have fun everyone.</p>

<p><strong>EDIT:</strong> I cannot reply on chat (new accounts are not able to), but I just saw the comments. I optimised it for under 50ms now, all the way from 400ms. It will get faster over time. I am happy to optimise more if needed, just drop a message on chat or comment here.</p>

<p><strong>EDIT 2:</strong> Some here are saying A-Star can only be used for finding path between two points, and while generally it is, in any pathing algorithm you can tweak the G (goal function) to return 0, that makes the path finding have no goal but rather seeks most efficient path in all directions, where each path cost is a cumulative cost of each step. Cost of step can be defined if they are good or bad steps, such as repainting enemy's square colour with ours is a good step, and walking onto a square that cannot be repained is a bad step. You will notice however the <code>goal()</code> function does not return 0, instead it slightly contributes to walking towards a cluster with most amount of paintable squares. <strong>tldr; path end is the best cluster and the obstacles are how the color will be mixed along the way.</strong></p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171329" title="short permalink to this answer" class="short-link" id="link-post-171329">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171329/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171329/revisions" title="show all edits to this post">edited <span title="2018-08-27 23:09:06Z" class="relativetime">Aug 27 at 23:09</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-27 21:42:55Z" class="relativetime">Aug 27 at 21:42</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/82515/mous-y-anon"><div class="gravatar-wrapper-32"><img src="./original_files/9bfd9556f9b728161f70a8ce79d03d38" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/82515/mous-y-anon">Mous. Y. Anon</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">51</span><span title="2 bronze badges"><span class="badge3"></span><span class="badgecount">2</span></span>
        </div>
    </div>
</div>
    <div class="js-new-contributor-indicator ps-relative">
        <div class="new-contributor-indicator fc-medium py6 px8 bbr-sm">
            <span class="js-new-contributor-label"><svg aria-hidden="true" class="svg-icon iconWave" width="18" height="18" viewBox="0 0 18 18"><path d="M10.7 17c-2.3 0-3.9-2.05-5.07-3.54l-.49-.6c-.67-.8-1.59-1.63-2.4-2.36A10.91 10.91 0 0 1 1.1 8.87a.79.79 0 0 1-.09-.56c.04-.19.14-.34.27-.4.14-.07.29-.1.45-.1.35 0 .67.18.87.34l3.5 2.75c.04.03.1.03.13 0a.09.09 0 0 0 .02-.13l-.02-.02c-.57-.8-3.42-4.77-3.71-5.15-.21-.27-.3-.58-.24-.84.05-.2.2-.37.4-.48.18-.09.35-.13.52-.13.44 0 .76.28.96.51l3.6 4.42c.04.04.07.06.14.02.05-.02.06-.07.03-.12L4.41 2.96a.94.94 0 0 1-.1-.73.92.92 0 0 1 .47-.57 1.06 1.06 0 0 1 1.4.39l3.8 6.14c.03.04.07.07.14.04.04-.03.06-.07.04-.13A153.8 153.8 0 0 0 8.1 2.54c-.31-.68-.2-1.14.36-1.42.52-.27 1.14-.07 1.47.48l3.69 8.3c.01.04.05.05.1.06a.1.1 0 0 0 .09-.07l.66-2.28c.1-.3.31-.56.62-.72.3-.15.65-.18.98-.1.69.2 1.09.87.89 1.52-.1.37-.46 1.73-.99 3.43l-.1.33c-.58 1.86-1.03 3.33-3.11 4.4-.7.35-1.38.53-2.05.53zm-5.84-.17c-.2.2-1.22 0-1.96-.74s-.92-1.75-.73-1.94c.2-.2.62.61 1.36 1.35.74.75 1.52 1.14 1.33 1.33zm8.39-14.61c.2-.2 1.2 0 1.95.74.74.74.92 1.75.73 1.94-.2.2-.62-.61-1.36-1.35-.74-.75-1.52-1.14-1.32-1.33z"></path></svg> New contributor</span>
        </div>
        <div class="js-new-contributor-popover temp-popover temp-popover__bottom">
            <div class="temp-popover--arrow"></div>
            <div class="p12 fs-caption">
                <a href="https://codegolf.stackexchange.com/users/82515/mous-y-anon">Mous. Y. Anon</a> is a new contributor to this site. Take care in asking for clarification, commenting, and answering.
Check out our <a href="https://codegolf.stackexchange.com/conduct">Code of Conduct</a>.            </div>
        </div>
    </div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171329" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413564" class="comment js-comment " data-comment-id="413564">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Welcome to PPCG! This is a very good answer, with a good explanation. I'm glad you've found the community to be friendly and helpful, and I hope you continue to have good experiences here.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/45941/mego" title="25,651 reputation" class="comment-user">Mego<span class="mod-flair" title="moderator">♦</span></a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413564_171329"><span title="2018-08-28 00:55:28Z" class="relativetime-clean">2 days ago</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171329" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171243"></a>
<div id="answer-171243" class="answer" data-answerid="171243" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171243">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">5</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>P</h2>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

</span><span class="str">"use strict"</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> O </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">O</span><span class="pun">;</span><span class="pln">

</span><span class="com">// console.log(this);</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> MAXBOTS </span><span class="pun">=</span><span class="pln"> </span><span class="lit">60</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> MAXSZ </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> MAXBOTS</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> MAXID </span><span class="pun">=</span><span class="pln"> MAXBOTS </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> MAXBOTS</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        alert</span><span class="pun">(</span><span class="str">"ASSERTION FAILED: MAXBOTS EXCEEDED (contact @tomsmeding)"</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> b of bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> b</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> MAXID</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            alert</span><span class="pun">(</span><span class="str">"ASSERTION FAILED: MAXID EXCEEDED (contact @tomsmeding)"</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> from_base64</span><span class="pun">(</span><span class="pln">bs</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">length </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Error</span><span class="pun">(</span><span class="str">"Invalid Base64 string"</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">const</span><span class="pln"> alpha </span><span class="pun">=</span><span class="pln"> </span><span class="str">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> beta </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="lit">256</span><span class="pun">).</span><span class="pln">fill</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> alpha</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> beta</span><span class="pun">[</span><span class="pln">alpha</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">const</span><span class="pln"> arrbuf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayBuffer</span><span class="pun">(</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">length </span><span class="pun">/</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> buf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">arrbuf</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> bs</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">0</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"="</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"="</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        buf</span><span class="pun">[</span><span class="pln">j</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">2</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">6</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="pln">beta</span><span class="pun">[</span><span class="pln">bs</span><span class="pun">.</span><span class="pln">charCodeAt</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">3</span><span class="pun">)]</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">arrbuf</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> repeat</span><span class="pun">(</span><span class="pln">str</span><span class="pun">,</span><span class="pln"> times</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">times </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">).</span><span class="pln">join</span><span class="pun">(</span><span class="pln">str</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> println_func</span><span class="pun">(</span><span class="pln">ptr</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(;</span><span class="pln"> ptr </span><span class="pun">&lt;</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> ptr</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">[</span><span class="pln">ptr</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        s </span><span class="pun">+=</span><span class="pln"> </span><span class="typ">String</span><span class="pun">.</span><span class="pln">fromCharCode</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_membuf</span><span class="pun">[</span><span class="pln">ptr</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">s</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> print_int_func</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">value</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> seed_random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">wa_rand_state</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_rand_state</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">256</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">0xff</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_myself</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_my_id</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_grid</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> W </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln"> H </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_width</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> W</span><span class="pun">;</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_height</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> H</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> W</span><span class="pun">;</span><span class="pln"> x</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> H</span><span class="pun">;</span><span class="pln"> y</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            O</span><span class="pun">.</span><span class="pln">wa_grid</span><span class="pun">[</span><span class="pln">W </span><span class="pun">*</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> x</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_bots</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_nbots</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots</span><span class="pun">[</span><span class="lit">3</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> transfer_gameInfo</span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_round_idx</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wa_total_rounds</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> stringify</span><span class="pun">(</span><span class="pln">thing</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">isArray</span><span class="pun">(</span><span class="pln">thing</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"["</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">stringify</span><span class="pun">).</span><span class="pln">join</span><span class="pun">(</span><span class="str">","</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">thing </span><span class="kwd">instanceof</span><span class="pln"> </span><span class="typ">Int8Array</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"["</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> thing</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> mc_calcmove</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// console.log("mc_calcmove(" + stringify(myself) + "," + stringify(grid) + "," + stringify(bots) + "," + stringify(gameInfo) + ")");</span><span class="pln">
    transfer_myself</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">);</span><span class="pln">
    transfer_grid</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">);</span><span class="pln">
    transfer_bots</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">);</span><span class="pln">
    transfer_gameInfo</span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">][</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wa_mc_calcmove</span><span class="pun">()];</span><span class="pln">
    </span><span class="com">// return O.wa_mc_calcmove();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wasm_bytes </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">wasm_bytes </span><span class="pun">=</span><span class="pln"> from_base64</span><span class="pun">(</span><span class="pln">
</span><span class="com">// INSERT-WASM-HERE</span><span class="pln">
</span><span class="str">"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LmdpdCAwZTAxMjk4NGIwOTkwMzJkZDhhNjUxNTFhNzg4MmMzMDVlMWYzN2I0KSAoaHR0cDovL2xsdm0ub3JnL2dpdC9sbHZtLmdpdCAzZDc2NWNlNGI3ZjJmZDI1YmRiYzBlZmMyNmFmZGY0MmU4NGZlY2IyKQBtYWluLmMAL2hvbWUvdG9tL3BwY2ctMTcwOTA4L3dhc20AcHRycwBfX0FSUkFZX1NJWkVfVFlQRV9fAHdpZHRoAGludABoZWlnaHQAbmJvdHMAcm91bmRfaWR4AHRvdGFsX3JvdW5kcwBteV9pZABncmlkAHVuc2lnbmVkIGNoYXIAdWludDhfdABib3RzAGlkAHgAeQBib3QAcmFuZF9zdGF0ZQB1bnNpZ25lZCBpbnQAdWludDMyX3QAaGF2ZV9iZWVuAF9Cb29sAHByZXZpb3VzX2lzX21lAGJvdF9ldmlsX3Njb3JlAGJvdF9keABib3RfZHkAZGlyX2R4AGRpcl9keQBwbGFjZV9oYXNfYm90AGJvdF9wcmV2cG9zAGhlYXRfbWFwAGZsb2F0AGV2aWxfZmFjdG9yX2NhY2hlAHByZXZfcm91bmRfaWR4AHN0YXRlAGxvbmcgbG9uZyB1bnNpZ25lZCBpbnQAdWludDY0X3QAcF9zZXR1cF9kYXRhAG1lbXNldF94AGRzdF8AdmFsdWUAbgBkc3Q2NABkc3Q4AGkAcG9wdWxhdGVfcHRycwBwX2NhbGNtb3ZlAG1lSWR4AG1heG51bQBtYXhhdABwb3MAbl9fAHBhaW50X3ZhbHVlAGZsb29yAHBfcG9wdWxhdGVfaGVhdG1hcABwX2ZpbGxfZXZpbF9mYWN0b3JfY2FjaGUAY3gAY3kAZHkAZHgAcF9ldmlsX2ZhY3RvcgBzYwBieQBieABqAGQAZGV0ZXJtaW5pc3RpY19yYW5kAHhvcndvdwB0AHMAcF9wYWludFNjb3JlAGlkeABlbnRyeV9mbgBwX2ZpbmRwYXRoAG1vZGUAZGVwdGgAb3JpZ19oYXZlX2JlZW4AAP4OCi5kZWJ1Z19sb2MrAAAAXAAAAAMAEQCfAAAAAAAAAACnAAAABxQAAAMAEACfAAAAAAAAAACnAAAAugAAAAMAEQCfAAAAAAAAAAD3AAAA9wAAAAMAEQCf9wAAAA0BAAADABEBnw0BAAAYAQAAAwARAp8YAQAAIwEAAAMAEQOfIwEAAC4BAAADABEEny4BAAA5AQAAAwARBZ85AQAARAEAAAMAEQafRAEAAE8BAAADABEHn08BAABaAQAAAwARCJ9aAQAAZQEAAAMAEQmfZQEAAHABAAADABEKn3ABAAB7AQAAAwARC597AQAAhgEAAAMAEQyfhgEAAJEBAAADABENn5EBAACcAQAAAwARDp+cAQAApwEAAAMAEQ+fpwEAALIBAAADABEQn7IBAAC9AQAAAwAREZ+9AQAAyAEAAAMAERKfyAEAANMBAAADABEUn9MBAADeAQAAAwARE5/eAQAA6QEAAAMAERWf6QEAAPQBAAADABEWn/QBAAD/AQAAAwARF5//AQAACgIAAAMAERifCgIAABUCAAADABEZnxUCAAAgAgAAAwARGp8gAgAAKwIAAAMAERufKwIAADYCAAADABEcnzYCAABBAgAAAwARHZ9BAgAATAIAAAMAER6fTAIAAAcUAAADABEfnwAAAAAAAAAATAIAAFcCAAADABEAn1cCAABiAgAAAwARAZ9iAgAAbQIAAAMAEQKfbQIAAHgCAAADABEDn3gCAACDAgAAAwARBJ+DAgAAjgIAAAMAEQafjgIAAJkCAAADABEFn5kCAACkAgAAAwARB5+kAgAArwIAAAMAEQifrwIAALoCAAADABEJn7oCAADFAgAAAwARCp/FAgAA0AIAAAMAEQuf0AIAANsCAAADABEMn9sCAADmAgAAAwARDZ/mAgAA8QIAAAMAEQ6f8QIAAPwCAAADABEPn/wCAAAHAwAAAwAREJ8HAwAAEgMAAAMAERGfEgMAAB0DAAADABESnx0DAAAoAwAAAwARE58oAwAAMwMAAAMAERSfMwMAAD4DAAADABEVnz4DAABJAwAAAwARFp9JAwAAVAMAAAMAERefVAMAAF8DAAADABEYn18DAABqAwAAAwARGZ9qAwAAdQMAAAMAERqfdQMAAIADAAADABEbn4ADAACLAwAAAwARHJ+LAwAAlgMAAAMAER2flgMAAKEDAAADABEen6EDAAAHFAAAAwARH58AAAAAAAAAAKEDAACsAwAAAwARAJ+sAwAAtwMAAAMAEQGftwMAAMIDAAADABECn8IDAADNAwAAAwARA5/NAwAA2AMAAAMAEQSf2AMAAOMDAAADABEFn+MDAADuAwAAAwAR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1gUiIAUJWAPdfjwFGAYD0QEgBQEDGVgCAQABAQDDCQdsaW5raW5nAQjWhICAACUAAAIIZW50cnlfZm4BAAZoZWlnaHQDAAQBAAV3aWR0aAIABAECCWhhdmVfYmVlbgsAkP0BAQIOcHJldmlvdXNfaXNfbWUMAJD9AQECDmJvdF9ldmlsX3Njb3JlDQD4AQECBmJvdF9keA4A+AEBAgZib3RfZHkPAPgBAQIGLkwuc3RyAQABABAAABABAQAEcHRycwAAJAEABW5ib3RzBAAEAQAJcm91bmRfaWR4BQAEAQAMdG90YWxfcm91bmRzBgAEAQAFbXlfaWQHAAQBAARncmlkCACQ/QEBAARib3RzCQC0AQEACnJhbmRfc3RhdGUKABQBAg1wbGFjZV9oYXNfYm90EACQ/QEBAgtib3RfcHJldnBvcxEA+AEBAghoZWF0X21hcBUAwPQHAQIRZXZpbF9mYWN0b3JfY2FjaGUSAMD0BwACAwpwX2ZpbmRwYXRoAQIhZGV0ZXJtaW5pc3RpY19yYW5kLnByZXZfcm91bmRfaWR4FgAEAQIaZGV0ZXJtaW5pc3RpY19yYW5kLnN0YXRlLjMaAAQBAhpkZXRlcm1pbmlzdGljX3JhbmQuc3RhdGUuMhkABAECGmRldGVybWluaXN0aWNfcmFuZC5zdGF0ZS4xGAAEAQIaZGV0ZXJtaW5pc3RpY19yYW5kLnN0YXRlLjAXAAQBAhpkZXRlcm1pbmlzdGljX3JhbmQuc3RhdGUuNBsABAECEXBfY2FsY21vdmUuZGlyX2R4EwAQAQIRcF9jYWxjbW92ZS5kaXJfZHkUABADAgUDAgYDAgcDAgkDAgsF2ISAgAAcCS5ic3MucHRycxAADi5yb2RhdGEuLkwuc3RyAQAKLmJzcy53aWR0aAQACy5ic3MuaGVpZ2h0BAAKLmJzcy5uYm90cwQADi5ic3Mucm91bmRfaWR4BAARLmJzcy50b3RhbF9yb3VuZHMEAAouYnNzLm15X2lkBAAJLmJzcy5ncmlkEAAJLmJzcy5ib3RzEAAPLmJzcy5yYW5kX3N0YXRlEAAOLmJzcy5oYXZlX2JlZW4QABMuYnNzLnByZXZpb3VzX2lzX21lEAATLmJzcy5ib3RfZXZpbF9zY29yZRAACy5ic3MuYm90X2R4EAALLmJzcy5ib3RfZHkQABIuYnNzLnBsYWNlX2hhc19ib3QQABAuYnNzLmJvdF9wcmV2cG9zEAAWLmJzcy5ldmlsX2ZhY3Rvcl9jYWNoZRAAGS5yb2RhdGEucF9jYWxjbW92ZS5kaXJfZHgQABkucm9kYXRhLnBfY2FsY21vdmUuZGlyX2R5EAANLmJzcy5oZWF0X21hcBAAJy5kYXRhLmRldGVybWluaXN0aWNfcmFuZC5wcmV2X3JvdW5kX2lkeAQAHy5ic3MuZGV0ZXJtaW5pc3RpY19yYW5kLnN0YXRlLjAQAB8uYnNzLmRldGVybWluaXN0aWNfcmFuZC5zdGF0ZS4xEAAfLmJzcy5kZXRlcm1pbmlzdGljX3JhbmQuc3RhdGUuMggAHy5ic3MuZGV0ZXJtaW5pc3RpY19yYW5kLnN0YXRlLjMQAB8uYnNzLmRldGVybWluaXN0aWNfcmFuZC5zdGF0ZS40EAAAjwoKcmVsb2MuQ09ERQP1AQMvAQADOAIABE8DAASOAQMABLEBBAAE3gEEAAP9AQUIA4gCBQADkwIFEAOeAgUYA6kCBSADtAIFKAO/AgUwA8oCBTgD1QIFwAAD4AIFyAAD6wIF0AAD9gIF2AADgQMF4AADjAMF6AADlwMF8AADogMF+AADrQMFgAEDuAMFiAEDwwMFkAEDzgMFoAED2QMFmAED5AMFqAED7wMFsAED+gMFuAEDhQQFwAEDkAQFyAEDmwQF0AEDpgQF2AEDsQQF4AEDvAQF6AEDxwQF8AED0gQGAAPdBAYIA+gEBhAD8wQGGAP+BAYgA4kFBjADlAUGKAOfBQY4A6oFBsAAA7UFBsgAA8AFBtAAA8sFBtgAA9YFBuAAA+EFBugAA+wFBvAAA/cFBvgAA4IGBoABA40GBogBA5gGBpABA6MGBpgBA64GBqABA7kGBqgBA8QGBrABA88GBrgBA9oGBsABA+UGBsgBA/AGBtABA/sGBtgBA4YHBuABA5EHBugBA5wHBvABA6cHBwADsgcHCAO9BwcQA8gHBxgD0wcHIAPeBwcoA+kHBzAD9AcHOAP/BwfAAAOKCAfIAAOVCAfQAAOgCAfYAAOrCAfgAAO2CAfoAAPBCAfwAAPMCAf4AAPXCAeAAQPiCAeIAQPtCAeQAQP4CAeYAQODCQegAQOOCQeoAQOZCQewAQOkCQe4AQOvCQfAAQO6CQfIAQPFCQfQAQPQCQfYAQPbCQfgAQPmCQfoAQPxCQfwAQSMCggAAJIKCQCaCgoEpgoBAAOtCgsEBLUKAgADvAoLAATECgwAA8sKCwgE0woNAAPaCgsMBOIKDgAD6QoLEATxCg8AA/gKCxQEgAsQAAOHCwsYBI8LEQADlgsLHASeCxIAA6ULCyAEqwsLAAO2CwEAA8ELAgAE2gsTAASTDBMAA7wMDAADzAwNAAPfDA8ABPsMEQAEnw0TAASEDgUABJoOBAAEyg4UAAThDgcABPcOBgAEqw8RAATTDxMABPQPBQAEihAEAAS6EBQABNEQBwAE5xAGAASVEREABLUREwAEjxIFAASlEgQABNUSFAAE+RIRAASdExMABL4TBQAE1BMEAASEFBQABKcUEQAD7RQPAAT7FBUABIsVEAAEqRYRAgS6FhEBBMkWAwAEvBgRAATWGAUABLEZBwAE1BkGAATUGhYABI8bFgAEwhsWAAT1GxYABKgcFgAE2xwWAASOHRYABMEdFgAE/B0WAASYHhYABLceFgAE3B4WAASBHxYABKYfFgAEyx8WAATwHxYABJUgFgAEtSAWAACUIRcDnSECAASuIRYAA9whAQAA9iEXA/8hAgAEkCIWAADFIhcDziICAATfIhYAAJojFwOjIwIABLQjFgAD3CMNAAPnIxgAA/MjGQADgCQaAAOHJBkAA5IkGwADmSQaAAOkJBwAA60kGwADuCQdAAPGJB0AA+okHAAD/yQYAAOOJR0AA7UlDwAD8yUZAAOgJhoAA8QmGwAD6CYcAAOLJwEAA54nDwAEqicEAAS1JxAABNgnHgAE5ycfAAT4JwQAA5YoAgAEwCgVAAPWKA8ABOAoEAAEsikDAADoKRcD8SkCAASAKhYAA6MqAQAAvyoXA8gqAgAE1yoWAACGKxcDjysCAASeKxYAAM0rFwPWKwIABOUrFgAE/ysDAASQLBUAA6YsDwAEsCwQAASULRMABMgtAwAE1y0TAADXDBByZWxvYy4uZGVidWdfbG9jBo4CCAAAKAgEANkACBUApAEIGQCEKAgqAKQBCC4AtwEIPwD0AQhDAPQBCEwA9AEIUACKAghZAIoCCF0AlQIIZgCVAghqAKACCHMAoAIIdwCrAgiAAQCrAgiEAQC2AgiNAQC2AgiRAQDBAgiaAQDBAgieAQDMAginAQDMAgirAQDXAgi0AQDXAgi4AQDiAgjBAQDiAgjFAQDtAgjOAQDtAgjSAQD4AgjbAQD4AgjfAQCDAwjoAQCDAwjsAQCOAwj1AQCOAwj5AQCZAwiCAgCZAwiGAgCkAwiPAgCkAwiTAgCvAwicAgCvAwigAgC6AwipAgC6AwitAgDFAwi2AgDFAwi6AgDQAwjDAgDQAwjHAgDbAwjQAgDbAwjUAgDmAwjdAgDmAwjhAgDxAwjqAgDxAwjuAgD8Awj3AgD8Awj7AgCHBAiEAwCHBAiIAwCSBAiRAwCSBAiVAwCdBAieAwCdBAiiAwCoBAirAwCoBAivAwCzBAi4AwCzBAi8AwC+BAjFAwC+BAjJAwDJBAjSAwDJBAjWAwCEKAjnAwDJBAjrAwDUBAj0AwDUBAj4AwDfBAiBBADfBAiFBADqBAiOBADqBAiSBAD1BAibBAD1BAifBACABQioBACABQisBACLBQi1BACLBQi5BACWBQjCBACWBQjGBAChBQjPBAChBQjTBACsBQjcBACsBQjgBAC3BQjpBAC3BQjtBADCBQj2BADCBQj6BADNBQiDBQDNBQiHBQDYBQiQBQDYBQiUBQDjBQidBQDjBQihBQDuBQiqBQDuBQiuBQD5BQi3BQD5BQi7BQCEBgjEBQCEBgjIBQCPBgjRBQCPBgjVBQCaBgjeBQCaBgjiBQClBgjrBQClBgjvBQCwBgj4BQCwBgj8BQC7BgiFBgC7BgiJBgDGBgiSBgDGBgiWBgDRBgifBgDRBgijBgDcBgisBgDcBgiwBgDnBgi5BgDnBgi9BgDyBgjGBgDyBgjKBgD9BgjTBgD9BgjXBgCIBwjgBgCIBwjkBgCTBwjtBgCTBwjxBgCeBwj6BgCeBwj+BgCEKAiPBwCeBwiTBwCpBwicBwCpBwigBwC0BwipBwC0BwitBwC/Bwi2BwC/Bwi6BwDKBwjDBwDKBwjHBwDVBwjQBwDVBwjUBwDgBwjdBwDgBwjhBwDrBwjqBwDrBwjuBwD2Bwj3BwD2Bwj7BwCBCAiECACBCAiICACMCAiRCACMCAiVCACXCAieCACXCAiiCACiCAirCACiCAivCACtCAi4CACtCAi8CAC4CAjFCAC4CAjJCADDCAjSCADDCAjWCADOCAjfCADOCAjjCADZCAjsCADZCAjwCADkCAj5CADkCAj9CADvCAiGCQDvCAiKCQD6CAiTCQD6CAiXCQCFCQigCQCFCQikCQCQCQitCQCQCQixCQCbCQi6CQCbCQi+CQCmCQjHCQCmCQjLCQCxCQjUCQCxCQjYCQC8CQjhCQC8CQjlCQDHCQjuCQDHCQjyCQDSCQj7CQDSCQj/CQDdCQiICgDdCQiMCgDoCQiVCgDoCQiZCgDoCQiiCgDoCQimCgCEKAi3CgCvCwi7CgDkCwjMCgCpDAjQCgCBDQjhCgDMFAjlCgCBFQj2CgC+Fwj6CgDJFwiLCwDgFwiPCwCFGAiYCwDvGgicCwCYGwilCwCYGwipCwDLGwiyCwDLGwi2CwD+Gwi/CwD+GwjDCwCxHAjMCwCxHAjQCwDkHAjZCwDkHAjdCwCXHQjmCwCXHQjqCwDKHQjzCwDKHQj3CwDaHQiADADaHQiEDACgHgiNDACgHgiRDADAHgiaDADAHgieDADlHginDADlHgirDACKHwi0DACKHwi4DACvHwjBDACvHwjFDADUHwjODADUHwjSDAD5HwjbDAD5HwjfDACeIAjoDACeIAjsDACEKAj9DACDGwiBDQCEKAiSDQCDGwiWDQCEKAinDQDhGAirDQDhGAi0DQDhGAi4DQDhGAjBDQDhGAjFDQC2GgjODQC2GgjSDQCEKAjjDQDeIAjnDQD9IAj8DQDeIAiADgD9IAiJDgCKIQiNDgDVIQiWDgDnIQiaDgCuIgijDgC7IginDgD+IgiwDgCHIwi0DgD9JgjFDgD+JgjJDgCkJwjaDhe9AQjeDhfQAQDWCRFyZWxvYy4uZGVidWdfaW5mbwjUAQkGIgAJDCAACRIgpQEJFiQACRogrAEJIiOAFgknIMcBBTMLAAlFIMwBCUwg4AEFWAIACV0g5gEJZCDqAQVwAQAJdSDxAQWBAQwACYYBIPcBBZIBDQAJlwEggQIFowEOAAmoASCOAgW0AQ8ACbkBIJQCBcUBEAAJ2wEgpwIJ4gEgmQIJ6QEgrwIF9QERAAmGAiC7AgmOAiC0AgmaAiC3AgmmAiC5AgmzAiC/AgW/AhIACdQCINcCCdsCIMoCCeICIOACBe4CAwAJgAMg6gIJhwMg8AIFkwMEAAmYAyD/AgWkAwUACbUDII4DBcEDBgAJxgMglQMF0gMHAAnYAyCcAwXlAx4ACeoDIKMDBfcDHwAJjgQgqgMFmgQTAAmfBCC4AwWrBBQACbAEIMQDBbwEFQAJzgQgzQMJ1QQg0wMF4QQWAAnnBCDlAwXzBBgACfgEIPQDBYQFHAAFiwUbAAWSBRoABZkFGQAFoAUdAAmxBSCRBAm4BSD6AwnEBSCaBAnMBSCnBAnUBSCwBAnfBSC1BAnqBSC7BAn1BSC9BAmABiDDBAmMBiDIBAmZBiDIBAmmBiDKBAmvBiDYBAm8BiDjBAnIBiC3AgnUBiC5AgngBiDpBAnsBiDwBAn5BiDIBAmGByD2BAmVByDIBAmjByD6BAmxByD6BAm/ByD6BAnNByD6BAnbByDIBAnpByD+BAn1ByCKBQmACCC0AgmMCCCQBQmVCCDIBAmiCCCjBQmqCCC8BQm1CCC/BQnBCCDCBQnNCCC5AgnZCCDFBQnlCCC3Agn1CCDIBQmBCSC3AgmMCSC5AgmXCSDWBQmjCSDIBAmvCSDZBQm6CSDcBQnGCSDfBQnSCSDhBQniCSDjBQnuCSDjBAn6CSD2BQmGCiD0AwmRCiD9BQmcCiD/BQitCgAACbUKIJIGCcEKIKYGCNEKACgI4QoAPwn3CiMACfwKIQAIhgsA8gAImgsAtQEJpQshFQizCwC1AQm8CyEqCMYLANYBCdoLIxgJ7gsjmAQJ8wshPwmCDCOYCAmKDCOYCgmPDCHnAwmeDCOYDAmmDCOYDgmrDCGPBwi7DACgCgnLDCOYEAniDCHjDQnrDCH8DQj4DADKCwiPDQDKCwmYDSG3CgiiDQD9CwmyDSOoEQm3DSHMCgnADSPgEAnODSPIEAjeDQCrFAnxDSPgEQn5DSP4EQn+DSHhCgiLDgCoFQmiDiOQEgm0DiOYEwm5DiH2CgnCDiOAEwjMDgD9FwnVDiGLCwneDiPoEgjsDgDEGAmBDyH9DAiKDwDEGAmTDyGSDQicDwDhGAmvDyPIEgm0DyGnDQm9DyOoEgjRDwCKIQjgDwDnIQjvDwC7Ign+DyOwEwiNEADRIwmiECPIEwm4ECOAFAnOECOwFAnkECPIFAj6EACEJgiUEQCkJgirEQD+Jgm0ESHFDgnAESCBBgnMESCOBgnXESCKBQjoERcACfARIJsGCfsRILcCCYYSILkCCZESIKsGCZwSII4GCacSIdoOCasSIOkECbYSILEGCcUSI+AUCdoSI4AVCOgSF9cBCfESIPoECf0SI5gVCYITIPoECI4TF/UCCZcTIPoECaMTI7gVCagTIPoECbgTI9AVCc0TI+gVAKYeE3JlbG9jLi5kZWJ1Z19yYW5nZXMJiAUIAAA/CAQA8gAICACkAQgMAK0BCBgA9AEIHADNBAggANQECCQA2AQIKADfBAgsAOMECDAA6gQINADuBAg4APUECDwA+QQIQACABQhEAIQFCEgAiwUITACPBQhQAJYFCFQAmgUIWAChBQhcAKUFCGAArAUIZACwBQhoALcFCGwAuwUIcADCBQh0AMYFCHgAzQUIfADRBQiAAQDYBQiEAQDcBQiIAQDjBQiMAQDnBQiQAQDuBQiUAQDyBQiYAQD5BQicAQD9BQigAQCEBgikAQCIBgioAQCPBgisAQCTBgiwAQCaBgi0AQCeBgi4AQClBgi8AQCpBgjAAQCwBgjEAQC0BgjIAQC7BgjMAQC/BgjQAQDGBgjUAQDKBgjYAQDRBgjcAQDVBgjgAQDcBgjkAQDgBgjoAQDnBgjsAQDrBgjwAQDyBgj0AQD2Bgj4AQD9Bgj8AQCBBwiAAgCIBwiEAgCMBwiIAgCTBwiMAgCXBwiQAgCeBwiUAgCiBwiYAgCpBwicAgCtBwigAgC0BwikAgC4BwioAgC/BwisAgDDBwiwAgDKBwi0AgDOBwi4AgDVBwi8AgDZBwjAAgDgBwjEAgDkBwjIAgDrBwjMAgDvBwjQAgD2BwjUAgD6BwjYAgCBCAjcAgCFCAjgAgCMCAjkAgCQCAjoAgCXCAjsAgCbCAjwAgCiCAj0AgCmCAj4AgCtCAj8AgCxCAiAAwC4CAiEAwC8CAiIAwDDCAiMAwDHCAiQAwDOCAiUAwDSCAiYAwDZCAicAwDdCAigAwDkCAikAwDoCAioAwDvCAisAwDzCAiwAwD6CAi0AwD+CAi4AwCFCQi8AwCJCQjAAwCQCQjEAwCUCQjIAwCbCQjMAwCfCQjQAwCmCQjUAwCqCQjYAwCxCQjcAwC1CQjgAwC8CQjkAwDACQjoAwDHCQjsAwDLCQjwAwDSCQj0AwDWCQj4AwDdCQj8AwDhCQiABADoCQiEBADsCQiIBADzCQiMBAD1CQiYBAD0AQicBADNBAigBADUBAikBADYBAioBADfBAisBADjBAiwBADqBAi0BADuBAi4BAD1BAi8BAD5BAjABACABQjEBACEBQjIBACLBQjMBACPBQjQBACWBQjUBACaBQjYBAChBQjcBAClBQjgBACsBQjkBACwBQjoBAC3BQjsBAC7BQjwBADCBQj0BADGBQj4BADNBQj8BADRBQiABQDYBQiEBQDcBQiIBQDjBQiMBQDnBQiQBQDuBQiUBQDyBQiYBQD5BQicBQD9BQigBQCEBgikBQCIBgioBQCPBgisBQCTBgiwBQCaBgi0BQCeBgi4BQClBgi8BQCpBgjABQCwBgjEBQC0BgjIBQC7BgjMBQC/BgjQBQDGBgjUBQDKBgjYBQDRBgjcBQDVBgjgBQDcBgjkBQDgBgjoBQDnBgjsBQDrBgjwBQDyBgj0BQD2Bgj4BQD9Bgj8BQCBBwiABgCIBwiEBgCMBwiIBgCTBwiMBgCXBwiQBgCeBwiUBgCiBwiYBgCpBwicBgCtBwigBgC0BwikBgC4BwioBgC/BwisBgDDBwiwBgDKBwi0BgDOBwi4BgDVBwi8BgDZBwjABgDgBwjEBgDkBwjIBgDrBwjMBgDvBwjQBgD2BwjUBgD6BwjYBgCBCAjcBgCFCAjgBgCMCAjkBgCQCAjoBgCXCAjsBgCbCAjwBgCiCAj0BgCmCAj4BgCtCAj8BgCxCAiABwC4CAiEBwC8CAiIBwDDCAiMBwDHCAiQBwDOCAiUBwDSCAiYBwDZCAicBwDdCAigBwDkCAikBwDoCAioBwDvCAisBwDzCAiwBwD6CAi0BwD+CAi4BwCFCQi8BwCJCQjABwCQCQjEBwCUCQjIBwCbCQjMBwCfCQjQBwCmCQjUBwCqCQjYBwCxCQjcBwC1CQjgBwC8CQjkBwDACQjoBwDHCQjsBwDLCQjwBwDSCQj0BwDWCQj4BwDdCQj8BwDhCQiACADoCQiECADsCQiICADzCQiMCAD1CQiYCADNBAicCADUBAigCADYBAikCADfBAioCADjBAisCADqBAiwCADuBAi0CAD1BAi4CAD5BAi8CACABQjACACEBQjECACLBQjICACPBQjMCACWBQjQCACaBQjUCAChBQjYCAClBQjcCACsBQjgCACwBQjkCAC3BQjoCAC7BQjsCADCBQjwCADGBQj0CADNBQj4CADRBQj8CADYBQiACQDcBQiECQDjBQiICQDnBQiMCQDuBQiQCQDyBQiUCQD5BQiYCQD9BQicCQCEBgigCQCIBgikCQCPBgioCQCTBgisCQCaBgiwCQCeBgi0CQClBgi4CQCpBgi8CQCwBgjACQC0BgjECQC7BgjICQC/BgjMCQDGBgjQCQDKBgjUCQDRBgjYCQDVBgjcCQDcBgjgCQDgBgjkCQDnBgjoCQDrBgjsCQDyBgjwCQD2Bgj0CQD9Bgj4CQCBBwj8CQCIBwiACgCMBwiECgCTBwiICgCXBwiMCgCeBwiYCgDNBAicCgDUBAigCgDYBAikCgDfBAioCgDjBAisCgDqBAiwCgDuBAi0CgD1BAi4CgD5BAi8CgCABQjACgCEBQjECgCLBQjICgCPBQjMCgCWBQjQCgCaBQjUCgChBQjYCgClBQjcCgCsBQjgCgCwBQjkCgC3BQjoCgC7BQjsCgDCBQjwCgDGBQj0CgDNBQj4CgDRBQj8CgDYBQiACwDcBQiECwDjBQiICwDnBQiMCwDuBQiQCwDyBQiUCwD5BQiYCwD9BQicCwCEBgigCwCIBgikCwCPBgioCwCTBgisCwCaBgiwCwCeBgi0CwClBgi4CwCpBgi8CwCwBgjACwC0BgjECwC7BgjICwC/BgjMCwDGBgjQCwDKBgjUCwDRBgjYCwDVBgjcCwDcBgjgCwDgBgjkCwDnBgjoCwDrBgjsCwDyBgjwCwD2Bgj0CwD9Bgj4CwCBBwj8CwCIBwiADACMBwiEDACTBwiIDACXBwiMDACeBwiYDACiBwicDACpBwigDACtBwikDAC0BwioDAC4BwisDAC/BwiwDADDBwi0DADKBwi4DADOBwi8DADVBwjADADZBwjEDADgBwjIDADkBwjMDADrBwjQDADvBwjUDAD2BwjYDAD6BwjcDACBCAjgDACFCAjkDACMCAjoDACQCAjsDACXCAjwDACbCAj0DACiCAj4DACmCAj8DACtCAiADQCxCAiEDQC4CAiIDQC8CAiMDQDDCAiQDQDHCAiUDQDOCAiYDQDSCAicDQDZCAigDQDdCAikDQDkCAioDQDoCAisDQDvCAiwDQDzCAi0DQD6CAi4DQD+CAi8DQCFCQjADQCJCQjEDQCQCQjIDQCUCQjMDQCbCQjQDQCfCQjUDQCmCQjYDQCqCQjcDQCxCQjgDQC1CQjkDQC8CQjoDQDACQjsDQDHCQjwDQDLCQj0DQDSCQj4DQDWCQj8DQDdCQiADgDhCQiEDgDoCQiIDgDsCQiMDgDzCQiYDgCiBwicDgCpBwigDgCtBwikDgC0BwioDgC4BwisDgC/BwiwDgDDBwi0DgDKBwi4DgDOBwi8DgDVBwjADgDZBwjEDgDgBwjIDgDkBwjMDgDrBwjQDgDvBwjUDgD2BwjYDgD6BwjcDgCBCAjgDgCFCAjkDgCMCAjoDgCQCAjsDgCXCAjwDgCbCAj0DgCiCAj4DgCmCAj8DgCtCAiADwCxCAiEDwC4CAiIDwC8CAiMDwDDCAiQDwDHCAiUDwDOCAiYDwDSCAicDwDZCAigDwDdCAikDwDkCAioDwDoCAisDwDvCAiwDwDzCAi0DwD6CAi4DwD+CAi8DwCFCQjADwCJCQjEDwCQCQjIDwCUCQjMDwCbCQjQDwCfCQjUDwCmCQjYDwCqCQjcDwCxCQjgDwC1CQjkDwC8CQjoDwDACQjsDwDHCQjwDwDLCQj0DwDSCQj4DwDWCQj8DwDdCQiAEADhCQiEEADoCQiIEADsCQiMEADzCQiYEACvCwicEAC0DgigEADEDgikEACkEAioEAC0EAisEAC/EgiwEADPEgi0EADuEwi4EAD+Ewi8EACAKAjIEAC1DQjMEADmDQjQEADLEQjUEAD4EQjgEADxDAjkEAC0DgjoEADEDgjsEACIDwjwEAClDwj0EACkEAj4EAC0EAj8EAD4EAiAEQCLEQiEEQC/EgiIEQDPEgiMEQDdEgiQEQDzEgiUEQDuEwiYEQD+EwicEQCMFAioEQCtDAisEQC0DgiwEQDEDgi0EQCkEAi4EQC0EAi8EQC/EgjAEQDPEgjEEQDuEwjIEQD+EwjMEQCrFAjQEQD2FwjUEQD9FwjgEQDMFAjkEQDVFAjoEQDaFAjsEQCcFgj4EQDMFAj8EQDVFAiAEgDaFAiEEgCcFgiQEgDNFwiUEgDgFwiYEgD9FwicEgDlIAioEgDhGAisEgDoGAiwEgDwGAi0EgCCGQi4EgCKGQi8EgC2GgjIEgDhGAjMEgDoGAjQEgDwGAjUEgCCGQjYEgCKGQjcEgC2GgjoEgCLGAjsEgDcGgjwEgD2Ggj0EgC9IAiAEwDNFwiEEwDgFwiIEwD9FwiMEwC9IAiYEwDNFwicEwDgFwigEwD9FwikEwDlIAiwEwCLIwi0EwDAIwi4EwDKIwi8EwDQIwjIEwDuIwjMEwD3IwjQEwD7IwjUEwCJJAjYEwCNJAjcEwCbJAjgEwCfJAjkEwCvJAjoEwCzJAjsEwDIJAjwEwDKJAj0EwD1JAiAFACJJQiEFACQJQiIFADsJQiMFAD1JQiQFACZJgiUFACiJgiYFAC9JgicFADGJgigFADIJgikFAD1JgiwFACiJQi0FACuJQi4FADjJQi8FADsJQjIFADCJQjMFADGJQjQFADWJQjUFADjJQjgFBfLAAjkFBelAQjoFBf2BAjsFBf/BAjwFBe8BQj0FBfiBQiAFRflAAiEFReXAQiIFRf2BAiMFRf4BAiYFRenAgicFRepAgigFRewAgikFRe7AgioFRe9AgisFRfkAgi4FRe1Awi8FRe3AwjAFRe+AwjEFRfyAwjQFReZBAjUFRf1BAjYFReABQjcFRekBQjoFRe1BAjsFRfnBAjwFReABQj0FReCBQiAFgAACIQWAIQoCIgWFwAIjBYX6QUAHRFyZWxvYy4uZGVidWdfbGluZQsCCCsAAAj5FBcA"</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">

    </span><span class="com">// require("fs").writeFileSync("reverse-base64-output.txt", Buffer.from(O.wasm_bytes));</span><span class="pln">

    O</span><span class="pun">.</span><span class="pln">memory </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="typ">Memory</span><span class="pun">({</span><span class="pln">initial</span><span class="pun">:</span><span class="pln"> </span><span class="lit">15</span><span class="pun">});</span><span class="pln">
    </span><span class="com">// O.importObject = {js: {mem: O.memory}, env: {println: println_func}};</span><span class="pln">
    O</span><span class="pun">.</span><span class="pln">importObject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        env</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            println</span><span class="pun">:</span><span class="pln"> println_func</span><span class="pun">,</span><span class="pln">
            print_int</span><span class="pun">:</span><span class="pln"> print_int_func</span><span class="pun">,</span><span class="pln">
            __linear_memory</span><span class="pun">:</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">,</span><span class="pln">
            __indirect_function_table</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="typ">Table</span><span class="pun">({</span><span class="pln">initial</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> element</span><span class="pun">:</span><span class="pln"> </span><span class="str">"anyfunc"</span><span class="pun">}),</span><span class="pln">
        </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="com">// let wa_membuf, wa_width, wa_height, wa_nbots, wa_round_idx, wa_total_rounds, wa_my_id, wa_grid, wa_bots, wa_rand_state;</span><span class="pln">

    </span><span class="com">/*const promise = fetch('../out/main.wasm').then(response =&gt;
        response.arrayBuffer()
    ).then(bytes =&gt;
        WebAssembly.instantiate(bytes, O.importObject)
    );*/</span><span class="pln">
    </span><span class="com">// const promise = WebAssembly.instantiate(fs.readFileSync("hotpatcher/out.wasm"), O.importObject);</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> promise </span><span class="pun">=</span><span class="pln"> </span><span class="typ">WebAssembly</span><span class="pun">.</span><span class="pln">instantiate</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">wasm_bytes</span><span class="pun">,</span><span class="pln"> O</span><span class="pun">.</span><span class="pln">importObject</span><span class="pun">);</span><span class="pln">

    promise</span><span class="pun">.</span><span class="pln">then</span><span class="pun">(</span><span class="pln">results </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> instance </span><span class="pun">=</span><span class="pln"> results</span><span class="pun">.</span><span class="pln">instance</span><span class="pun">;</span><span class="pln">

        </span><span class="com">// console.log(instance.exports);</span><span class="pln">

        </span><span class="com">// First set some pointers</span><span class="pln">
        instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_membuf </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> ptrs </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">9</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_width </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_height </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_nbots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_round_idx </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">3</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_total_rounds </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">4</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_my_id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Int32Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">5</span><span class="pun">],</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_grid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">6</span><span class="pun">],</span><span class="pln"> MAXSZ </span><span class="pun">*</span><span class="pln"> MAXSZ</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_bots </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">7</span><span class="pun">],</span><span class="pln"> MAXBOTS </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pun">);</span><span class="pln">
        O</span><span class="pun">.</span><span class="pln">wa_rand_state </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Uint8Array</span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">memory</span><span class="pun">.</span><span class="pln">buffer</span><span class="pun">,</span><span class="pln"> ptrs</span><span class="pun">[</span><span class="lit">8</span><span class="pun">],</span><span class="pln"> </span><span class="lit">5</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">wa_mc_calcmove </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

        seed_random</span><span class="pun">();</span><span class="pln">

        </span><span class="com">// Signal that we're done setting up, and the wasm code can set itself up</span><span class="pln">
        instance</span><span class="pun">.</span><span class="pln">exports</span><span class="pun">.</span><span class="pln">entry_fn</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln">

        O</span><span class="pun">.</span><span class="pln">instantiated </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"MC: Instantiated!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}).</span><span class="kwd">catch</span><span class="pun">(</span><span class="pln">console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">O</span><span class="pun">.</span><span class="pln">instantiated</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// const start = new Date();</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> output </span><span class="pun">=</span><span class="pln"> mc_calcmove</span><span class="pun">();</span><span class="pln">
        </span><span class="com">// const end = new Date();</span><span class="pln">


        </span><span class="com">// if (O.time_sum == null) O.time_sum = 0;</span><span class="pln">
        </span><span class="com">// O.time_sum += end - start;</span><span class="pln">

        </span><span class="com">// if (gameInfo[0] % 50 == 0) {</span><span class="pln">
        </span><span class="com">//     console.log("Average time taken: " + O.time_sum / (gameInfo[0] - 1));</span><span class="pln">
        </span><span class="com">// }</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> output</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Error</span><span class="pun">(</span><span class="str">"SCREAM FIRE wasm instantiation"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"MC: RANDOM MOVE BEFORE INSTANTIATE"</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>

<p>Meet P. P isn't really trying to be a good bot, or trying to win the game, it's just trying to paint squares. It's content doing that. P gets nervous when bots are on his tail, but is otherwise just going where the paintable squares are.</p>

<h2>Explanations</h2>

<p>My bots P and MC are basically compiled from the same code. A description of how
it all works can be found below.</p>

<p>The bots consist of the Javascript wrapper code shown above and the C code
<s>shown</s> linked to below. (Including the code made the post too long for
SE's ideas of good post length.) When preparing a bot for submission (or for
testing), the C code is compiled via an elaborate process, described later, to a
<code>wasm</code> file, which is encoded in base64 and inserted into the Javascript file.
The Javascript file must instantiate a <code>WebAssembly.Instance</code> of the wasm code
to be able to use it, but the API for that is asynchronous; therefore, it starts
to instantiate it the first time the bot is invoked in a game, and does random
moves until the asynchronous instantiation returns, and the wasm code is ready
to use. This instantiation usually takes about two turns, which is little enough
to not be significant.</p>

<p>Once the bot is instantiated, the one exported function of the wasm code is
called (<code>entry_fn</code>) with mode argument 0, which instructs it to populate a
<code>ptrs</code> table with pointers to various global variables that contain per-round
information like the grid data, the bots array, the number of bots, etc. The
table also contains a pointer to the state array used for the internal PRNG
— WebAssembly is, as far as I know, only natively capable of performing
deterministic actions, and has no built-in random source. Therefore, after the
<code>ptrs</code> array is filled, the Javascript code generates some random numbers with
<code>Math.random()</code> and fills this <code>rand_state</code> array with random data. When that is
done, <code>entry_fn</code> is called with mode argument 1, indicating that the JS code is
done setting up and that the wasm code can start initialising its data.</p>

<p>Once the wasm code has finished setting up and the bot is called again for a
move, <code>entry_fn</code> is called with its last mode argument, 2, which calculates a
move. Before doing that, the JS code first copies all necessary turn information
(grid, bots, myself, etc.) to the global variables for which pointers were put
in the <code>ptrs</code> array. <code>entry_fn(2)</code> then returns the move chosen, as an index in
the array <code>["right", "down", "left", "up", "wait"]</code>.</p>

<p>The C code can be found in <a href="https://gist.github.com/1101106cccdf3b1a8604f70a5fc316c3" rel="nofollow noreferrer">this
gist</a>, and an
explanation of it can be found belowwwww.</p>

<h2>The C code</h2>

<p>The reason for having only one exported function, and not exporting the global
variables by name, and possibly other unidiomatic things, is because building
this crap is difficult, and the tooling doesn't work together and has
incompatibilities with other tooling and browsers. My own compilation pipeline
is described later. (Note that the wasm ABI is 32-bit, so returning a pointer as
an <code>int</code> is actually safe and fine (<code>sizeof(void*) == 32</code>).)</p>

<p>I use a bit of macro magic to select which bot this is to actually compile to.
Both MC's and P's source are in the C source, and which is to be used is
determined by the <code>USED_CALCMOVE_PREFIX</code> define. If it's <code>p_</code>, P's source is
used, and if it's <code>mc_</code>, MC's source is used. At some point, I had plans of
making them work together, after all being able to execute each other's logic,
but I didn't.</p>

<p>Depending on the value of that define, when calculating a move, control is
transferred to either <code>mc_calcmove()</code> or <code>p_calcmove()</code>.</p>

<h3>MC</h3>

<p><a href="https://codegolf.stackexchange.com/a/170978/6689">MC is a Monte Carlo player</a>,
which means from the current position it tries all possible moves (5 or less in
this game), and from the resulting board position it simulates a number of
random games. The move with the best average result after the random playouts is
chosen. In this case, I do 100 random playouts, each of only 5 turns. Usually in
this kind of game AI's, a game is run till the end in each playout, but since
this game is <em>completely</em> unpredictable at times, that didn't seem useful. And
in any case, it would've been too slow.</p>

<p>For optimisation purposes, the entire board is not reset after each playout, but
only the cells that were actually changed in the playout. This is done with the
<code>modified</code> array. Also, the score delta is kept in <code>mc_random_step</code>, so that
after each playout the entire board's score doesn't need to be calculated. Both
reduce the time required to run this algorithm, and do not influence its
decisions or calculated scores in any way.</p>

<p>For the most part, the C code is completely parallel to the JS code of a
previous version of the MC submission here, which may be looked up if wanted.
The only change is the use of the <code>last_dir</code> array to prevent walking backwards
during a random playout.</p>

<h3>P</h3>

<p>P is a more complex bot than MC. I'll not describe all the specific workings
— you have the source now after all — but I'll give a general
overview of what it's doing.</p>

<p>The main functionality is not far from DFSbot, I think. It's a depth-first
search of the possible paths it can take for the coming 8 (= <code>P_WALK_DISTANCE</code>)
moves, scoring each path as the sum of the scores given to each cell used in the
path. Besides the per-cell scoring, each path starting move (i.e. move to be
taken right now) is additionally scored using an "evil factor", which helps the
bot evade other bots that are on its tail. (Briefly: if a bot is intruding on
P's ground for at least 20 turns, the bot's position and the two in front of it
in the direction it's travelling repel P; see <code>p_evil_factor()</code>.
<code>bot_evil_score</code> records the number of moves intruding, falling quickly back to
zero if the bot isn't intruding anymore.)</p>

<p>The base cell score is given by <code>p_paintScore()</code>, which doesn't like running
over itself, painting stuff that it can't paint directly, running into another
bot directly (I don't model the bots-on-same-cell-give-white for performance!),
or walking where it's already been in the game. Added to that score is the score
given by the <code>heat_map</code>, which is calculated by <code>p_populate_heatmap()</code>. White
squares are good, P's own squares are bad, and other's squares that P can paint
into its own colour are moderately good, otherwise they are moderately bad.</p>

<p>There is a factor of 0.98 that is multiplied with the tail end of the path at
each point, making the starting part of the possible path more important than
the tail end. The factor is purposefully chosen very close to 1, so that the
total impact will not be very large, but will be large enough indeed to provide
a tie-breaker function. (If we have two paths that are equivalent but with the
only difference that one has a white square at the end and the other has a white
square at the beginning, the second path is clearly better, and this weighting
ensures that.)</p>

<p>There are a number of arrays, some of which keep their values over turns.
Management of this data costs some code, mostly in <code>p_calcmove()</code>. The code
isn't very beautiful, but it seems to work, so ¯\_(ツ)_/¯</p>

<h2>Compilation process</h2>

<p>In my working directory, I have a folder <code>compiler</code> that contains:</p>

<ul>
<li>A build of LLVM in <code>llvm</code>, compiled with
<code>-DLLVM_EXPERIMENTAL_TARGETS_TO_BUILD=WebAssembly</code>. The version is the master
tip at the time of cloning, which is commit
<code>3d765ce4b7f2fd25bdbc0efc26afdf42e84fecb2</code>. Compiling this with 3 threads took
about an hour on my machine. Note that the resuilting <code>build</code> folder is about
29GB, so be wary of doing this yourself if you're short on disk space. ._.</li>
<li>A build of <a href="https://github.com/WebAssembly/binaryen" rel="nofollow noreferrer">binaryen</a> in <code>binaryen</code>,
at commit <code>57328f8e1e4db509b9956b53dd5300fc49e424eb</code>.</li>
<li>A build of <a href="https://github.com/WebAssembly/wabt" rel="nofollow noreferrer">WABT</a> in <code>wabt</code>, at commit
<code>71647d4f0e86a4c738f742f69f65b2cc41d4c004</code>.</li>
</ul>

<p>The JS wrapper source is in <code>main.js</code> and the C source is in <code>main.c</code>. When I
want to test what I've written, I save the file (most probably <code>main.c</code>), run
<code>./CFIT.sh</code>, run <code>pbcopy &lt;main.js</code> (which copies <code>main.js</code> to my clipboard), and
paste it in the box in @dzaima's controller. Million thanks @dzaima for
providing a controller that is actually that full-featured to let me easily do
this.</p>

<p>The script <code>CFIT.sh</code> drives the compilation process, and looks as follows:</p>

<pre class="lang-shell prettyprint prettyprinted" style=""><code><span class="com">#!/usr/bin/env bash</span><span class="pln">
</span><span class="com"># Compile, Fix, Insert, Test</span><span class="pln">

</span><span class="kwd">set</span><span class="pln"> </span><span class="pun">-</span><span class="pln">e

</span><span class="pun">./</span><span class="pln">compile</span><span class="pun">.</span><span class="pln">sh
hotpatcher</span><span class="pun">/</span><span class="pln">hotpatcher main</span><span class="pun">.</span><span class="pln">wasm </span><span class="kwd">out</span><span class="pun">.</span><span class="pln">wasm
compiler</span><span class="pun">/</span><span class="pln">binaryen</span><span class="pun">/</span><span class="pln">build</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">wasm</span><span class="pun">-</span><span class="pln">opt </span><span class="pun">-</span><span class="pln">O4 </span><span class="kwd">out</span><span class="pun">.</span><span class="pln">wasm </span><span class="pun">-</span><span class="pln">o </span><span class="kwd">out</span><span class="pun">.</span><span class="pln">wasm
</span><span class="pun">./</span><span class="pln">insert_wasm</span><span class="pun">.</span><span class="pln">sh </span><span class="kwd">out</span><span class="pun">.</span><span class="pln">wasm
</span><span class="pun">./</span><span class="pln">run_test</span><span class="pun">.</span><span class="pln">js</span></code></pre>

<p>The hotpatcher is a whole 'nother story, and mentioned later. The script
<code>compile.sh</code> looks as follows:</p>

<pre class="lang-shell prettyprint prettyprinted" style=""><code><span class="com">#!/usr/bin/env bash</span><span class="pln">
compiler</span><span class="pun">/</span><span class="pln">llvm</span><span class="pun">/</span><span class="pln">build</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">clang </span><span class="pun">-</span><span class="typ">Wall</span><span class="pln"> </span><span class="pun">-</span><span class="typ">Wextra</span><span class="pln"> main</span><span class="pun">.</span><span class="pln">c </span><span class="pun">-</span><span class="pln">c </span><span class="pun">--</span><span class="pln">target</span><span class="pun">=</span><span class="pln">wasm32</span><span class="pun">-</span><span class="pln">unknown</span><span class="pun">-</span><span class="pln">unknown </span><span class="pun">-</span><span class="pln">O3 </span><span class="pun">-</span><span class="pln">fno</span><span class="pun">-</span><span class="pln">builtin</span><span class="pun">-</span><span class="pln">memcpy </span><span class="pun">-</span><span class="pln">fno</span><span class="pun">-</span><span class="pln">builtin</span><span class="pun">-</span><span class="pln">memset </span><span class="pun">-</span><span class="pln">g </span><span class="pun">-</span><span class="pln">o main</span><span class="pun">.</span><span class="pln">wasm
compiler</span><span class="pun">/</span><span class="pln">wabt</span><span class="pun">/</span><span class="pln">build</span><span class="pun">/</span><span class="pln">wasm2wat main</span><span class="pun">.</span><span class="pln">wasm </span><span class="pun">-</span><span class="pln">o main</span><span class="pun">.</span><span class="pln">wat</span></code></pre>

<p>The flags <code>-fno-builtin-{memset,memcpy}</code> are necessary because otherwise LLVM
dutifully recognises the bodies of my <code>memset_x</code> and <code>memcpy_x</code> functions as the
built-in <code>memset</code> and <code>memcpy</code> functions, which it then replaces the code with,
leaving me with undefined references to these functions <em>despite</em> providing
replacements.</p>

<p>The <code>insert_wasm.sh</code> script looks as follows:</p>

<pre class="lang-shell prettyprint prettyprinted" style=""><code><span class="com">#!/usr/bin/env bash</span><span class="pln">
</span><span class="kwd">set</span><span class="pln"> </span><span class="pun">-</span><span class="pln">e
</span><span class="kwd">set</span><span class="pln"> </span><span class="pun">-</span><span class="pln">o pipefail

</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">[[</span><span class="pln"> </span><span class="pun">-</span><span class="pln">n </span><span class="str">"$1"</span><span class="pln"> </span><span class="pun">]];</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> wasmfile</span><span class="pun">=</span><span class="str">"$1"</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> wasmfile</span><span class="pun">=</span><span class="str">"main.wasm"</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">fi</span><span class="pln">
subject</span><span class="pun">=</span><span class="str">"main.js"</span><span class="pln">
tmpfile</span><span class="pun">=</span><span class="str">".insert_wasm_tmpfile.txt"</span><span class="pln">

</span><span class="pun">[[</span><span class="pln"> </span><span class="pun">-</span><span class="pln">f </span><span class="str">"$subject"</span><span class="pln"> </span><span class="pun">]]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">exit</span><span class="pln"> </span><span class="lit">1</span><span class="pln">
</span><span class="pun">[[</span><span class="pln"> </span><span class="pun">-</span><span class="pln">f </span><span class="str">"$wasmfile"</span><span class="pln"> </span><span class="pun">]]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">exit</span><span class="pln"> </span><span class="lit">1</span><span class="pln">

echo </span><span class="str">"Inserting into $subject from wasm file $wasmfile"</span><span class="pln">

</span><span class="pun">./</span><span class="pln">tostring</span><span class="pun">.</span><span class="pln">sh </span><span class="str">"$wasmfile"</span><span class="pln"> </span><span class="pun">&gt;</span><span class="str">"$tmpfile"</span><span class="pln">

result</span><span class="pun">=</span><span class="str">"$( \
    cat "</span><span class="pln">$subject</span><span class="str">" \
    | sed -n ':b; s/INSERT-WASM-HERE/INSERT-WASM-HERE/; p; t i; n; b b; :i; r '"</span><span class="pln">$tmpfile</span><span class="str">"$'\n''; n' \
)"</span><span class="pln">

cat </span><span class="pun">&gt;</span><span class="str">"$subject"</span><span class="pln"> </span><span class="pun">&lt;&lt;&lt;</span><span class="str">"$result"</span><span class="pln">

rm </span><span class="str">"$tmpfile"</span></code></pre>

<p>This replaces the huge base64 string in main.js directly with the compiled wasm
code. The <code>tostring.sh</code> script looks as follows again:</p>

<pre class="lang-shell prettyprint prettyprinted" style=""><code><span class="com">#!/usr/bin/env bash</span><span class="pln">
</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">[[</span><span class="pln"> $</span><span class="com"># -ge 1 ]]; then</span><span class="pln">
    </span><span class="kwd">exec</span><span class="pln"> </span><span class="pun">&lt;</span><span class="str">"$1"</span><span class="pln">
</span><span class="kwd">fi</span><span class="pln">

</span><span class="com"># $HOME/code/bin2c/bin2c | sed 's/^"//; s/"$//; s/\\a/\\7/g' | tr -d '\n'</span><span class="pln">
base64 </span><span class="pun">|</span><span class="pln"> tr </span><span class="pun">-</span><span class="pln">d </span><span class="str">'\n'</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> python3 </span><span class="pun">-</span><span class="pln">c </span><span class="str">'import sys, re; text = sys.stdin.read(); print("\"" + re.sub(r"(.)\1{29,}", lambda m: "\"+repeat(\"" + m.group(0)[0] + "\"," + str(len(m.group(0))) + ")+\"", text, flags=re.I) + "\"")'</span></code></pre>

<p>The <code>run_test.js</code> script just includes the <code>main.js</code> (including
newly-inserted wasm code) with an <code>eval</code> and calls it twice with some parameters
taken from a game that produced problems once, making sure to wait some time
between the two calls to let the wasm code be instantiated. This provides the
most basic of integration tests; if this doesn't work, something is wrong, and
usually when something is actually wrong it is so wrong that this test fails,
crashes, whatever.</p>

<h3>Hotpatcher</h3>

<p>That leaves the hotpatcher. This is where this whole thing went overboard,
honestly; clang generates fine wasm code, but it fails badly when doing
<em>anything</em> but generating plain instructions. It doesn't emit exports for
exported functions or exported variables, and it for some reason emits an
exported <em>mutable global</em> used as a store for the stack pointer. And even worse,
it actually uses that global. (Fortunately, it doesn't <em>really</em> use it: it
only reads it at function entry and restores it a function exit, which is
easily fixed by replacing the read with a constant and the writes with a
<code>drop</code>.) Now mutable globals are not supported in any wasm implementation I've
seen, so why clang thinks doing this is a good idea is beyond me. I haven't
succeeded in making clang do any of this different, and being a lazy programmer
I didn't like making all these fixes by hand, so I wrote a program to do it for
me.</p>

<p>That program became a 1385 line C++ program that parses, modifies and
re-serialises a wasm file. The source for that program can be found in <a href="https://gist.github.com/tomsmeding/031905a866edbe60152ab99fb03b32fe" rel="nofollow noreferrer">this
gist</a>.</p>

<p>I'm not even going to explain what it all does; only that the actual bloody
<em>patches</em> that it does are in <code>hotpatcher.cpp</code>; all the rest is only to make
that function possible.</p>

<h2>Conclusion</h2>

<p>Does this whole ton of crap need a conclusion? ¯\_(ツ)_/¯ but I guess I'm
obliged to say that this might have been done more easily using emscripten. The
reason I didn't use it is because when you compile a C file using emcc, by
default it generates a complete monstrosity of a JS file and an HTML file along
with it, and the stuff was so insane I just dropped emcc in favour of doing
everything myself. Later I read somewhere that emscripten is supposed to have
some "shared library" mode (shared libraries are a lower-level thing, JS don't
go stealing names that aren't yours) that doesn't generate all that bloatcode,
but then I was already too far into all the fun stuff of bulding my hotpather
(gambler's fallacy anyone?) to try that out.</p>

<p>I hope this is actually useful to someone and that I haven't run over SE's post
size limit in writing this up.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171243" title="short permalink to this answer" class="short-link" id="link-post-171243">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171243/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171243/revisions" title="show all edits to this post">edited <span title="2018-08-28 10:32:38Z" class="relativetime">2 days ago</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-26 21:29:14Z" class="relativetime">Aug 26 at 21:29</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding"><div class="gravatar-wrapper-32"><img src="./original_files/ae275ae74371f0f24d369948a12ac197.jpeg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/6689/tomsmeding">tomsmeding</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,809</span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="18 bronze badges"><span class="badge3"></span><span class="badgecount">18</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171243" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413753" class="comment js-comment " data-comment-id="413753">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I read all of this, mostly interested in the technology involved. I have to ask — at what point in the process did you stop and ask yourself, "What exactly <i>am</i> I doing here anyway?"</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/1256/caleb" title="101 reputation" class="comment-user">Caleb</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413753_171243"><span title="2018-08-29 11:43:44Z" class="relativetime-clean">yesterday</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413769" class="comment js-comment " data-comment-id="413769">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@Caleb "doing here", as in why am I not doing something more useful? Probably sometime during writing the hotpatcher. When it became clear that to patch a few instructions, I'd need to be able to completely parse and understand each individual instruction (since wasm has variable-width instrs), I thought about just giving up and doing something else. But since it's holiday for me now (a few days still!), the sunk cost fallacy was in effect and I wanted to learn how wasm worked <i>anyway</i> some time, I kept at it. (The instr parser wasn't even that difficult.) And I'm kind of proud of the result.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/6689/tomsmeding" title="1,809 reputation" class="comment-user">tomsmeding</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413769_171243"><span title="2018-08-29 14:18:49Z" class="relativetime-clean">yesterday</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413834" class="comment js-comment " data-comment-id="413834">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Never mind the amount of work you sunk into the code, the explanations you gave about how all the parts work is worth a lot more recognition than 3 measly upvotes. It was instructional even if the take away value for me was "run far far away." ;-)</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/1256/caleb" title="101 reputation" class="comment-user">Caleb</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413834_171243"><span title="2018-08-30 07:04:16Z" class="relativetime-clean">17 hours ago</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171243" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171060"></a>
<div id="answer-171060" class="answer" data-answerid="171060" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171060">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">4</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>FarSightedGreed</h2>

<pre><code>function([id, x, y], grid, bots, gameInfo) {
    let value = n =&gt; n ? n == id ? 0 : 2 - Math.abs(id - n) % 3 : 2;
    let directions = [
        {name: "wait", x: 0, y: 0},
        {name: "left", x: -1, y: 0},
        {name: "up", x: 0, y: -1},
        {name: "right", x: 1, y: 0},
        {name: "down", x: 0, y: 1},
    ];
    for (let d of directions) {
        d.score = 0;
        for (let i = 1; ; i++) {
            let px = x + i * d.x;
            let py = y + i * d.y;
            if (px &lt; 0 || py &lt; 0 || px == grid.length || py == grid.length) break;
            if (bots.some(([, x, y]) =&gt; x == px &amp;&amp; y == py)) break;
            d.score += value(grid[px][py]) / i;
        }
    }
    let best = Math.max(...directions.map(({score}) =&gt; score));
    return directions.find(({score}) =&gt; score == best).name;
}
</code></pre>

<p>Name shamelessly plagirised from NearSightedGreed. Simply scores all the visible squares in all cardinal directions according to distance and colour, and chooses the direction with the highest sum.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171060" title="short permalink to this answer" class="short-link" id="link-post-171060">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171060/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-22 15:44:14Z" class="relativetime">Aug 22 at 15:44</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/17602/neil"><div class="gravatar-wrapper-32"><img src="./original_files/4538cb9de4914a875d13da50c7c406ad" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/17602/neil">Neil</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 74,562" dir="ltr">74.6k</span><span title="7 gold badges"><span class="badge1"></span><span class="badgecount">7</span></span><span title="44 silver badges"><span class="badge2"></span><span class="badgecount">44</span></span><span title="169 bronze badges"><span class="badge3"></span><span class="badgecount">169</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171060" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-171060" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170970"></a>
<div id="answer-170970" class="answer" data-answerid="170970" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170970">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">4</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>DFSBot</h2>

<pre><code>function(myself, grid, bots, gameinfo) {
    let max_scores = Array(12);
    max_scores[11] = 0;
    max_scores[10] = 0.05 * (1 + 1e-6 + 16.1 * 1e-10);
    for (let i = 9; i &gt;= 0; i--) {
        max_scores[i] = max_scores[10] + 0.95 * max_scores[i + 1];
    }
    let my_id = myself[0];
    let my_x = myself[1];
    let my_y = myself[2];
    let delta = [[0, -1], [0, 1], [-1, 0], [1, 0], [0, 0]];
    let seen = Array(grid.length).fill().map(() =&gt; Array(grid.length).fill(false)); 
    let scores = Array(bots.length + 2).fill(0);
    for (let i = 0; i &lt; grid.length; i++) {
        for (let j = 0; j &lt; grid.length; j++) {
            scores[grid[i][j]]++;
        }
    }
    function search(x, y, depth) {
        if (depth == 11) {
            return [4, 0];
        }
        let max_score = 0;
        let best_move = 0;
        for (let i = 0; i &lt; 4; i++) {
            let x1 = x + delta[i][0];
            let y1 = y + delta[i][1];
            if ((x1 &lt; 0) || (x1 &gt;= grid.length)) {
                continue;
            }
            if ((y1 &lt; 0) || (y1 &gt;= grid.length)) {
                continue;
            }
            if (seen[x1][y1]) {
                continue;
            }
            let n = 0;
            for (let dx = -1; dx &lt;= 1; dx++) {
                let x2 = x1 + dx;
                if ((x2 &lt; 0) || (x2 &gt;= grid.length)) {
                    continue;
                }
                for (let dy = -1; dy &lt;= 1; dy++) {
                    if ((dx == 0) &amp;&amp; (dy == 0)) {
                        continue;
                    }
                    let y2 = y1 + dy;
                    if ((y2 &lt; 0) || (y2 &gt;= grid.length)) {
                        continue;
                    }
                    n++;
                    if (grid[x2][y2] == my_id) {
                        n++;
                    }
                }
            }
            let prev = grid[x1][y1];
            if (prev == 0) {
                next = my_id;
            } else {
                next = [my_id, 0, prev][Math.abs(my_id - prev) % 3];
            }
            let score = 0;
            score += 1e-10 * (n + 0.1 * Math.random());
            if (next != prev) {
                if (next == my_id) {
                    score += 1;
                }
                if (prev == 0 || scores[prev] &gt; scores[my_id]) {
                    score += 1e-6;    
                } 
            }
            score *= 0.05;
            if (score + 0.95 * max_scores[depth + 1] &lt;= max_score) {
                continue;
            }
            grid[x1][y1] = next;
            seen[x1][y1] = true;
            let final_score = score + 0.95 * search(x1, y1, depth + 1)[1];
            seen[x1][y1] = false;
            grid[x1][y1] = prev;
            if (final_score &gt; max_score) {
                max_score = final_score;
                best_move = i;
            }
        }
        return [best_move, max_score];
    }
    let best_move = search(my_x, my_y, 0)[0];
    return ["up", "down", "left", "right", "wait"][best_move];
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170970" title="short permalink to this answer" class="short-link" id="link-post-170970">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170970/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170970/revisions" title="show all edits to this post">edited <span title="2018-08-27 10:53:42Z" class="relativetime">Aug 27 at 10:53</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 07:44:37Z" class="relativetime">Aug 21 at 7:44</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/18957/user1502040"><div class="gravatar-wrapper-32"><img src="./original_files/3426b85403a8d258a6ee2658722cf85a" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/18957/user1502040">user1502040</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,513</span><span title="8 silver badges"><span class="badge2"></span><span class="badgecount">8</span></span><span title="18 bronze badges"><span class="badge3"></span><span class="badgecount">18</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170970" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413146" class="comment js-comment " data-comment-id="413146">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">2</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">since the maximum possible score at each level is <code>1 + 1e-6 + 8.1 * 1e-10</code> you can implement pruning like so: <a href="https://pastebin.com/wkTppSLj" rel="nofollow noreferrer">pastebin.com/wkTppSLj</a> this speeds the bot up by a lot</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/12324/samyonnou" title="686 reputation" class="comment-user">SamYonnou</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413146_170970"><span title="2018-08-24 16:41:22Z" class="relativetime-clean">Aug 24 at 16:41</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413197" class="comment js-comment " data-comment-id="413197">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I would up-vote this bot if it's slowness is solved.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/81663/night2" title="1,609 reputation" class="comment-user">Night2</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413197_170970"><span title="2018-08-25 10:13:39Z" class="relativetime-clean">Aug 25 at 10:13</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413457" class="comment js-comment " data-comment-id="413457">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@Night2 OK, Done.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/18957/user1502040" title="1,513 reputation" class="comment-user">user1502040</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413457_170970"><span title="2018-08-27 10:30:00Z" class="relativetime-clean">Aug 27 at 10:30</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413460" class="comment js-comment " data-comment-id="413460">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@dzaima OK, it should be much faster now.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/18957/user1502040" title="1,513 reputation" class="comment-user">user1502040</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413460_170970"><span title="2018-08-27 10:54:04Z" class="relativetime-clean">Aug 27 at 10:54</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170970" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170959"></a>
<div id="answer-170959" class="answer" data-answerid="170959" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170959">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Humble Paint Salesman</h1>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="com">// Humble Paint Salesman</span><span class="pln">
</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// if first move</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">size </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">size </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dx </span><span class="pun">=</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mid </span><span class="pun">?</span><span class="pln"> </span><span class="str">"right"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dy </span><span class="pun">=</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mid </span><span class="pun">?</span><span class="pln"> </span><span class="str">"down"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flip </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dict </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dict </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                right</span><span class="pun">:</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln">
                left</span><span class="pun">:</span><span class="pln"> </span><span class="str">"right"</span><span class="pun">,</span><span class="pln">
                down</span><span class="pun">:</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">,</span><span class="pln">
                up</span><span class="pun">:</span><span class="pln"> </span><span class="str">"down"</span><span class="pln">
            </span><span class="pun">};</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dict</span><span class="pun">[</span><span class="pln">v</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">queue </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">.</span><span class="pln">shift</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">x </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> x </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">size</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dx </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flip</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dx</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">y </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">size</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dy </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">flip</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dy</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">queue</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dx</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dy</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dx</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Simply covers the board, iterating up and down the board. Waits if the cell below him is empty (a salesman must peddle his wares!).</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170959" title="short permalink to this answer" class="short-link" id="link-post-170959">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170959/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170959/revisions" title="show all edits to this post">edited <span title="2018-08-21 11:02:57Z" class="relativetime">Aug 21 at 11:02</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-21 01:44:21Z" class="relativetime">Aug 21 at 1:44</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/31957/conor-obrien"><div class="gravatar-wrapper-32"><img src="./original_files/photo(2).jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/31957/conor-obrien">Conor O'Brien</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 28,015" dir="ltr">28k</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="62 silver badges"><span class="badge2"></span><span class="badgecount">62</span></span><span title="156 bronze badges"><span class="badge3"></span><span class="badgecount">156</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170959" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412602" class="comment js-comment " data-comment-id="412602">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Hey, <code>gameInfo[0] == 2</code> can be changed to <code>gameInfo[0] == 1</code> now. The error has been fixed</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412602_170959"><span title="2018-08-21 10:52:36Z" class="relativetime-clean">Aug 21 at 10:52</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412737" class="comment js-comment " data-comment-id="412737">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@BetaDecay Thank you! I forgot to mention, it's been fixed on my end as well'</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/31957/conor-obrien" title="28,015 reputation" class="comment-user">Conor O'Brien</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412737_170959"><span title="2018-08-22 11:12:35Z" class="relativetime-clean">Aug 22 at 11:12</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-170959" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171063"></a>
<div id="answer-171063" class="answer" data-answerid="171063" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171063">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>DragonBot</h1>

<pre><code>function dragonCurve(myself, grid, bots, gameInfo){
  dCurve=n=&gt;{
    if(n==0){return "1 "}
    return dCurve(n-1).replace(/(.)(.)/g,"1$10$2")
  }
  [id,x,y]=myself;
  dir=0;
  if(gameInfo[0]==1){
    dragon=dCurve(12);
    if(x&lt;3*bots.length-x){
      if(y&lt;x){dir=0;}
      else if(3*bots.length-y&lt;x){dir=2;}
      else{dir=3;}
    }
    else{
      if(y&lt;3*bots.length-x){dir=0;}
      else if(y&gt;x){dir=2;}
      else{dir=1;}
    }
    window.localStorage.setItem("dragon",dragon);
    window.localStorage.setItem("dragonDir",dir);
    window.localStorage.setItem("dragonStep",0);
    return ["up","right","down","left"][dir];
  }
  dragon=window.localStorage.getItem("dragon")
  dir=window.localStorage.getItem("dragonDir")-0;
  step=window.localStorage.getItem("dragonStep")-0;
  if(gameInfo[0]%2==0){
    return ["up","right","down","left"][dir];
  }
  validStep=false;
  while(!validStep){
    if(-dragon[step]){dir=(dir+1)%4;}
    else{dir=(dir+3)%4;}
    step+=1;
    validStep=((dir==0&amp;&amp;y!=0)||(dir==3&amp;&amp;x!=0)||(dir==1&amp;&amp;x!=3*bots.length-1)||(dir==2&amp;&amp;y!=3*bots.length-1));
  }
  window.localStorage.setItem("dragon",dragon);
  window.localStorage.setItem("dragonDir",dir);
  window.localStorage.setItem("dragonStep",step);
  return ["up","right","down","left"][dir];
}
</code></pre>

<p>DragonBot simply tries to draw a dragon curve with side lengths of 2 (so that it leaves spaces).</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171063" title="short permalink to this answer" class="short-link" id="link-post-171063">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171063/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171063/revisions" title="show all edits to this post">edited <span title="2018-08-22 19:48:12Z" class="relativetime">Aug 22 at 19:48</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-22 17:57:23Z" class="relativetime">Aug 22 at 17:57</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/64505/f%c9%99%cb%88n%c9%9bt%c9%aak"><div class="gravatar-wrapper-32"><img src="./original_files/photo(3).jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/64505/f%c9%99%cb%88n%c9%9bt%c9%aak">fəˈnɛtɪk</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">3,533</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="5 silver badges"><span class="badge2"></span><span class="badgecount">5</span></span><span title="37 bronze badges"><span class="badge3"></span><span class="badgecount">37</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171063" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="1" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412864" class="comment js-comment " data-comment-id="412864">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I'm surprised it took people so long to try to draw pictures!</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412864_171063"><span title="2018-08-22 17:59:02Z" class="relativetime-clean">Aug 22 at 17:59</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412866" class="comment js-comment " data-comment-id="412866">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">It took me a while to figure out my dragon curve function. If it runs into a wall it keeps going through the right and left commands until it finds one which works. I extended the length of the dragon curve to 8k elements so that this process should hopefully not cause it to run out.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/64505/f%c9%99%cb%88n%c9%9bt%c9%aak" title="3,533 reputation" class="comment-user">fəˈnɛtɪk</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412866_171063"><span title="2018-08-22 18:01:04Z" class="relativetime-clean">Aug 22 at 18:01</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"></path></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412885" class="comment js-comment " data-comment-id="412885">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">DragonBot errored: <code>window.localStorage.getItem is not a function or its return value is not iterable (line 23 column 41)</code></span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/11164/kenorb" title="382 reputation" class="comment-user">kenorb</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412885_171063"><span title="2018-08-22 19:01:00Z" class="relativetime-clean">Aug 22 at 19:01</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413373" class="comment js-comment " data-comment-id="413373">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Look at my bot "TheFollower" for how <code>window.localStorage</code> can be used. <code>window.localStorage.NAME = VALUE</code> should work.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/55550/zachar%c3%bd" title="4,770 reputation" class="comment-user">Zacharý</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413373_171063"><span title="2018-08-26 16:54:43Z" class="relativetime-clean">Aug 26 at 16:54</span></a></span>
                        <span title="this comment was edited 2 times">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"></path></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413374" class="comment js-comment " data-comment-id="413374">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@Zacharý It is working already using key value pairs</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/64505/f%c9%99%cb%88n%c9%9bt%c9%aak" title="3,533 reputation" class="comment-user">fəˈnɛtɪk</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413374_171063"><span title="2018-08-26 16:57:00Z" class="relativetime-clean">Aug 26 at 16:57</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171063" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="171246"></a>
<div id="answer-171246" class="answer" data-answerid="171246" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171246">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Drone-BEA7</h1>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">(</span><span class="pln">myData</span><span class="pun">,</span><span class="pln"> gridData</span><span class="pun">,</span><span class="pln"> botData</span><span class="pun">,</span><span class="pln"> gameInfoData</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> customSetup</span><span class="pun">(</span><span class="pln">fThis</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fThis</span><span class="pun">.</span><span class="pln">botUID </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    fThis</span><span class="pun">.</span><span class="pln">swarm </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="lit">3</span><span class="pun">);</span><span class="pln">
    fThis</span><span class="pun">.</span><span class="pln">matchedSize </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    bots</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">failedSignal </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">trespass </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">desecrate </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">delete</span><span class="pln"> fThis</span><span class="pun">.</span><span class="pln">connected</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">delete</span><span class="pln"> fThis</span><span class="pun">.</span><span class="pln">target</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">delete</span><span class="pln"> fThis</span><span class="pun">.</span><span class="pln">chaser</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">delete</span><span class="pln"> fThis</span><span class="pun">.</span><span class="pln">cleaners</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">delete</span><span class="pln"> fThis</span><span class="pun">.</span><span class="pln">roamers</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">let</span><span class="pln"> XY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">xyClass</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">let</span><span class="pln"> </span><span class="typ">Bot</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botClass</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">let</span><span class="pln"> </span><span class="typ">Cell</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cellClass</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> at</span><span class="pun">(</span><span class="pln">pos</span><span class="pun">,</span><span class="pln"> usedGrid </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// NEVER EVER THINK ABOUT PUTTING THIS ON THE GRID ITSELF</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> pos</span><span class="pun">.</span><span class="pln">withinBounds</span><span class="pun">()</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> usedGrid</span><span class="pun">[</span><span class="pln">pos</span><span class="pun">.</span><span class="pln">toIndex</span><span class="pun">()]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Cell</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfoData</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    XY </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">xyClass </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">class</span><span class="pln"> XY </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      </span><span class="kwd">static</span><span class="pln"> fromIndex</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="pln">index </span><span class="pun">/</span><span class="pln"> gridSize</span><span class="pun">),</span><span class="pln"> index </span><span class="pun">%</span><span class="pln"> gridSize</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      toIndex</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">*</span><span class="pln"> gridSize </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      add</span><span class="pun">(</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">+</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">+</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      sub</span><span class="pun">(</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">-</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      div</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">round</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">/</span><span class="pln"> v</span><span class="pun">),</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">round</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">/</span><span class="pln"> v</span><span class="pun">));</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      mul</span><span class="pun">(</span><span class="pln">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">round</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">*</span><span class="pln"> m</span><span class="pun">),</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">round</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">*</span><span class="pln"> m</span><span class="pun">));</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      equals</span><span class="pun">(</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">===</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">===</span><span class="pln"> other</span><span class="pun">.</span><span class="pln">y</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      distance</span><span class="pun">(</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">other</span><span class="pun">.</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">other</span><span class="pun">.</span><span class="pln">y </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      chebyshevDistance</span><span class="pun">(</span><span class="pln">other</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">other</span><span class="pun">.</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x</span><span class="pun">),</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">other</span><span class="pun">.</span><span class="pln">y </span><span class="pun">-</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y</span><span class="pun">));</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      withinBounds</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&lt;</span><span class="pln"> gridSize </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&lt;</span><span class="pln"> gridSize</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      getNeighbors</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> neighbors</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">p </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">p</span><span class="pun">));</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      getRealNeighbors</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getNeighbors</span><span class="pun">().</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">p </span><span class="pun">=&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">withinBounds</span><span class="pun">());</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="typ">Bot</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botClass </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Bot</span><span class="pln"> extends XY </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">botData</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        super</span><span class="pun">(</span><span class="pln">botData</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> botData</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> botData</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">score </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dead </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="typ">Cell</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cellClass </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Cell</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> xy</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">pos </span><span class="pun">=</span><span class="pln"> xy</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botMap </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botIDs </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    botData</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">d </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botMap</span><span class="pun">[</span><span class="pln">d</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Bot</span><span class="pun">(</span><span class="pln">d</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botIDs</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">d</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentRound </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">delete</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">prevGrid</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> gridSize </span><span class="pun">=</span><span class="pln"> gridData</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> gridSizeSqr </span><span class="pun">=</span><span class="pln"> gridSize </span><span class="pun">*</span><span class="pln"> gridSize</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> grid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">(</span><span class="pln">gridSize </span><span class="pun">*</span><span class="pln"> gridSize</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> gridSize</span><span class="pun">;</span><span class="pln"> x</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> gridSize</span><span class="pun">;</span><span class="pln"> y</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      grid</span><span class="pun">[</span><span class="pln">x </span><span class="pun">*</span><span class="pln"> gridSize </span><span class="pun">+</span><span class="pln"> y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Cell</span><span class="pun">(</span><span class="pln">gridData</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">],</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> y</span><span class="pun">));</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> prevGrid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">prevGrid</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">prevGrid </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> bots </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> botMap </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botMap</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botIDs</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">id </span><span class="pun">=&gt;</span><span class="pln"> botMap</span><span class="pun">[</span><span class="pln">id</span><span class="pun">].</span><span class="pln">dead </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
  botData</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">d </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> r </span><span class="pun">=</span><span class="pln"> botMap</span><span class="pun">[</span><span class="pln">d</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]];</span><span class="pln">
    r</span><span class="pun">.</span><span class="pln">dead </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
    r</span><span class="pun">.</span><span class="pln">lastPosition </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="pln">r</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> r</span><span class="pun">.</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
    r</span><span class="pun">.</span><span class="pln">x </span><span class="pun">=</span><span class="pln"> d</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
    r</span><span class="pun">.</span><span class="pln">y </span><span class="pun">=</span><span class="pln"> d</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
    r</span><span class="pun">.</span><span class="pln">score </span><span class="pun">=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">sum</span><span class="pun">,</span><span class="pln"> cell</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> sum </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">cell</span><span class="pun">.</span><span class="pln">id </span><span class="pun">===</span><span class="pln"> r</span><span class="pun">.</span><span class="pln">id</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    bots</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">r</span><span class="pun">);</span><span class="pln">
    at</span><span class="pun">(</span><span class="pln">r</span><span class="pun">).</span><span class="pln">bot </span><span class="pun">=</span><span class="pln"> r</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> me </span><span class="pun">=</span><span class="pln"> botMap</span><span class="pun">[</span><span class="pln">myData</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]];</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> currentRound </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">currentRound</span><span class="pun">++;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> maxRound </span><span class="pun">=</span><span class="pln"> gameInfoData</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> zero </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> neighbors </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> XY</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">)];</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> moves </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">];</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gameInfoData</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    customSetup</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> rand</span><span class="pun">(</span><span class="pln">max </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> min </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> min </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">max </span><span class="pun">-</span><span class="pln"> min</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> randInt</span><span class="pun">(</span><span class="pln">max</span><span class="pun">,</span><span class="pln"> min </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="pln">rand</span><span class="pun">(</span><span class="pln">max</span><span class="pun">,</span><span class="pln"> min</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> roll</span><span class="pun">(</span><span class="pln">chance </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> chance</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> separation</span><span class="pun">(</span><span class="pln">id1</span><span class="pun">,</span><span class="pln"> id2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">id1 </span><span class="pun">-</span><span class="pln"> id2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> value</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> bot </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> id </span><span class="pun">===</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">id </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> id </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> id </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">][</span><span class="pln">separation</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> id</span><span class="pun">)];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> travelTo</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">,</span><span class="pln"> start </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> relative </span><span class="pun">=</span><span class="pln"> goal</span><span class="pun">.</span><span class="pln">sub</span><span class="pun">(</span><span class="pln">start</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">relative</span><span class="pun">.</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">relative</span><span class="pun">.</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">(</span><span class="pln">
      relative</span><span class="pun">.</span><span class="pln">x </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pln">
    </span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="pln">
      relative</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> relative</span><span class="pun">.</span><span class="pln">y </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> travelToList</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">,</span><span class="pln"> start </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> relative </span><span class="pun">=</span><span class="pln"> goal</span><span class="pun">.</span><span class="pln">sub</span><span class="pun">(</span><span class="pln">start</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[...</span><span class="pln">start</span><span class="pun">.</span><span class="pln">getRealNeighbors</span><span class="pun">(),</span><span class="pln"> start</span><span class="pun">].</span><span class="pln">sort</span><span class="pun">((</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">chebyshevDistance</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">chebyshevDistance</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">))</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> gridSizeSqr </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">goal</span><span class="pun">)));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> swarm </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">swarm</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> swarmSize </span><span class="pun">=</span><span class="pln"> swarm</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> botUID </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">botUID</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">const</span><span class="pln"> signalPatterns </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">]];</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> patternMove</span><span class="pun">(</span><span class="pln">pos</span><span class="pun">,</span><span class="pln"> round</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...</span><span class="pln">pattern</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> e </span><span class="pun">=</span><span class="pln"> pattern</span><span class="pun">[</span><span class="pln">round </span><span class="pun">%</span><span class="pln"> pattern</span><span class="pun">.</span><span class="pln">length</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> f </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> calcPos</span><span class="pun">(</span><span class="pln">d</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> pos</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">neighbors</span><span class="pun">[</span><span class="pln">d</span><span class="pun">]);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">calcPos</span><span class="pun">(</span><span class="pln">e</span><span class="pun">).</span><span class="pln">withinBounds</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> e</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> f</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> signal</span><span class="pun">(</span><span class="pln">uid </span><span class="pun">=</span><span class="pln"> botUID</span><span class="pun">,</span><span class="pln"> pos </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">,</span><span class="pln"> round </span><span class="pun">=</span><span class="pln"> currentRound</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> patternMove</span><span class="pun">(</span><span class="pln">pos</span><span class="pun">,</span><span class="pln"> round</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...</span><span class="pln">signalPatterns</span><span class="pun">[</span><span class="pln">uid</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">currentRound</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> swarmSize</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> consideredBots </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">!(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">failedSignal </span><span class="pun">&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> i</span><span class="pun">)));</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> matchedBots </span><span class="pun">=</span><span class="pln"> consideredBots</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">const</span><span class="pln"> prevPos </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">lastPosition</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">const</span><span class="pln"> expected </span><span class="pun">=</span><span class="pln"> neighbors</span><span class="pun">[</span><span class="pln">signal</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> prevPos</span><span class="pun">,</span><span class="pln"> currentRound </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)];</span><span class="pln">
          </span><span class="kwd">const</span><span class="pln"> performed </span><span class="pun">=</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">sub</span><span class="pun">(</span><span class="pln">prevPos</span><span class="pun">);</span><span class="pln">
          </span><span class="kwd">const</span><span class="pln"> matched </span><span class="pun">=</span><span class="pln"> performed</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">(</span><span class="pln">expected</span><span class="pun">);</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">matched</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            b</span><span class="pun">.</span><span class="pln">failedSignal </span><span class="pun">|=</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> i</span><span class="pun">);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> matched</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">});</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">matchedBots</span><span class="pun">.</span><span class="pln">length </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> matchedBots</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
          swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">member </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">matchedSize</span><span class="pun">++;</span><span class="pln">
          console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Swarm member"</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> </span><span class="str">"found!"</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> findTarget</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> lists </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    lists</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">candidate</span><span class="pun">));</span><span class="pln">
    lists</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">lists</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">separations</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln">
    lists</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">lists</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">speed </span><span class="pun">===</span><span class="pln"> </span><span class="lit">3</span><span class="pun">));</span><span class="pln">
    lists</span><span class="pun">.</span><span class="pln">unshift</span><span class="pun">(</span><span class="pln">lists</span><span class="pun">[</span><span class="lit">2</span><span class="pun">].</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">separations</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> bestList </span><span class="pun">=</span><span class="pln"> lists</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">l </span><span class="pun">=&gt;</span><span class="pln"> l</span><span class="pun">.</span><span class="pln">length</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">bestList</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"No more targets!"</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> bestTarget </span><span class="pun">=</span><span class="pln"> bestList</span><span class="pun">.</span><span class="pln">sort</span><span class="pun">((</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">trespass </span><span class="pun">-</span><span class="pln"> a</span><span class="pun">.</span><span class="pln">trespass</span><span class="pun">)[</span><span class="lit">0</span><span class="pun">];</span><span class="pln"> </span><span class="com">// TODO: Remove sort. TODO: Improve.</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Best target:"</span><span class="pun">,</span><span class="pln"> bestTarget</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> bestTarget</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">matchedSize </span><span class="pun">===</span><span class="pln"> swarmSize</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">connected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      bots</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> separations </span><span class="pun">=</span><span class="pln"> swarm</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> separation</span><span class="pun">(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> m</span><span class="pun">.</span><span class="pln">id</span><span class="pun">));</span><span class="pln">
        </span><span class="kwd">const</span><span class="pln"> speed </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="pln">separations</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">sum</span><span class="pun">,</span><span class="pln"> val</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> sum </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">val </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln">
        b</span><span class="pun">.</span><span class="pln">removal </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">separations</span><span class="pun">:</span><span class="pln"> separations</span><span class="pun">,</span><span class="pln"> speed</span><span class="pun">:</span><span class="pln"> speed</span><span class="pun">,</span><span class="pln"> candidate</span><span class="pun">:</span><span class="pln"> speed </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">b</span><span class="pun">.</span><span class="pln">member</span><span class="pun">};</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"All connections established."</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">connected </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    bots</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">separations</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> at</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> prevGrid</span><span class="pun">).</span><span class="pln">id </span><span class="pun">===</span><span class="pln"> swarm</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        b</span><span class="pun">.</span><span class="pln">desecrate</span><span class="pun">++;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
      swarm</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">((</span><span class="pln">m</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">separations</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> at</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> prevGrid</span><span class="pun">).</span><span class="pln">id </span><span class="pun">===</span><span class="pln"> m</span><span class="pun">.</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          b</span><span class="pun">.</span><span class="pln">trespass</span><span class="pun">++;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target</span><span class="pun">.</span><span class="pln">dead</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target </span><span class="pun">=</span><span class="pln"> findTarget</span><span class="pun">();</span><span class="pln">

      swarm</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">delete</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">partner</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">

      </span><span class="kwd">const</span><span class="pln"> sep </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target</span><span class="pun">.</span><span class="pln">removal</span><span class="pun">.</span><span class="pln">separations</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> overwriters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> eraser </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> helpers </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> 
      </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> swarmSize</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">partner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sep</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          overwriters</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sep</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          eraser</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sep</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> swarmSize</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">sep</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              swarm</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">partner </span><span class="pun">=</span><span class="pln"> swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
              swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">partner </span><span class="pun">=</span><span class="pln"> swarm</span><span class="pun">[</span><span class="pln">j</span><span class="pun">];</span><span class="pln">
              eraser</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
              </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
          </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">partner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            helpers</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">

      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">chaser </span><span class="pun">=</span><span class="pln"> eraser</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> overwriters</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">();</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cleaners </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[...</span><span class="pln">overwriters</span><span class="pun">,</span><span class="pln"> </span><span class="pun">...</span><span class="pln">eraser</span><span class="pun">];</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">roamers </span><span class="pun">=</span><span class="pln"> helpers</span><span class="pun">;</span><span class="pln"> </span><span class="com">// TODO: Make helpers more useful by making them simply target the next guy?</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">function</span><span class="pln"> findImmediate</span><span class="pun">(</span><span class="pln">target</span><span class="pun">,</span><span class="pln"> bot </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> list </span><span class="pun">=</span><span class="pln"> travelToList</span><span class="pun">(</span><span class="pln">target</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> list</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">p </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">at</span><span class="pun">(</span><span class="pln">p</span><span class="pun">).</span><span class="pln">reserved</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> list</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    grid</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">c </span><span class="pun">=&gt;</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">reserved </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> reserve</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">,</span><span class="pln"> target</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">target</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        bot</span><span class="pun">.</span><span class="pln">immediateTarget </span><span class="pun">=</span><span class="pln"> findImmediate</span><span class="pun">(</span><span class="pln">target</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">);</span><span class="pln">
        bot</span><span class="pun">.</span><span class="pln">target </span><span class="pun">=</span><span class="pln"> target</span><span class="pun">;</span><span class="pln">
        at</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">immediateTarget</span><span class="pun">).</span><span class="pln">reserved</span><span class="pun">++;</span><span class="pln">
        at</span><span class="pun">(</span><span class="pln">target</span><span class="pun">).</span><span class="pln">reserved</span><span class="pun">++;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> unreserve</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">target</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        at</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">immediateTarget</span><span class="pun">).</span><span class="pln">reserved</span><span class="pun">--;</span><span class="pln">
        at</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">target</span><span class="pun">).</span><span class="pln">reserved</span><span class="pun">--;</span><span class="pln">
        </span><span class="kwd">delete</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">immediateTarget</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">delete</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">target</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    reserve</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">chaser</span><span class="pun">,</span><span class="pln"> chase</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target</span><span class="pun">));</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> swarmSize</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> emergency </span><span class="pun">=</span><span class="pln"> preserveLife</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">emergency</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        unreserve</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
        reserve</span><span class="pun">(</span><span class="pln">swarm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> emergency</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cleaners</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> reserve</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> clean</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">target</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cleaners</span><span class="pun">)));</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">roamers</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> reserve</span><span class="pun">(</span><span class="pln">b</span><span class="pun">,</span><span class="pln"> roam</span><span class="pun">(</span><span class="pln">b</span><span class="pun">)));</span><span class="pln">

    </span><span class="kwd">const</span><span class="pln"> immediateTarget </span><span class="pun">=</span><span class="pln"> me</span><span class="pun">.</span><span class="pln">immediateTarget </span><span class="pun">||</span><span class="pln"> findImmediate</span><span class="pun">(</span><span class="pln">me</span><span class="pun">.</span><span class="pln">partner</span><span class="pun">.</span><span class="pln">target</span><span class="pun">);</span><span class="pln">
    swarm</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> unreserve</span><span class="pun">(</span><span class="pln">b</span><span class="pun">));</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> moves</span><span class="pun">[</span><span class="pln">travelTo</span><span class="pun">(</span><span class="pln">immediateTarget</span><span class="pun">)];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> moves</span><span class="pun">[</span><span class="pln">signal</span><span class="pun">()];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="kwd">function</span><span class="pln"> chase</span><span class="pun">(</span><span class="pln">target</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> target</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> clean</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">,</span><span class="pln"> target</span><span class="pun">,</span><span class="pln"> cleaners</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">id </span><span class="pun">===</span><span class="pln"> target</span><span class="pun">.</span><span class="pln">id </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">c</span><span class="pun">.</span><span class="pln">reserved</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}).</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">best</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> closest </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(...</span><span class="pln">cleaners</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">)));</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> distance </span><span class="pun">=</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> wrongness </span><span class="pun">=</span><span class="pln"> distance </span><span class="pun">-</span><span class="pln"> closest</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> distanceFromTarget </span><span class="pun">=</span><span class="pln"> target</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">wrongness </span><span class="pun">&lt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">wrongness </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">wrongness </span><span class="pun">===</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">wrongness </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">&lt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">distance </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">===</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">distance </span><span class="pun">&amp;&amp;</span><span class="pln"> distanceFromTarget </span><span class="pun">&gt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">distanceFromTarget</span><span class="pun">))))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">wrongness</span><span class="pun">:</span><span class="pln"> wrongness</span><span class="pun">,</span><span class="pln"> distance</span><span class="pun">:</span><span class="pln"> distance</span><span class="pun">,</span><span class="pln"> distanceFromTarget</span><span class="pun">:</span><span class="pln"> distanceFromTarget</span><span class="pun">,</span><span class="pln"> pos</span><span class="pun">:</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">};</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> best</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">wrongness</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> distance</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> distanceFromTarget</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> pos</span><span class="pun">:</span><span class="pln"> bot</span><span class="pun">}).</span><span class="pln">pos</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> roam</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> dangerousBots </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">b</span><span class="pun">.</span><span class="pln">member </span><span class="pun">&amp;&amp;</span><span class="pln"> separation</span><span class="pun">(</span><span class="pln">b</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">c</span><span class="pun">.</span><span class="pln">bot </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">c</span><span class="pun">.</span><span class="pln">reserved </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">swarm</span><span class="pun">.</span><span class="pln">find</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="pln">id </span><span class="pun">===</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}).</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">best</span><span class="pun">,</span><span class="pln"> c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> val </span><span class="pun">=</span><span class="pln"> value</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> distance </span><span class="pun">=</span><span class="pln"> bot</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> comfyness </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">.</span><span class="pln">getNeighbors</span><span class="pun">().</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">sum</span><span class="pun">,</span><span class="pln"> next</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> sum </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">value</span><span class="pun">(</span><span class="pln">at</span><span class="pun">(</span><span class="pln">next</span><span class="pun">).</span><span class="pln">id</span><span class="pun">,</span><span class="pln"> bot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> closestBotDist </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(...</span><span class="pln">dangerousBots</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">b </span><span class="pun">=&gt;</span><span class="pln"> b</span><span class="pun">.</span><span class="pln">distance</span><span class="pun">(</span><span class="pln">c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">)));</span><span class="pln">
      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">&lt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">distance </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">distance </span><span class="pun">===</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">distance </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">val </span><span class="pun">&gt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">val </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">val </span><span class="pun">===</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">val </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">comfyness </span><span class="pun">&gt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">comfyness </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">comfyness </span><span class="pun">===</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">comfyness </span><span class="pun">&amp;&amp;</span><span class="pln"> closestBotDist </span><span class="pun">&gt;</span><span class="pln"> best</span><span class="pun">.</span><span class="pln">closestBotDist</span><span class="pun">))))))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">distance</span><span class="pun">:</span><span class="pln"> distance</span><span class="pun">,</span><span class="pln"> val</span><span class="pun">:</span><span class="pln"> val</span><span class="pun">,</span><span class="pln"> comfyness</span><span class="pun">:</span><span class="pln"> comfyness</span><span class="pun">,</span><span class="pln"> closestBotDist</span><span class="pun">:</span><span class="pln"> closestBotDist</span><span class="pun">,</span><span class="pln"> pos</span><span class="pun">:</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">pos</span><span class="pun">};</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> best</span><span class="pun">;</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">distance</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> val</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> comfyness</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> closestBotDist</span><span class="pun">:</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">Infinity</span><span class="pun">,</span><span class="pln"> pos</span><span class="pun">:</span><span class="pln"> bot</span><span class="pun">}).</span><span class="pln">pos</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> preserveLife</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bot</span><span class="pun">.</span><span class="pln">score </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">20</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> roam</span><span class="pun">(</span><span class="pln">bot</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>This is the leader of a trio of drones. Their task is simple: destroy enemy painters with the power of coding and algorithms! A more in-depth description is coming soon, along with much-needed performance optimizations.</p>

<h2>Changelog</h2>

<h3>1.1</h3>

<ul>
<li>Fixed on the official controller</li>
<li>Improved performance by ~25%</li>
</ul>

<h3>1.0</h3>

<ul>
<li>Initial release</li>
</ul>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171246" title="short permalink to this answer" class="short-link" id="link-post-171246">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171246/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171246/revisions" title="show all edits to this post">edited <span title="2018-08-27 13:42:39Z" class="relativetime">Aug 27 at 13:42</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-26 21:38:03Z" class="relativetime">Aug 26 at 21:38</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/74965/alion"><div class="gravatar-wrapper-32"><img src="./original_files/a817221499718606e2b0ad22e99a4ab9" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/74965/alion">Alion</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">475</span><span title="4 silver badges"><span class="badge2"></span><span class="badgecount">4</span></span><span title="7 bronze badges"><span class="badge3"></span><span class="badgecount">7</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171246" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-171246" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171001"></a>
<div id="answer-171001" class="answer" data-answerid="171001" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171001">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>AnnoyingLittleBrother</h1>

<pre><code>function(myself, grid, bots, gameInfo) {   

    // Some paramters      
    var brother_loop_count = 0;
    var brother_score = -1;          
    var brother_id = 0;        
    var number_of_brothers_followed = 0;
    var num_of_bots = -1;

    var saw_all_brothers_moves = 0;
    var moves_write = 0;  
    let moves_to_follow = 30;      // How much moves will we follow? 
    let moves_to_use = 5; // Only follow the last 5 elements of this array
    var moves_saw = makeArray(moves_to_follow, 2, 0);  

    var my_id = myself[0];
    var my_x = myself[1];
    var my_y = myself[2];
    var round = gameInfo[0];
    var end_round = gameInfo[1];
    var last_num_of_bots = 0;  

    // Handle Storage 
    if(!localStorage.LB_nfirst){ // First round (Dont rely on round number)
      localStorage.LB_nfirst = true;

      brother_loop_count = 0;// lock on to anyone
      moves_write = 0;
      moves_saw = makeArray(moves_to_follow, 2, 0);
      let num_of_bots = bots.length;

      localStorage.LB_moves_saw = encode_moves(moves_saw);
      localStorage.LB_moves_write = moves_write;// Save it
      localStorage.LB_brother_id = brother_id;// Save it            
      localStorage.LB_brother_loop_count = brother_loop_count; // Save it     
      localStorage.LB_saw_all_brothers_moves = saw_all_brothers_moves;
      localStorage.LB_number_of_brothers_followed = number_of_brothers_followed;
      localStorage.LB_num_of_bots = num_of_bots;
    }
    else{
      moves_saw = decode_moves(localStorage.LB_moves_saw);
      moves_write = parseInt(localStorage.LB_moves_write);
      brother_id = parseInt(localStorage.LB_brother_id); 
      brother_loop_count = parseInt(localStorage.LB_brother_loop_count);
      saw_all_brothers_moves = parseInt(localStorage.LB_saw_all_brothers_moves);
      last_num_of_bots = parseInt(localStorage.LB_last_num_of_bots);
      number_of_brothers_followed = parseInt(localStorage.LB_number_of_brothers_followed);
      num_of_bots = parseInt(localStorage.LB_num_of_bots);
    }

    // Check if our big brother was eliminated
    if(last_num_of_bots !== bots.length){
      // A bot was elimitated. Just tell LittleBrother to search for a new brother
      var found = false;
      for(var i = 0; i&lt;bots.length; i++){
          if (bots[i][0]==brother_id){
              found = true;
              break;
          }
      }
      if(!found){
          brother_loop_count = 0;
          brother_id = 0;
      }
      last_num_of_bots = bots.length;       
    }
    // Check if we are in a infinite loop with big brother
    function equals(a, b) {
        return a[0]===b[0] &amp;&amp; a[1]===b[1];
    }    
    if (brother_id !== 0 &amp;&amp; (saw_all_brothers_moves===1)){   
        var found_curr_step = new Uint32Array(moves_to_use);
        var left = (moves_write+1)%moves_to_follow;
        var right = (moves_write+1+moves_to_use)%moves_to_follow;
        if (right &gt; left){var comp = moves_saw.slice(left,right);}
        else{var comp = moves_saw.slice(left);comp.push(...moves_saw.slice(0,right));}        
        for (var i = 0; i &lt; moves_to_follow-moves_to_use; i++){
            for (var j = 0; j &lt; moves_to_use; j++){if(equals(comp[j], moves_saw[(i+right)%moves_to_follow])){found_curr_step[j]=true;}}
        }
        var should_clear = true;
        for(var j = 0; j &lt; moves_to_use; j++){if(!found_curr_step[j]){should_clear = false;break;}}
        if (should_clear){
            brother_loop_count = 0;
            brother_id = 0;
        }

    }

    // Are we tired of this brother yet?
    if (brother_loop_count === 0){
      // Determine each bot's score
      var bot_scores = new Uint32Array(num_of_bots+1);
      for (var x = 0; x &lt; grid.length; x++) {
        for (var y = 0; y &lt; grid.length; y++) {
          bot_scores[grid[x][y]] += 1;    // Increase the score of the bot's who color this is
          // The eliminated bots' scores will just stay zero
        }
      }

      // Find a bot to follow
      brother_id = 0;
      if (Math.random() &gt; 0.6){
        var backup_bro = 0;
        var tolerance = 0;
        var chance = Math.random();
        if (chance &gt; 2){tolerance = 1;} // Never
        if (chance &gt; 2){tolerance = 2;} // Never
        for (var uid = 1; uid &lt; bot_scores.length; uid++){
          if (bot_scores[uid]&gt;brother_score &amp;&amp; my_id!==uid){
            if (Math.abs(my_id - uid)%3&lt;=tolerance){// Will it be annoying to the brother?  
              brother_score = bot_scores[uid];
              brother_id = uid;
            }
            else{
              if(Math.abs(my_id - uid)%3&lt;2){
                backup_id = uid; // In case we didn't find what we wanted.
              }
            }
          }
        }
      }
      // If we don't have a brother yet, find a random one
      if (brother_id === 0){
        var tries = 0;
        do{
          var ridx = Math.round(Math.random()*(bots.length-1));
          if(bots[ridx][0]!==my_id &amp;&amp; Math.abs(my_id - bots[ridx][0])%3===0){
            brother_id = bots[ridx][0];
          }
        }while(brother_id === 0 &amp;&amp; tries++&lt;=20);
      }
      if (brother_id===0){brother_id = (my_id===1)?2:1;}

      // Start the brother follow counter
      moves_write = 0;
      saw_all_brothers_moves = 0;
      brother_loop_count = 200 + 300*number_of_brothers_followed;
      number_of_brothers_followed ++;
    }

    // Decrease the loop count variable to make sure we don't stagnate
    brother_loop_count -= 1; // But only for so long

    // Now do the actual following
    var aim_x = -1;
    var aim_y = -1;
    var bro_x = -1;
    var bro_y = -1;
    if (brother_id &gt; 0){

    // Find where brother currently is
    for (var i = 0; i &lt; bots.length; i++){
      if (bots[i][0] === brother_id){
        brother_idx = i;
        break;
      }
    }

    // Which point are we aiming for?
    if(saw_all_brothers_moves === 1 || moves_write &gt; moves_to_use){ // Did I see how my brother moves?

      // Calculate the slice of steps we are going to use
      var left = ((saw_all_brothers_moves===1) ? moves_write+1 : 0)%moves_to_follow;
      var right = ((saw_all_brothers_moves===1) ? moves_write+moves_to_use+1 : moves_to_use)%moves_to_follow;
      if (right &gt; left){// want to read left --&gt; right in moves_saw
         var steps_to_use = moves_saw.slice(left,right);
      }
      else{
        var steps_to_use = moves_saw.slice(0,right)
        steps_to_use.push(...moves_saw.slice(left));
      }

      // Check if we are in his footsteps?
      var in_brothers_footsteps = false;
      for (var step = 0; step&lt;steps_to_use.length; step++){
        if ((steps_to_use[step][0] === my_x) &amp;&amp; ((steps_to_use[step][1] === my_y))){
          in_brothers_footsteps = true;
          break;
        }
      }

      if(in_brothers_footsteps === true){
        // We are in his footsteps. Go to the next one!;
        step++; if (step &gt;= steps_to_use.length){step=0;}
        aim_x = steps_to_use[step][0];aim_y = steps_to_use[step][1];
      }
      else{
        // We are not in his footsteps, aim for the footsteps
        aim_x = 0; aim_y = 0;
        for (var step = 0; step&lt;steps_to_use.length; step++){// Calculate step's center of mass
           aim_x += steps_to_use[step][0];aim_y += steps_to_use[step][1];
        }
        aim_x /= moves_to_use; aim_y /= moves_to_use;
      }
    }
    else{
      // No, not yet. Just run towards him
      aim_x = bots[brother_idx][1];
      aim_y = bots[brother_idx][2];
    }  

    // Check if we might touch big brother
    let [dx, dy] = PosAt(toPos([aim_x, aim_y]));       
    if (my_x+dx===bots[brother_idx][1] &amp;&amp; my_y+dy===bots[brother_idx][2]){
      // EEEUUW. Flinch away, because it's weird.
      aim_x = my_x; aim_y = my_y; 
    }
    }

    // Watch big brother's moves
    if(brother_id &gt; 0){
      moves_saw[moves_write][0] = bots[brother_idx][1];
      moves_saw[moves_write][1] = bots[brother_idx][2];           
      moves_write ++;
      if (moves_write===moves_to_follow){
        moves_write = 0; // Wrap counter for circular buffer

        // Have I seen enough of them?
        if(saw_all_brothers_moves === 0){
          saw_all_brothers_moves = 1;          
        }
      }            
    }

    // Save updated variables
    localStorage.LB_moves_saw = encode_moves(moves_saw); 
    localStorage.LB_moves_write = moves_write;// Save it
    localStorage.LB_brother_id = brother_id;// Save it            
    localStorage.LB_brother_loop_count = brother_loop_count; // Save it       l     
    localStorage.LB_saw_all_brothers_moves = saw_all_brothers_moves;
    localStorage.LB_last_num_of_bots = last_num_of_bots;
    localStorage.LB_number_of_brothers_followed = number_of_brothers_followed;      

    // Finish function          
    if (brother_id &lt;= 0){ // If not following anybody, move randomly
      return ["up","down","left","right"][Math.random()*4|0];
    }
    else{
      // Following a big brother!
      return toPos([aim_x, aim_y]);
    }

    // Some functions to ease the load
    function toPos([x,y]) {
      var dx = x - my_x;
      var dy = y - my_y;
      if(Math.abs(dx)&gt;Math.abs(dy)){
        if (x &gt; my_x) return "right";
        if (x &lt; my_x) return "left";
        if (y &lt; my_y) return "up";
        if (y &gt; my_y) return "down";
      }
      else{              
        if (y &lt; my_y) return "up";
        if (y &gt; my_y) return "down";
        if (x &gt; my_x) return "right";
        if (x &lt; my_x) return "left";
      }
      return 'wait';
    }
    function PosAt(dir){
      if (dir === 'left') return [-1,0];
      if (dir === 'right') return [1, 0];
      if (dir === 'up') return [0, -1];
      if (dir === 'down') return [0, 1];
      return [0,0];    
      }
      function decode_moves(moves_str){            
      var moves_array = [];
      var moves_strs = moves_str.split(';');
      for (var i = 0; i&lt;moves_to_follow; i++){         
        var splot = moves_strs[i].split(',');              
        moves_array[i] = [];
        moves_array[i][0] = parseInt(splot[0]);
        moves_array[i][1] = parseInt(splot[1]);
      }
    return moves_array;
    }
      function encode_moves(moves_array){
      var moves_str = "";
      for (var i = 0; i &lt; moves_array.length; i++){              
        moves_str += moves_array[i][0] + ',' + moves_array[i][1];
        if (i &lt; moves_array.length - 1){moves_str += ';';}              
      }
      return moves_str;
    }
    function makeArray(w, h, val) {
      var arr = [];
      for(i = 0; i &lt; w; i++) {
        arr[i] = [];
        for(j = 0; j &lt; h; j++) {
          arr[i][j] = 0;
        }
      }
      return arr;
    }
}
</code></pre>

<p>This little bot is like any little brother. It will <strong>latch on to you</strong>, and mirror your <strong>every step</strong>. Like your little brother would jump into your footsteps with his over-sized boots. But he will only follow you if he can annoy you. He is your little brother after all.</p>

<p>Essentially it selects the highest ranking bot it can affect as its big brother, and follows it relentlessly. Initially it just runs straight towards it, but then it starts to remember the big brother's moves, and follows them step-by-step (using some circular buffer magic).</p>

<p>This is my first submission in this SE, and my first time programming in Javascript. So any advice/feedback would be greatly appreciated!</p>

<p>I hope <code>LittleBrother</code> doesn't annoy you guys too much ;)</p>

<p><em>Note: Although the function itself is pretty huge, it's very quick. There isn't much time consuming things in.</em></p>

<p><strong>Update 22 Aug 2018 20:42:</strong></p>

<ul>
<li>Big brother selection improved to actually work. Now it only has 30% chance of chasing someone who's colour it will only clear. The rest of the times it will try and overwrite colours. It will never follow anyone that it can't do anything against. </li>
<li>As game time passes it will grow attached for longer periods of time.</li>
<li>Stop relying on round number for variable initialization.</li>
</ul>

<p><strong>Update 23 Aug 2018 11:19:</strong></p>

<ul>
<li>Little brother no longer gets lots if he struggles to find a big brother.</li>
<li>He is now more light footed because he is scared of John. So never will he step on Jim, or any other big brother of his.</li>
</ul>

<p><strong>Update 25 Aug 2018 19:26 (<em>Niceness</em> Update):</strong></p>

<ul>
<li>Lil'Bro no longer latches on to the leaders. It only finds a random older brother to follow. But, as we all do, he sometimes get jealous. So he has a 40% chance of selecting to follow the leading brother.</li>
<li>He also knows nice people get stepped on. So he now follows bots from a distance. Usually about 25 cells behind, but still follows your <em>every step</em>. Hopefully this will keep John at peace.</li>
<li>A large purpose of this update is to limit the infinite loops. Top bots usually takes the closest squares, which usually are the ones Lil'Bro just took from them. Therefore, Lil'Bro follows random bots, hoping they won't notice as easily. Also, by trailing so far behind, there is <em>usually</em> nicer bait for the target, than the cells Lil'Bro just overwrote.</li>
</ul>

<p><strong>Update 27 Aug 2018 21:32 (Some New Smarts):</strong></p>

<ul>
<li>Improved smart while another player dies. No longer just resets, instead LittleBrother now checks if it actually concerned him.</li>
<li>LittleBrother realized his score is severely inhibited if he gets into a quarrel (infinite loop) with his brother. No he gets annoyed, and looks for someone else if this happens.</li>
</ul>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171001" title="short permalink to this answer" class="short-link" id="link-post-171001">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171001/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171001/revisions" title="show all edits to this post">edited <span title="2018-08-27 21:11:17Z" class="relativetime">Aug 27 at 21:11</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 20:42:16Z" class="relativetime">Aug 21 at 20:42</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/82251/hein-wessels"><div class="gravatar-wrapper-32"><img src="./original_files/photo(4).jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/82251/hein-wessels">Hein Wessels</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">131</span><span title="4 bronze badges"><span class="badge3"></span><span class="badgecount">4</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171001" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-412660" class="comment js-comment " data-comment-id="412660">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">This threw an error in a game: <code>moves_str is undefined (line 187 column 13)</code>. Not entirely sure whether that line number is correct, but maybe you can figure that out :p</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/6689/tomsmeding" title="1,809 reputation" class="comment-user">tomsmeding</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412660_171001"><span title="2018-08-21 20:57:54Z" class="relativetime-clean">Aug 21 at 20:57</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412662" class="comment js-comment " data-comment-id="412662">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Thanks @dzaima, I was playing with an old controller and forgot to update. It's updated now.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/82251/hein-wessels" title="131 reputation" class="comment-user">Hein Wessels</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412662_171001"><span title="2018-08-21 21:04:24Z" class="relativetime-clean">Aug 21 at 21:04</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412793" class="comment js-comment " data-comment-id="412793">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@Night2 Sorry for the buggy little brother. I will fix him in a few hours. It works on the tests I run, but I don't I run it for long enough. Thanks for letting me know! :)</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/82251/hein-wessels" title="131 reputation" class="comment-user">Hein Wessels</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412793_171001"><span title="2018-08-22 13:09:29Z" class="relativetime-clean">Aug 22 at 13:09</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-412806" class="comment js-comment " data-comment-id="412806">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">@HeinWessels Sorry for my mistake, it seems like that the controller was buggy and was starting the game from turn #2 instead of 1. My bad, I'm removing my comments.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/81663/night2" title="1,609 reputation" class="comment-user">Night2</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment412806_171001"><span title="2018-08-22 13:32:48Z" class="relativetime-clean">Aug 22 at 13:32</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171001" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170925"></a>
<div id="answer-170925" class="answer" data-answerid="170925" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170925">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>NearSightedGreed</h2>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> ret </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> col </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> myX </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> myY </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln">

    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">myX</span><span class="pun">][</span><span class="pln">myY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> col</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">myX </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">myX</span><span class="pun">-</span><span class="lit">1</span><span class="pun">][</span><span class="pln">myY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> col</span><span class="pun">){</span><span class="pln">
        ret</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">"up"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">myX </span><span class="pun">!=</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">myX</span><span class="pun">+</span><span class="lit">1</span><span class="pun">][</span><span class="pln">myY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> col</span><span class="pun">){</span><span class="pln">
        ret</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">"down"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">myY </span><span class="pun">!=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">myX</span><span class="pun">][</span><span class="pln">myY</span><span class="pun">-</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> col</span><span class="pun">){</span><span class="pln">
        ret</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">"left"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">myY </span><span class="pun">!=</span><span class="pln"> grid</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">length </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">myX</span><span class="pun">][</span><span class="pln">myY</span><span class="pun">+</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> col</span><span class="pun">){</span><span class="pln">
        ret</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">"right"</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> ret</span><span class="pun">[</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> ret</span><span class="pun">.</span><span class="pln">length</span><span class="pun">|</span><span class="lit">0</span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>Tries to move to adjacent fields with enemy colors, otherwise moves randomly.<br>
Always prefers painting the current field until it's the right color</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170925" title="short permalink to this answer" class="short-link" id="link-post-170925">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170925/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170925/revisions" title="show all edits to this post">edited <span title="2018-08-20 21:15:34Z" class="relativetime">Aug 20 at 21:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-20 13:32:50Z" class="relativetime">Aug 20 at 13:32</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/77759/adyrem"><div class="gravatar-wrapper-32"><img src="./original_files/e2303417b27e3b0f3c35822c4106b94e" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/77759/adyrem">Adyrem</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">461</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="8 bronze badges"><span class="badge3"></span><span class="badgecount">8</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170925" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170925" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170998"></a>
<div id="answer-170998" class="answer" data-answerid="170998" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170998">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Boxer</h1>

<pre><code>function(myself, grid, bots, gameInfo) {
    let val = gameInfo[0] % 16;
    if(val &lt; 3){
        return "right";
    }else if(val &lt; 6){
        return "up";
    }else if(val &lt; 9){
        return "left";
    }else if(val &lt; 12){
        return "down";
    }else if(val &lt; 14){
        return ["up","down","left","right"][Math.random() *4 |0];
    }else{
        let xdist = myself[1];
        let ydist = myself[2];
        let xfardist = grid.length - 1 - myself[1];
        let yfardist = grid.length - 1 - myself[2];
        if(gameInfo[0] % 400 &lt; 200){
            if (xdist &lt; ydist &amp;&amp; xdist &lt; xfardist &amp;&amp; xdist &lt; yfardist){
                return "right";
            }else if (ydist &lt; xfardist &amp;&amp; ydist &lt; yfardist){
                return "down";
            }else if (xfardist &lt; yfardist){
                return "left";
            }else{
                return "up";
            }
        }else{
            if (xdist &gt; ydist &amp;&amp; xdist &gt; xfardist &amp;&amp; xdist &gt; yfardist){
                return "right";
            }else if (ydist &gt; xfardist &amp;&amp; ydist &gt; yfardist){
                return "up";
            }else if (xfardist &gt; yfardist){
                return "left";
            }else{
                return "down";
            }
        }
    }
}
</code></pre>

<p>Pretty straightforward; moves in a small 4x4 box repeatedly, and after every loop it takes a random step and then moves a few steps closer or further from the center. Pretty vulnerable to hunters, since it moves in a small zone. Main goal is just to control one area.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170998" title="short permalink to this answer" class="short-link" id="link-post-170998">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170998/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170998/revisions" title="show all edits to this post">edited <span title="2018-08-21 20:18:22Z" class="relativetime">Aug 21 at 20:18</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 19:34:13Z" class="relativetime">Aug 21 at 19:34</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/76180/nick-dechiara"><div class="gravatar-wrapper-32"><img src="./original_files/b659273bf3fba80de2fbf513bd4f0b78" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/76180/nick-dechiara">Nick Dechiara</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">121</span><span title="4 bronze badges"><span class="badge3"></span><span class="badgecount">4</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170998" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170998" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171043"></a>
<div id="answer-171043" class="answer" data-answerid="171043" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171043">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Jack</h1>

<p>Starting of with NearSightedGrid's logic (I wanted to created such a bot), I have come up with the following strategy:</p>

<ul>
<li>Will move from the right bottom to the left top (i.e. first the bottom row by going left, then one above by going right, etc.). Thus, starting somewhere right bottom gives it an advantage.</li>
<li>It will though never do the opposite move of the last move (so that it won't get stuck, which it did in earlier versions).</li>
<li>It will also not prefer to move to a location on which it needs to stay another round, depending on the current color of that location. If possible, such a move is not executed. But it is done if the alternative is moving random.</li>
<li>If no move can be found from above, it will move random. Once it moves random and tries to move random again right away, it will move in the same direction so that it doesn't get stuck in a big field of a color which it cannot defeat. It will though move random again if it will go outside the boundary.</li>
</ul>

<p>Note: not a developer so my code is awful. But strategically it is not that bad.</p>

<pre><code>function (myself, grid, bots, gameInfo) {
    var col = myself[0];
    var myX = myself[1];
    var myY = myself[2];

    var notPreferred = [];

    var move = "wait";
    if(grid[myX][myY] != col){
        var go = checkMove(move, grid[myX][myY]);
        if(go) {
            if(go == "notPreferred") {
                //notPreferred.push(move);
            } else {
                nextMove(move, "standard");
                return move;
            }
        }
    }

    move = "left";
    if(myX &gt; 0 &amp;&amp; grid[myX-1][myY] != col){
        var go = checkMove(move, grid[myX-1][myY]);
        if(go) {
            if(go == "notPreferred") {
                notPreferred.push(move);
            } else {
                nextMove(move, "standard");
                return move;
            }
        }
    }

    move = "right";
    if(myX &lt; grid.length-1 &amp;&amp; grid[myX+1][myY] != col){
        var go = checkMove(move, grid[myX+1][myY]);
        if(go) {
            if(go == "notPreferred") {
                notPreferred.push(move);
            } else {
                nextMove(move, "standard");
                return move;
            }
        }
    }

    move = "up";
    if(myY &gt; 0 &amp;&amp; grid[myX][myY-1] != col){
        var go = checkMove(move, grid[myX][myY-1]);
        if(go) {
            if(go == "notPreferred") {
                notPreferred.push(move);
            } else {
                nextMove(move, "standard");
                return move;
            }
        }
    }

    move = "down";
    if(myY &lt; grid[0].length &amp;&amp; grid[myX][myY+1] != col){
        var go = checkMove(move, grid[myX][myY+1]);
        if(go) {
            if(go == "notPreferred") {
                notPreferred.push(move);
            } else {
                nextMove(move, "standard");
                return move;
            }
        }
    }

    if(notPreferred[0]) {
        nextMove(notPreferred[0], "notPreferred");
        return notPreferred[0];
    }

    var random = randomMove();
    nextMove(random, "random");
    return random;

    function checkMove(move, currentColor) {
        var go = false;
        if(currentColor === 0) {
            go = true;
        } else {
            var z = [col, 0, currentColor][Math.abs(col - currentColor)%3]
            go = z == 0 ? "notPreferred" : z != currentColor;
        }

        if(go) {
            if(localStorage.jacksNextMoveShouldNotBe &amp;&amp; localStorage.jacksNextMoveShouldNotBe == move) {
                return false;
            }
        }
        return go;
    }

    function randomMove() {
        if(localStorage.jacksPreviousMoveWasRandom) {
            var repeatMove = localStorage.jacksPreviousMoveWasRandom;
            if(repeatMove == "left" &amp;&amp; myX &gt; 0 || repeatMove == "right" &amp;&amp; myX &lt; grid.length-1 || repeatMove == "up" &amp;&amp; myY &gt; 0 || repeatMove == "down" &amp;&amp; myY &lt; grid.length-1){
                return repeatMove;
            }
        }

        var random = ["up","down","left","right"][Math.random() *4|0];
        localStorage.jacksPreviousMoveWasRandom = random;
        return random;
    }

    function nextMove(move, message) {
        var oppositeMove = "wait";
        if(move == "left") {
            oppositeMove = "right";
        } else if(move == "right") {
            oppositeMove = "left";
        } else if(move == "up") {
            oppositeMove = "down";
        } else if(move == "down") {
            oppositeMove = "up";
        }
        localStorage.jacksNextMoveShouldNotBe = oppositeMove;
        if(message != "random") {
            localStorage.jacksPreviousMoveWasRandom = "";
        }
    }
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171043" title="short permalink to this answer" class="short-link" id="link-post-171043">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171043/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171043/revisions" title="show all edits to this post">edited <span title="2018-08-22 14:51:33Z" class="relativetime">Aug 22 at 14:51</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-22 12:29:36Z" class="relativetime">Aug 22 at 12:29</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/51963/renzeee"><div class="gravatar-wrapper-32"><img src="./original_files/eb7df8139d9f4ec48fee9d6bfd968976" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/51963/renzeee">Renzeee</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">419</span><span title="2 silver badges"><span class="badge2"></span><span class="badgecount">2</span></span><span title="8 bronze badges"><span class="badge3"></span><span class="badgecount">8</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171043" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-171043" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170958"></a>
<div id="answer-170958" class="answer" data-answerid="170958" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170958">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Clever Name</h1>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Do a quick dance for identification.</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> round </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">round </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="str">"down"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"right"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">][</span><span class="pln">round </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Parse the arguments.</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">myId</span><span class="pun">,</span><span class="pln"> myX</span><span class="pun">,</span><span class="pln"> myY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Check each square to see if it's a good target.</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> targetX</span><span class="pun">,</span><span class="pln"> targetY</span><span class="pun">,</span><span class="pln"> targetDist </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">Infinity</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> numAtDist</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> x</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> y</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Whoever's fighting for this square can have it.</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">===</span><span class="pln"> myX </span><span class="pun">&amp;&amp;</span><span class="pln"> y </span><span class="pun">===</span><span class="pln"> myY</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
            </span><span class="com">// We don't care about our own squares.</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> myId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

            </span><span class="com">// Only squares that we can recolor are useful.</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> myId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="com">// Avoid squares that take effort.</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> myId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0.5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

                </span><span class="com">// If this is the closest we've seen, target it.</span><span class="pln">
                </span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">myX </span><span class="pun">-</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">myY </span><span class="pun">-</span><span class="pln"> y</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dist </span><span class="pun">&lt;</span><span class="pln"> targetDist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    targetX </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
                    targetY </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
                    targetDist </span><span class="pun">=</span><span class="pln"> dist</span><span class="pun">;</span><span class="pln">
                    numAtDist </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                </span><span class="com">// If it's tied for the closest, sometimes target it.</span><span class="pln">
                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dist </span><span class="pun">===</span><span class="pln"> targetDist</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    numAtDist</span><span class="pun">++;</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">floor</span><span class="pun">(</span><span class="pln">numAtDist </span><span class="pun">*</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">())</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        targetX </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
                        targetY </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Move toward the target.</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetX </span><span class="pun">&lt;</span><span class="pln"> myX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetX </span><span class="pun">&gt;</span><span class="pln"> myX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"right"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetY </span><span class="pun">&lt;</span><span class="pln"> myY</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetY </span><span class="pun">&gt;</span><span class="pln"> myY</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>There are two ways to be the best: build yourself up, or tear others down. This takes the former approach. It moves greedily toward one of the nearest squares that can be colored.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170958" title="short permalink to this answer" class="short-link" id="link-post-170958">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170958/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170958/revisions" title="show all edits to this post">edited <span title="2018-08-22 16:30:04Z" class="relativetime">Aug 22 at 16:30</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 00:50:32Z" class="relativetime">Aug 21 at 0:50</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/48543/mnemonic"><div class="gravatar-wrapper-32"><img src="./original_files/46d8baa7552a173f3d57a355c26fbdce" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/48543/mnemonic">Mnemonic</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,037</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="4 silver badges"><span class="badge2"></span><span class="badgecount">4</span></span><span title="23 bronze badges"><span class="badge3"></span><span class="badgecount">23</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170958" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170958" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="170996"></a>
<div id="answer-170996" class="answer" data-answerid="170996" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170996">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Kneecapper</h1>

<pre class="lang-js prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">(</span><span class="pln">myself</span><span class="pun">,</span><span class="pln"> grid</span><span class="pun">,</span><span class="pln"> bots</span><span class="pun">,</span><span class="pln"> gameInfo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> </span><span class="pun">[</span><span class="pln">myId</span><span class="pun">,</span><span class="pln"> myX</span><span class="pun">,</span><span class="pln"> myY</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> myself</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> round </span><span class="pun">=</span><span class="pln"> gameInfo</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">

    </span><span class="com">// Find our friend.</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">round </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        localStorage</span><span class="pun">.</span><span class="pln">kneecapper_possibleAllies </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">bot </span><span class="pun">=&gt;</span><span class="pln"> bot</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]));</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> possibleAllies </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">localStorage</span><span class="pun">.</span><span class="pln">kneecapper_possibleAllies</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Players who don't do the identifying dance aren't allies.</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> round </span><span class="pun">&amp;&amp;</span><span class="pln"> round </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> previousPositions </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">localStorage</span><span class="pun">.</span><span class="pln">kneecapper_previousPositions</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> expectedDx </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[-</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> expectedDy </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">let</span><span class="pln"> notAllies </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> possibleAllies</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> dx </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> previousPositions</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> dy </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> previousPositions</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dx </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> dy </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">expectedDx </span><span class="pun">===</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    notAllies</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">expectedDx </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    notAllies</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">expectedDy </span><span class="pun">===</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    notAllies</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">expectedDy </span><span class="pun">===</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bots</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    notAllies</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dx </span><span class="pun">!==</span><span class="pln"> expectedDx</span><span class="pun">[</span><span class="pln">round </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> dy </span><span class="pun">!==</span><span class="pln"> expectedDy</span><span class="pun">[</span><span class="pln">round </span><span class="pun">%</span><span class="pln"> </span><span class="lit">4</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                notAllies</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        possibleAllies </span><span class="pun">=</span><span class="pln"> possibleAllies</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">id </span><span class="pun">=&gt;</span><span class="pln"> notAllies</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
        localStorage</span><span class="pun">.</span><span class="pln">kneecapper_possibleAllies </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">possibleAllies</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    localStorage</span><span class="pun">.</span><span class="pln">kneecapper_previousPositions </span><span class="pun">=</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> partner </span><span class="pun">=</span><span class="pln"> possibleAllies</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">

    </span><span class="com">// Figure out who's doing well.</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> targets </span><span class="pun">=</span><span class="pln"> bots</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">bot </span><span class="pun">=&gt;</span><span class="pln"> bot</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]).</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">id </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id </span><span class="pun">!==</span><span class="pln"> myId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">id </span><span class="pun">!==</span><span class="pln"> partner</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">id </span><span class="pun">-</span><span class="pln"> myId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">3</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> flatGrid </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[].</span><span class="pln">concat</span><span class="pun">.</span><span class="pln">apply</span><span class="pun">([],</span><span class="pln"> grid</span><span class="pun">);</span><span class="pln">
    targets </span><span class="pun">=</span><span class="pln"> targets</span><span class="pun">.</span><span class="pln">sort</span><span class="pun">((</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> flatGrid</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">((</span><span class="pln">n</span><span class="pun">,</span><span class="pln"> val</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">val </span><span class="pun">===</span><span class="pln"> a</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">val </span><span class="pun">===</span><span class="pln"> b</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">));</span><span class="pln">

    </span><span class="kwd">let</span><span class="pln"> targetX</span><span class="pun">,</span><span class="pln"> targetY</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> targetScore </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> x </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> x</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">let</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> y</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> dist </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">x </span><span class="pun">-</span><span class="pln"> myX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">y </span><span class="pun">-</span><span class="pln"> myY</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> scariness </span><span class="pun">=</span><span class="pln"> targets</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">scariness </span><span class="pun">===</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

            </span><span class="com">// Find a successful opponent who's not too far away.</span><span class="pln">
            </span><span class="kwd">let</span><span class="pln"> score </span><span class="pun">=</span><span class="pln"> scariness </span><span class="pun">**</span><span class="pln"> </span><span class="lit">1.5</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dist </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">score </span><span class="pun">&gt;</span><span class="pln"> targetScore</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                targetX </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span><span class="pln">
                targetY </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span><span class="pln">
                targetScore </span><span class="pun">=</span><span class="pln"> score</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Move toward the target.</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetX </span><span class="pun">&lt;</span><span class="pln"> myX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetX </span><span class="pun">&gt;</span><span class="pln"> myX</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"right"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetY </span><span class="pun">&lt;</span><span class="pln"> myY</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"up"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">targetY </span><span class="pun">&gt;</span><span class="pln"> myY</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"down"</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>There are two ways to be the best: build yourself up, or tear others down.  This takes the latter approach. This finds nearby squares owned by the higher-scoring players and removes them.</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170996" title="short permalink to this answer" class="short-link" id="link-post-170996">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170996/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170996/revisions" title="show all edits to this post">edited <span title="2018-08-22 20:22:40Z" class="relativetime">Aug 22 at 20:22</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-21 18:57:19Z" class="relativetime">Aug 21 at 18:57</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/48543/mnemonic"><div class="gravatar-wrapper-32"><img src="./original_files/46d8baa7552a173f3d57a355c26fbdce" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/48543/mnemonic">Mnemonic</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,037</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="4 silver badges"><span class="badge2"></span><span class="badgecount">4</span></span><span title="23 bronze badges"><span class="badge3"></span><span class="badgecount">23</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170996" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170996" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171041"></a>
<div id="answer-171041" class="answer" data-answerid="171041" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171041">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h2>Fuzzy Guy</h2>

<pre><code>function(myself, grid, bots, gameInfo) {
    var i,j,x,y = 0;
    this.answerToLifeTheUniverseAndEverything = 42;
    this.round = gameInfo[0];
    this.coloringStruggle = [];
    this.myColor = myself[0];
    this.botCount = bots.length;
    this.sizeOfGrid = grid.length;
    this.storageName = 'm53kp1of6igcnpsq';
    this.storageName2 = 'ji38df8djsdf8zf0a';
    this.distances = {up: 0, right: 0, down: 0, left: 0};
    this.foodSmell = {up: 0, right: 0, down: 0, left: 0};
    this.botSmell = {up: 0, right: 0, down: 0, left: 0};
    this.botPredictedSmell = {up: 0, right: 0, down: 0, left: 0};
    this.directionPoints = {up: 0, right: 0, down: 0, left: 0};

    this.blockedMoves = function() {
        var backwards = 'wait', prevDirection, blocked = [];
        if(myself[1] == 0) {
            blocked.push('left');
        }
        if(myself[2] == 0) {
            blocked.push('up');
        }
        if(myself[1] == this.sizeOfGrid - 1) {
            blocked.push('right');
        }
        if(myself[2] == this.sizeOfGrid - 1) {
            blocked.push('down');
        }

        if (this.round &gt; 1) {
            prevDirection = JSON.parse(localStorage.getItem(this.storageName2));
            backwards = (prevDirection == 'up' ? 'down' : backwards);
            backwards = (prevDirection == 'down' ? 'up' : backwards);
            backwards = (prevDirection == 'left' ? 'right' : backwards);
            backwards = (prevDirection == 'right' ? 'left' : backwards);
            blocked.push(backwards);
        }

        return blocked;
    }

    this.getDistance = function(x1,y1) {
        return [Math.abs(myself[1]-x1), Math.abs(myself[2]-y1)];
    }

    this.finddeliciousDirection = function() {
        for (x = 0; x &lt; this.sizeOfGrid; x++) {
            for (y = 0; y &lt; this.sizeOfGrid; y++) {
                if (y &lt; myself[2]) {
                    this.foodSmell.up+= ((1.9 - this.coloringStruggle[x][y]) / this.getDistance(x, y).reduce((a, b) =&gt; a + b, 0)) / 4;
                }
                if (y &gt; myself[2]) {
                    this.foodSmell.down+= ((1.9 - this.coloringStruggle[x][y]) / this.getDistance(x, y).reduce((a, b) =&gt; a + b, 0)) / 4;
                }
                if (x &lt; myself[1]) {
                    this.foodSmell.left+= ((1.9 - this.coloringStruggle[x][y]) / this.getDistance(x, y).reduce((a, b) =&gt; a + b, 0)) / 4;
                }
                if (x &gt; myself[1]) {
                    this.foodSmell.right+= ((1.9 - this.coloringStruggle[x][y]) / this.getDistance(x, y).reduce((a, b) =&gt; a + b, 0)) / 4;
                }
            }
        }
    }

    this.predictFuture = function(x0,y0,x1,y1) {
        var xMovement = x1-x0;
        var yMovement = y1-y0;
        var xAfter2Turns = x1 + xMovement * 2;
        var yAfter2Turns = y1 + yMovement * 2;
        var hitsWall = [1, 1];

        if (xMovement == 1) {
            hitsWall = [2, 1]
        } else if (xMovement == -1) {
            hitsWall = [0, 1]
        } else if (yMovement == 1) {
            hitsWall = [1, 2]
        } else if (yMovement == -1) {
            hitsWall = [1, 0]
        } else {
            hitsWall = [1, 1]
        }

        if (xAfter2Turns &lt; 0) {
            xAfter2Turns = 0;
        } else if (xAfter2Turns &gt;= this.sizeOfGrid) {
            xAfter2Turns = this.sizeOfGrid -1;
        }

        if (yAfter2Turns &lt; 0) {
            yAfter2Turns = 0;
        } else if (yAfter2Turns &gt;= this.sizeOfGrid) {
            yAfter2Turns = this.sizeOfGrid -1;
        }

        return [xAfter2Turns, yAfter2Turns, hitsWall];
    }

    this.findCloseBots = function() {
        var prevPositions;
        var currentBot;
        var future;
        if (this.round &gt; 1) {
            prevPositions = JSON.parse(localStorage.getItem(this.storageName));
        }

        for (i = 0; i &lt; bots.length; i++) {
            if (bots[i][2] &lt; myself[2]) {
                this.botSmell.up+= 3 / (this.getDistance(bots[i][1], bots[i][2]).reduce((a, b) =&gt; a + b, 0));
            }
            if (bots[i][2] &gt; myself[2]) {
                this.botSmell.down+= 3 / (this.getDistance(bots[i][1], bots[i][2]).reduce((a, b) =&gt; a + b, 0));
            }
            if (bots[i][1] &lt; myself[1]) {
                this.botSmell.left+= 3 / (this.getDistance(bots[i][1], bots[i][2]).reduce((a, b) =&gt; a + b, 0));
            }
            if (bots[i][1] &gt; myself[1]) {
                this.botSmell.right+= 3 / (this.getDistance(bots[i][1], bots[i][2]).reduce((a, b) =&gt; a + b, 0));
            }

            if (this.round &gt; 1) {
                currentBot = prevPositions.find(function(element) {
                    return element[0] == bots[i][0];
                });

                if (currentBot[0] != this.myColor) {
                    future = this.predictFuture(currentBot[1], currentBot[2], bots[i][1], bots[i][2]);
                    if (future[1] &lt; myself[2]) {
                        this.botPredictedSmell.up+= (3.14159 / 3 * ([Math.abs(this.myColor - bots[i][0])%3] + 1)) / (this.getDistance(future[0], future[1]).reduce((a, b) =&gt; a + b, 0));
                    }
                    if (future[1] &gt; myself[2]) {
                        this.botPredictedSmell.down+= (3.14159 / 3 * ([Math.abs(this.myColor - bots[i][0])%3] + 1)) / (this.getDistance(future[0], future[1]).reduce((a, b) =&gt; a + b, 0));
                    }
                    if (future[0] &lt; myself[1]) {
                        this.botPredictedSmell.left+= (3.14159 / 3 * ([Math.abs(this.myColor - bots[i][0])%3] + 1)) / (this.getDistance(future[0], future[1]).reduce((a, b) =&gt; a + b, 0));
                    }
                    if (future[0] &gt; myself[1]) {
                        this.botPredictedSmell.right+= (3.14159 / 3 * ([Math.abs(this.myColor - bots[i][0])%3] + 1)) / (this.getDistance(future[0], future[1]).reduce((a, b) =&gt; a + b, 0));
                    }

                    if (future[2][0] == 0) {
                        this.botPredictedSmell.left+=0.314159;
                    }
                    if (future[2][0] == 2) {
                        this.botPredictedSmell.right+=0.314159;
                    }
                    if (future[2][1] == 0) {
                        this.botPredictedSmell.up+=0.314159;
                    }
                    if (future[2][1] == 2) {
                        this.botPredictedSmell.down+=0.314159;
                    }
                }
            }
        }

        localStorage.setItem(this.storageName, JSON.stringify(bots));
    }


    this.calculateColoringStruggle = function() {
        for (x = 0; x &lt; this.sizeOfGrid; x++) {
            var yAxis = [];
            for (y = 0; y &lt; this.sizeOfGrid; y++) {
                if (this.myColor == grid[x][y]) {
                    yAxis[y] = 2;
                } else if (grid[x][y] == 0) {
                    yAxis[y] = 0;
                }
                else {
                    yAxis[y] = [0, 1, 2][Math.abs(this.myColor - grid[x][y])%3];
                }
            }
            this.coloringStruggle.push(yAxis);
        }
    }

    this.getEmptySlotsInDirection = function() {

        for (x = (myself[1] + 1); x &lt; this.sizeOfGrid; x++) {
            if (grid[x][myself[2]] == 0) {
                this.distances.right = (x-myself[1]) * 1.23456789;
            } else {
                if (x-myself[1]-1 == 0) {
                    this.distances.right = 0;
                }
                break;
            }
        }
        for (y = (myself[2] + 1); y &lt; this.sizeOfGrid; y++) {
            if (grid[myself[1]][y] == 0) {
                this.distances.down = (y-myself[2]) * 1.23456789;
            } else {
                if (y-myself[2]-1 == 0) {
                    this.distances.down = 0;
                }
                break;
            }
        }
        for (x = (myself[1] - 1); x &gt; -1; x--) {
            if (grid[x][myself[2]] == 0) {
                this.distances.left = (myself[1]-x) * 1.23456789;
            } else {
                if (myself[1]-x-1 == 0) {
                    this.distances.left = 0;
                }
                break;
            }
        }
        for (y = (myself[2] - 1); y &gt; -1; y--) {
            if (grid[myself[1]][y] == 0) {
                this.distances.up = (myself[2]-y) * 1.23456789;
            } else {
                if (myself[2]-y-1 == 0) {
                    this.distances.up = 0;
                }
                break;
            }
        }
    }
    this.getBestDistance = function() {
        var max = -999, maxDir = 'up';
        for (var property in this.distances) {
            if (this.distances.hasOwnProperty(property)) {
                this.directionPoints[property] = (this.distances[property] + this.foodSmell[property] - this.botSmell[property] - this.botPredictedSmell[property]);
                if (this.directionPoints[property] &gt; max &amp;&amp; this.blockedMoves().indexOf(property) == -1) {
                    max = this.directionPoints[property];
                    maxDir = property;
                }
            }
        }

        return maxDir;
    };

    this.findCloseBots();
    this.calculateColoringStruggle();
    this.getEmptySlotsInDirection();
    this.finddeliciousDirection();

    var answer = this.getBestDistance();
    localStorage.setItem(this.storageName2, JSON.stringify(answer));

    return(answer);
}
</code></pre>

<p>This is my first participation here, but I think it's not last as I really like this KoTH idea
Basically what my bot does is:</p>

<ol>
<li>Calculates how much food and how far is in each direction</li>
<li>Calculates how many and how close are bots to each direction</li>
<li>Calculates some more "very useful" data</li>
<li><em>Update</em> - Doesn't go to previous cell in next turn</li>
</ol>

<p>In the end it uses fuzzy logic to weight each direction and picks one with best value</p>

<p>I think I'll create a new bot from scratch later as this one was meant to kinda get me rolling</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171041" title="short permalink to this answer" class="short-link" id="link-post-171041">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171041/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171041/revisions" title="show all edits to this post">edited <span title="2018-08-23 12:38:46Z" class="relativetime">Aug 23 at 12:38</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-22 12:26:34Z" class="relativetime">Aug 22 at 12:26</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/81603/nooorz24"><div class="gravatar-wrapper-32"><img src="./original_files/6ILPo.jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/81603/nooorz24">NoOorZ24</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">121</span><span title="3 bronze badges"><span class="badge3"></span><span class="badgecount">3</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171041" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-171041" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171137"></a>
<div id="answer-171137" class="answer" data-answerid="171137" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171137">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h3>ClaimEverything</h3>

<pre><code>        function (myself, grid, bots, gameInfo) {
            let my_c = myself[0], my_x = myself[1], my_y = myself[2], size = grid.length, roundnum = gameInfo[0];

            let getDistance = function (x1, y1, x2, y2) {
                return (Math.abs(x1 - x2) + Math.abs(y1 - y2));
            };

            let getColorValue = function (color) {
                if (color === 0) {
                    return my_c;
                }
                return [my_c, 0, color][Math.abs(my_c - color) % 3];
            };

            if (!localStorage.claim) {
                let lastMove = "";
                localStorage.claim = JSON.stringify([lastMove]);
            }
            offsets = JSON.parse(localStorage.claim);
            lastMove = offsets[0];

            let targets = [];
            let distance = 999999;
            let lowestDistance = 999999;
            for (let grid_x = 0; grid_x &lt; size; grid_x++)
            {
                for (let grid_y = 0; grid_y &lt; size; grid_y++)
                {
                    if (grid[grid_x][grid_y] !== my_c &amp;&amp; getColorValue(grid[grid_x][grid_y]) === my_c)
                    {
                        distance = getDistance(my_x, my_y, grid_x, grid_y);
                        targets[distance] = [grid_x, grid_y];

                        if (distance &lt; lowestDistance) {
                            lowestDistance = distance;
                        }
                    }
                }
            }
            let target = targets[lowestDistance];

            //Nothing directly paintable available, search for erasable
            if (target === undefined)
            {
                targets = [];
                distance = 999999;
                lowestDistance = 999999;
                for (let grid_x = 0; grid_x &lt; size; grid_x++)
                {
                    for (let grid_y = 0; grid_y &lt; size; grid_y++)
                    {
                        if (grid[grid_x][grid_y] !== my_c &amp;&amp; getColorValue(grid[grid_x][grid_y]) !== grid[grid_x][grid_y])
                        {
                            distance = getDistance(my_x, my_y, grid_x, grid_y);
                            targets[distance] = [grid_x, grid_y];

                            if (distance &lt; lowestDistance) {
                                lowestDistance = distance;
                            }
                        }
                    }
                }
            }
            target = targets[lowestDistance];

            let move = "";
            if (target === undefined) {
                move = 'wait';
            } else if (target[0] &gt; my_x) {
                move = 'right';
            } else if (target[0] &lt; my_x) {
                move = 'left';
            } else if (target[1] &gt; my_y) {
                move = 'down';
            } else if (target[1] &lt; my_y) {
                move = 'up';
            } else {
                move = "wait";
            }

            if (move === "wait" &amp;&amp; lastMove === "wait") {
                move = "left";
            }

            localStorage.claim = JSON.stringify([move]);

            return move;
        }
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171137" title="short permalink to this answer" class="short-link" id="link-post-171137">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171137/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-24 14:26:56Z" class="relativetime">Aug 24 at 14:26</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/31292/logicbv"><div class="gravatar-wrapper-32"><img src="./original_files/37478e459468d8ea875908b5af744586" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/31292/logicbv">logicBV</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">31</span><span title="2 bronze badges"><span class="badge3"></span><span class="badgecount">2</span></span>
        </div>
    </div>
</div>
    <div class="js-new-contributor-indicator ps-relative">
        <div class="new-contributor-indicator fc-medium py6 px8 bbr-sm">
            <span class="js-new-contributor-label"><svg aria-hidden="true" class="svg-icon iconWave" width="18" height="18" viewBox="0 0 18 18"><path d="M10.7 17c-2.3 0-3.9-2.05-5.07-3.54l-.49-.6c-.67-.8-1.59-1.63-2.4-2.36A10.91 10.91 0 0 1 1.1 8.87a.79.79 0 0 1-.09-.56c.04-.19.14-.34.27-.4.14-.07.29-.1.45-.1.35 0 .67.18.87.34l3.5 2.75c.04.03.1.03.13 0a.09.09 0 0 0 .02-.13l-.02-.02c-.57-.8-3.42-4.77-3.71-5.15-.21-.27-.3-.58-.24-.84.05-.2.2-.37.4-.48.18-.09.35-.13.52-.13.44 0 .76.28.96.51l3.6 4.42c.04.04.07.06.14.02.05-.02.06-.07.03-.12L4.41 2.96a.94.94 0 0 1-.1-.73.92.92 0 0 1 .47-.57 1.06 1.06 0 0 1 1.4.39l3.8 6.14c.03.04.07.07.14.04.04-.03.06-.07.04-.13A153.8 153.8 0 0 0 8.1 2.54c-.31-.68-.2-1.14.36-1.42.52-.27 1.14-.07 1.47.48l3.69 8.3c.01.04.05.05.1.06a.1.1 0 0 0 .09-.07l.66-2.28c.1-.3.31-.56.62-.72.3-.15.65-.18.98-.1.69.2 1.09.87.89 1.52-.1.37-.46 1.73-.99 3.43l-.1.33c-.58 1.86-1.03 3.33-3.11 4.4-.7.35-1.38.53-2.05.53zm-5.84-.17c-.2.2-1.22 0-1.96-.74s-.92-1.75-.73-1.94c.2-.2.62.61 1.36 1.35.74.75 1.52 1.14 1.33 1.33zm8.39-14.61c.2-.2 1.2 0 1.95.74.74.74.92 1.75.73 1.94-.2.2-.62-.61-1.36-1.35-.74-.75-1.52-1.14-1.32-1.33z"></path></svg> New contributor</span>
        </div>
        <div class="js-new-contributor-popover temp-popover temp-popover__bottom">
            <div class="temp-popover--arrow"></div>
            <div class="p12 fs-caption">
                <a href="https://codegolf.stackexchange.com/users/31292/logicbv">logicBV</a> is a new contributor to this site. Take care in asking for clarification, commenting, and answering.
Check out our <a href="https://codegolf.stackexchange.com/conduct">Code of Conduct</a>.            </div>
        </div>
    </div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171137" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-171137" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171098"></a>
<div id="answer-171098" class="answer" data-answerid="171098" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171098">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Eraser</h1>

<p>This bot tries to erase as much of the board as possible.
To avoid getting stuck in an infinite loop, it ignores cells that are very close to the bot that created them.</p>

<p>Priorities:</p>

<ol>
<li>If the current cell is erasable, wait</li>
<li>Move <s>counter</s>-clockwise around the edge of an erasable area (changed to avoid getting stuck erasing borderline)</li>
<li>Move towards the nearest erasable cell</li>
<li>Move left</li>
</ol>



<pre class="lang-javascript prettyprint prettyprinted" style=""><code><span class="kwd">function</span><span class="pun">([</span><span class="pln">id</span><span class="pun">,</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">],</span><span class="pln">grid</span><span class="pun">,</span><span class="pln">bots</span><span class="pun">){</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> manhattan_search</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">,</span><span class="pln">board_size</span><span class="pun">,</span><span class="pln">callback</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">var</span><span class="pln"> dest_x</span><span class="pun">,</span><span class="pln">dest_y</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">try</span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> dist</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">dist</span><span class="pun">&lt;</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">*</span><span class="lit">2</span><span class="pun">;</span><span class="pln">dist</span><span class="pun">++){</span><span class="pln">
                check</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> dist</span><span class="pun">);</span><span class="pln"> </span><span class="com">//x+</span><span class="pln">
                check</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,-</span><span class="pln">dist</span><span class="pun">);</span><span class="pln"> </span><span class="com">//x-</span><span class="pln">
                check</span><span class="pun">(</span><span class="pln"> dist</span><span class="pun">,</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> </span><span class="com">//y+</span><span class="pln">
                check</span><span class="pun">(-</span><span class="pln">dist</span><span class="pun">,</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> </span><span class="com">//y-</span><span class="pln">
                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">dist</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span><span class="pln">
                    check</span><span class="pun">(</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">  dist</span><span class="pun">-</span><span class="pln">i </span><span class="pun">);</span><span class="pln"> </span><span class="com">//++</span><span class="pln">
                    check</span><span class="pun">(-</span><span class="pln">i</span><span class="pun">,</span><span class="pln">  dist</span><span class="pun">-</span><span class="pln">i </span><span class="pun">);</span><span class="pln"> </span><span class="com">//-+</span><span class="pln">
                    check</span><span class="pun">(</span><span class="pln"> i</span><span class="pun">,-(</span><span class="pln">dist</span><span class="pun">-</span><span class="pln">i</span><span class="pun">));</span><span class="pln"> </span><span class="com">//+-</span><span class="pln">
                    check</span><span class="pun">(-</span><span class="pln">i</span><span class="pun">,-(</span><span class="pln">dist</span><span class="pun">-</span><span class="pln">i</span><span class="pun">));</span><span class="pln"> </span><span class="com">//--</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="kwd">catch</span><span class="pun">(</span><span class="pln">e</span><span class="pun">){</span><span class="pln">
            </span><span class="com">//console.log(e);</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">dest_x</span><span class="pun">,</span><span class="pln">dest_y</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">function</span><span class="pln"> check</span><span class="pun">(</span><span class="pln">vx</span><span class="pun">,</span><span class="pln">vy</span><span class="pun">){</span><span class="pln">
            dest_x</span><span class="pun">=</span><span class="pln">x</span><span class="pun">+</span><span class="pln">vx</span><span class="pun">;</span><span class="pln">
            dest_y</span><span class="pun">=</span><span class="pln">y</span><span class="pun">+</span><span class="pln">vy</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">(</span><span class="pln">dest_x</span><span class="pun">,</span><span class="pln">dest_y</span><span class="pun">))</span><span class="pln">
                </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> can_erase</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">]!==</span><span class="kwd">undefined</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]!==</span><span class="kwd">undefined</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">]!==</span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">id</span><span class="pun">-</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">])%</span><span class="lit">3</span><span class="pun">===</span><span class="lit">1</span><span class="pun">){</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">bots</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]===</span><span class="pln">grid</span><span class="pun">[</span><span class="pln">x</span><span class="pun">][</span><span class="pln">y</span><span class="pun">])</span><span class="pln">
                    </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln">
                </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">x</span><span class="pun">-</span><span class="pln">bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">])+</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">abs</span><span class="pun">(</span><span class="pln">y</span><span class="pun">-</span><span class="pln">bots</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">2</span><span class="pun">])&gt;</span><span class="lit">3</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">can_erase</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">))</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"wait"</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> name</span><span class="pun">=[</span><span class="str">"up"</span><span class="pun">,</span><span class="str">"right"</span><span class="pun">,</span><span class="str">"down"</span><span class="pun">,</span><span class="str">"left"</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> dx</span><span class="pun">=[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,-</span><span class="lit">1</span><span class="pun">],</span><span class="pln">dy</span><span class="pun">=[-</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    dir</span><span class="pun">=</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">last_dir</span><span class="pun">-</span><span class="lit">1</span><span class="pun">&amp;</span><span class="lit">3</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">4</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">can_erase</span><span class="pun">(</span><span class="pln">x</span><span class="pun">+</span><span class="pln">dx</span><span class="pun">[</span><span class="pln">dir</span><span class="pun">],</span><span class="pln">y</span><span class="pun">+</span><span class="pln">dy</span><span class="pun">[</span><span class="pln">dir</span><span class="pun">]))</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> name</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">last_dir</span><span class="pun">=</span><span class="pln">dir</span><span class="pun">];</span><span class="pln">
        dir</span><span class="pun">=</span><span class="pln">dir</span><span class="pun">+</span><span class="lit">1</span><span class="pun">&amp;</span><span class="lit">3</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> dest</span><span class="pun">=</span><span class="pln">manhattan_search</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">,</span><span class="pln">grid</span><span class="pun">.</span><span class="pln">length</span><span class="pun">,</span><span class="pln">can_erase</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">dest</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> name</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">last_dir</span><span class="pun">=[</span><span class="pln">
            </span><span class="pun">[</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln">
            </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">1</span><span class="pun">],</span><span class="pln">
            </span><span class="pun">[</span><span class="lit">3</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">]</span><span class="pln">
        </span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sign</span><span class="pun">(</span><span class="pln">dest</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]-</span><span class="pln">y</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">][</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sign</span><span class="pun">(</span><span class="pln">dest</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]-</span><span class="pln">x</span><span class="pun">)+</span><span class="lit">1</span><span class="pun">]];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171098" title="short permalink to this answer" class="short-link" id="link-post-171098">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171098/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/171098/revisions" title="show all edits to this post">edited <span title="2018-08-25 07:15:55Z" class="relativetime">Aug 25 at 7:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-23 14:35:39Z" class="relativetime">Aug 23 at 14:35</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/64538/12me21"><div class="gravatar-wrapper-32"><img src="./original_files/photo(5).jpg" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/64538/12me21">12Me21</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,814</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="11 silver badges"><span class="badge2"></span><span class="badgecount">11</span></span><span title="34 bronze badges"><span class="badge3"></span><span class="badgecount">34</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171098" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413007" class="comment js-comment " data-comment-id="413007">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">You can put an empty comment before the code block. Better still, put a language specification comment before the code block.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/17602/neil" title="74,562 reputation" class="comment-user">Neil</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413007_171098"><span title="2018-08-23 18:44:23Z" class="relativetime-clean">Aug 23 at 18:44</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413018" class="comment js-comment " data-comment-id="413018">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">This errors on line 47 with the error <code>Cannot read property '1' of undefined</code>. The logged entry <code>12</code> is an eliminated entry with 1 cell of its color still painted, but the <code>bots</code> array doesn't eliminated entries</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/59183/dzaima" title="12,657 reputation" class="comment-user">dzaima</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413018_171098"><span title="2018-08-23 20:00:36Z" class="relativetime-clean">Aug 23 at 20:00</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413019" class="comment js-comment " data-comment-id="413019">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Oh, I thought the last cell was removed when the bot is eliminated. It should work now.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/64538/12me21" title="4,814 reputation" class="comment-user">12Me21</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413019_171098"><span title="2018-08-23 20:04:00Z" class="relativetime-clean">Aug 23 at 20:04</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171098" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>

  
<a name="171202"></a>
<div id="answer-171202" class="answer" data-answerid="171202" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="171202">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>Muncher</h1>

<pre><code>function(myself, grid, bots, gameInfo) {
    const W = grid.length, H = grid[0].length;
    const rounds_left = gameInfo[1] - gameInfo[0];
    const directions = [[0, -1], [1, 0], [0, 1], [-1, 0]];

    function rank_square([x, y]) {
        if (grid[x][y] == myself[0]) return 3;
        if (grid[x][y] == 0) return 1;
        var value = Math.abs(grid[x][y] - myself[0]) % 3;
        if (value) value += 1;
        return value;
    }


    function select_long_paths() {
        const ranked = directions.map(to_coords).filter(legal).map((coords)=&gt;{
            return calculate_min_score(4, [coords]);
        });
        const min = Math.min(...ranked);
        const result = directions.filter((dir, index)=&gt;{return ranked[index] == min;});
        return result;
    }

    function new_coords([x, y], path) {
        const last_coords = path[path.length - 1];
        return [x + last_coords[0], y + last_coords[1]]; 
    }

    function calculate_min_score(num_steps, path_so_far) {
        if (!num_steps) return 0;
            var scores = directions.map((dir)=&gt;{
            return new_coords(dir, path_so_far);
        }).filter(legal).filter((coords)=&gt;{
            var i;
            for (i = 0; i &lt; path_so_far.length; i++) {
                if (path_so_far[i] == coords) return false;
            }
            return true;
        }).map((coords)=&gt;{
            var new_path = path_so_far.slice();
            new_path.push(coords);
            return rank_square(coords) + calculate_min_score(num_steps - 1, new_path);
        });
        return Math.min(...scores);
    }

    function to_coords([x, y]) {
        return [x + myself[1], y + myself[2]];
    }

    function legal([x, y]) {
        return 0 &lt;= x &amp;&amp; x &lt; W &amp;&amp; 0 &lt;= y &amp;&amp; y &lt; H;
    }

    function filter_by_strength(dirs) {
        const ranked = dirs.map(to_coords).filter(legal).map(rank_square);
        const min = Math.min(...ranked);
        const result = dirs.filter((dir, index)=&gt;{return ranked[index] == min;});
        return result;
    }

    function convert([x, y]) {
        x += myself[1];
        y += myself[2];

        if (x &gt; myself[1]) return "right";
        if (x &lt; myself[1]) return "left";
        if (y &lt; myself[2]) return "up";
        return "down";
    }

    const options = select_long_paths();
    const choices = filter_by_strength(options);

    return convert(choices[Math.random() * choices.length |0]);
}
</code></pre>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/171202" title="short permalink to this answer" class="short-link" id="link-post-171202">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/171202/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        answered <span title="2018-08-26 01:00:21Z" class="relativetime">Aug 26 at 1:00</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/82467/andrew"><div class="gravatar-wrapper-32"><img src="./original_files/4f2b2c48343e54cb8ee093d013680ef1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/82467/andrew">andrew</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">21</span><span title="1 bronze badge"><span class="badge3"></span><span class="badgecount">1</span></span>
        </div>
    </div>
</div>
    <div class="js-new-contributor-indicator ps-relative">
        <div class="new-contributor-indicator fc-medium py6 px8 bbr-sm">
            <span class="js-new-contributor-label"><svg aria-hidden="true" class="svg-icon iconWave" width="18" height="18" viewBox="0 0 18 18"><path d="M10.7 17c-2.3 0-3.9-2.05-5.07-3.54l-.49-.6c-.67-.8-1.59-1.63-2.4-2.36A10.91 10.91 0 0 1 1.1 8.87a.79.79 0 0 1-.09-.56c.04-.19.14-.34.27-.4.14-.07.29-.1.45-.1.35 0 .67.18.87.34l3.5 2.75c.04.03.1.03.13 0a.09.09 0 0 0 .02-.13l-.02-.02c-.57-.8-3.42-4.77-3.71-5.15-.21-.27-.3-.58-.24-.84.05-.2.2-.37.4-.48.18-.09.35-.13.52-.13.44 0 .76.28.96.51l3.6 4.42c.04.04.07.06.14.02.05-.02.06-.07.03-.12L4.41 2.96a.94.94 0 0 1-.1-.73.92.92 0 0 1 .47-.57 1.06 1.06 0 0 1 1.4.39l3.8 6.14c.03.04.07.07.14.04.04-.03.06-.07.04-.13A153.8 153.8 0 0 0 8.1 2.54c-.31-.68-.2-1.14.36-1.42.52-.27 1.14-.07 1.47.48l3.69 8.3c.01.04.05.05.1.06a.1.1 0 0 0 .09-.07l.66-2.28c.1-.3.31-.56.62-.72.3-.15.65-.18.98-.1.69.2 1.09.87.89 1.52-.1.37-.46 1.73-.99 3.43l-.1.33c-.58 1.86-1.03 3.33-3.11 4.4-.7.35-1.38.53-2.05.53zm-5.84-.17c-.2.2-1.22 0-1.96-.74s-.92-1.75-.73-1.94c.2-.2.62.61 1.36 1.35.74.75 1.52 1.14 1.33 1.33zm8.39-14.61c.2-.2 1.2 0 1.95.74.74.74.92 1.75.73 1.94-.2.2-.62-.61-1.36-1.35-.74-.75-1.52-1.14-1.32-1.33z"></path></svg> New contributor</span>
        </div>
        <div class="js-new-contributor-popover temp-popover temp-popover__bottom">
            <div class="temp-popover--arrow"></div>
            <div class="p12 fs-caption">
                <a href="https://codegolf.stackexchange.com/users/82467/andrew">andrew</a> is a new contributor to this site. Take care in asking for clarification, commenting, and answering.
Check out our <a href="https://codegolf.stackexchange.com/conduct">Code of Conduct</a>.            </div>
        </div>
    </div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-171202" class="comments js-comments-container ">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="1" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">


    <li id="comment-413293" class="comment js-comment " data-comment-id="413293">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">Muncher threw an error on few recent games I ran; it seemed to happen near the edges of the grid, if that helps track it down.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/75557/jo" title="684 reputation" class="comment-user">Jo.</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413293_171202"><span title="2018-08-26 06:23:07Z" class="relativetime-clean">Aug 26 at 6:23</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413298" class="comment js-comment " data-comment-id="413298">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I'm getting <code>TypeError: (destructured parameter) is undefined</code> in <code>convert</code> when muncher is at the bottom edge (probably happens with other edges too). I'm guessing that the choices list is empty.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/64538/12me21" title="4,814 reputation" class="comment-user">12Me21</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413298_171202"><span title="2018-08-26 07:55:49Z" class="relativetime-clean">Aug 26 at 7:55</span></a></span>
                        <span title="this comment was edited 1 time">
                            <svg aria-hidden="true" class="svg-icon va-text-bottom o50 iconPencilSm" width="14" height="15" viewBox="0 0 14 15"><path d="M8.37 4.7L2 11.11V13h1.88l6.37-6.43zM12.23 3.83L11.1 2.71a.5.5 0 0 0-.7 0L9.2 3.86l1.88 1.84 1.14-1.16a.5.5 0 0 0 0-.71z"></path></svg>
                        </span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413330" class="comment js-comment " data-comment-id="413330">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">I'm getting <code>TypeError: Cannot read property 'Symbol(Symbol.iterator)' of undefined</code>.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/11164/kenorb" title="382 reputation" class="comment-user">kenorb</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413330_171202"><span title="2018-08-26 12:28:02Z" class="relativetime-clean">Aug 26 at 12:28</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413497" class="comment js-comment " data-comment-id="413497">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy">You should be able to fix it by adding <code>if(choices.length)</code> before the <code>return</code>.</span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/64538/12me21" title="4,814 reputation" class="comment-user">12Me21</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413497_171202"><span title="2018-08-27 16:11:02Z" class="relativetime-clean">Aug 27 at 16:11</span></a></span>
                                                                            </div>
        </div>
    </li>
    <li id="comment-413550" class="comment js-comment " data-comment-id="413550">
        <div class="js-comment-actions comment-actions">
            <div class="comment-score">
                    <span title="number of &#39;useful comment&#39; votes received" class="cool">1</span>
            </div>
                    </div>
        <div class="comment-text js-comment-text-and-form">
            <div class="comment-body" style="display: block;">
                <span class="comment-copy"><b>If this bot isn't fixed by 23:00 UTC+1, it will not be allowed to compete in the competition</b></span>
                    –&nbsp;<a href="https://codegolf.stackexchange.com/users/30525/beta-decay" title="12,565 reputation" class="comment-user owner">Beta Decay</a>
                <span class="comment-date" dir="ltr"><a class="comment-link" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#comment413550_171202"><span title="2018-08-27 20:23:21Z" class="relativetime-clean">Aug 27 at 20:23</span></a></span>
                                                                            </div>
        </div>
    </li>
            </ul>
	    </div>

        <div id="comments-link-171202" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link  dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."></a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link " title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick="">show <b>1</b> more comment</a>
        </div>         
    </div>    </div>
</div>

  
<a name="170934"></a>
<div id="answer-170934" class="answer" data-answerid="170934" itemscope="" itemtype="http://schema.org/Answer">
    <div class="post-layout">
            <div class="votecell post-layout--left">
                

<div class="vote">
        <input type="hidden" name="_id_" value="170934">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">2</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>





</div>

            </div>
            


<div class="answercell post-layout--right">
    <div class="post-text" itemprop="text">
<h1>No Do Overs</h1>

<pre><code>function(myself, grid, bots, gameInfo) {
    this.setupDone = false; if(this.setupDone == false) {
    var c = myself[0];
    var x = myself[1];
    var y = myself[2];
    var n = grid.length;

    var dirs = ["left", "up", "down", "right"]
    for(var _ = 0; _ &lt; 4; _++) {
     var dir = dirs.splice(Math.random() * dirs.length | 0, 1);
     if(dir == "left" &amp;&amp; x != 0 &amp;&amp; grid[x-1][y] == 0) {
      return "left";
     }
     if(dir == "right" &amp;&amp; x != n - 1&amp;&amp; grid[x+1][y] == 0) {
      return "right";
     }
     if(dir == "up" &amp;&amp; y != 0 &amp;&amp; grid[x][y-1] == 0) {
      return "up";
     }
     if(dir == "down" &amp;&amp; y != n - 1 &amp;&amp; grid[x][y+1] == 0) {
      return "down";
     }
     if(dir == "left" &amp;&amp; x != 0 &amp;&amp; grid[x-1][y] != c) {
      return "left";
     }
     if(dir == "right" &amp;&amp; x != n - 1 &amp;&amp; grid[x+1][y] != c) {
      return "right";
     }
     if(dir == "up" &amp;&amp; y != 0 &amp;&amp; grid[x][y-1] != c) {
      return "up";
     }
     if(dir == "down" &amp;&amp; y != n - 1 &amp;&amp; grid[x][y+1] != c) {
      return "down";
     }
    }
    dirs = [];
    if(x != 0) dirs[dirs.length] = "left";
    if(x != n - 1) dirs[dirs.length] = "right";
    if(y != 0) dirs[dirs.length] = "up";
    if(y != n - 1) dirs[dirs.length] = "down";
    return dirs[Math.random() * dirs.length | 0];
} }
</code></pre>

<p>Named "No Do Overs" because it will not paint over its own color, unless the only other option would be "wait".</p>
    </div>
    <div class="grid mb0 fw-wrap ai-start jc-end gs8 gsy">
    <div class="grid--cell mr16" style="flex: 1 1 100px;">
<div class="post-menu"><a href="https://codegolf.stackexchange.com/a/170934" title="short permalink to this answer" class="short-link" id="link-post-170934">share</a><span class="lsep">|</span><a href="https://codegolf.stackexchange.com/posts/170934/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </div>
    <div class="post-signature grid--cell fl0">
<div class="user-info ">
    <div class="user-action-time">
        <a href="https://codegolf.stackexchange.com/posts/170934/revisions" title="show all edits to this post">edited <span title="2018-08-27 00:15:20Z" class="relativetime">Aug 27 at 0:15</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </div>
            


    <div class="post-signature grid--cell fl0">
<div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2018-08-20 17:16:09Z" class="relativetime">Aug 20 at 17:16</span>
    </div>
    <div class="user-gravatar32">
        <a href="https://codegolf.stackexchange.com/users/55550/zachar%c3%bd"><div class="gravatar-wrapper-32"><img src="./original_files/a972a014fe803e783d62ad64c41ed08b" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="https://codegolf.stackexchange.com/users/55550/zachar%c3%bd">Zacharý</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">4,770</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="10 silver badges"><span class="badge2"></span><span class="badgecount">10</span></span><span title="35 bronze badges"><span class="badge3"></span><span class="badgecount">35</span></span>
        </div>
    </div>
</div>

    </div>
    </div>
</div>
    
    <div class="post-layout--right">
	    <div id="comments-170934" class="comments js-comments-container  dno">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

            </ul>
	    </div>

        <div id="comments-link-170934" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”.">add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" onclick=""></a>
        </div>         
    </div>    </div>
</div>
<div class="pager-answers">
        




 <span class="page-numbers current">1</span>         <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?page=2&amp;tab=votes#tab-top" title="go to page 2"> <span class="page-numbers">2</span> </a> 
        <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?page=2&amp;tab=votes#tab-top" rel="next" title="go to page 2"> <span class="page-numbers next"> next</span> </a> 

    </div>                                    <a name="new-answer"></a>
                        <form id="post-form" action="https://codegolf.stackexchange.com/questions/170908/answer/submit" method="post" class="post-form">
                            <input type="hidden" id="post-id" value="170908">
                            <input type="hidden" id="qualityBanWarningShown" name="qualityBanWarningShown" value="false">
                            <input type="hidden" name="referrer" value="">
                            <h2 class="space">Your Answer</h2>

        <script>
            StackExchange.ifUsing("editor", function () {
                return StackExchange.using("mathjaxEditing", function () {
                    StackExchange.MarkdownEditor.creationCallbacks.add(function (editor, postfix) {
                        StackExchange.mathjaxEditing.prepareWmdForMathJax(editor, postfix, [["\\$", "\\$"]]);
                    });
                });
            }, "mathjax-editing");
        </script>

            <script>
            StackExchange.ifUsing("editor", function () {
                StackExchange.using("externalEditor", function () {
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.init();
                    });
                });
            }, "code-snippets");
        </script>
    

<script>
    StackExchange.ready(function() {
        var channelOptions = {
            tags: "".split(" "),
            id: "200"
        };
        initTagRenderer("".split(" "), "".split(" "), channelOptions);
       
        StackExchange.using("externalEditor", function() {
                // Have to fire editor after snippets, if snippets enabled
                if (StackExchange.settings.snippets.snippetsEnabled) {
                    StackExchange.using("snippets", function() {
                        createEditor();
                    });
                }
                else {
                    createEditor();
                }
            });

            function createEditor() {
                StackExchange.prepareEditor({
                    heartbeatType: 'answer',
                convertImagesToLinks: false,
                noModals: false,
                showLowRepImageUploadWarning: true,
                reputationToPostImages: null,
                bindNavPrevention: true,
                postfix: "",
                    onDemand: true,
                    discardSelector: ".discard-answer"
                    ,immediatelyShowMarkdownHelp:true
                    });
                

        }
    });
</script>


<div id="post-editor" class="post-editor js-post-editor wz-element" data-wz-state="3,4,5,6,7,8">

    <div style="position: relative;"> 
        <div class="wmd-container">
            <div id="wmd-button-bar" class="wmd-button-bar btr-sm"><ul id="wmd-button-row" class="wmd-button-row"><li id="wmd-bold-button" class="wmd-button" style="left: 0px;"><span style="background-position: 0px -20px;"></span></li><li id="wmd-italic-button" class="wmd-button" style="left: 25px;"><span style="background-position: -20px -20px;"></span></li><li id="wmd-spacer1" class="wmd-spacer" style="left: 50px;"><span style="background-position: -40px -20px;"></span></li><li id="wmd-link-button" class="wmd-button" style="left: 75px;"><span style="background-position: -40px -20px;"></span></li><li id="wmd-quote-button" class="wmd-button" style="left: 100px;"><span style="background-position: -60px -20px;"></span></li><li id="wmd-code-button" class="wmd-button" style="left: 125px;"><span style="background-position: -80px -20px;"></span></li><li id="wmd-image-button" class="wmd-button" style="left: 150px;"><span style="background-position: -100px -20px;"></span></li><li id="wmd-spacer2" class="wmd-spacer" style="left: 175px;"><span style="background-position: -120px -20px;"></span></li><li id="wmd-olist-button" class="wmd-button" style="left: 200px;"><span style="background-position: -120px -20px;"></span></li><li id="wmd-ulist-button" class="wmd-button" style="left: 225px;"><span style="background-position: -140px -20px;"></span></li><li id="wmd-heading-button" class="wmd-button" style="left: 250px;"><span style="background-position: -160px -20px;"></span></li><li id="wmd-hr-button" class="wmd-button" style="left: 275px;"><span style="background-position: -180px -20px;"></span></li><li id="wmd-spacer3" class="wmd-spacer" style="left: 300px;"><span style="background-position: -200px -20px;"></span></li><li id="wmd-undo-button" class="wmd-button" style="left: 325px;"><span style="background-position: -200px -20px;"></span></li><li id="wmd-redo-button" class="wmd-button" style="left: 350px;"><span style="background-position: -220px -20px;"></span></li><li class="wmd-spacer wmd-spacer-max"></li></ul></div>
                        <textarea id="wmd-input" class="wmd-input wz-element s-input bar0" name="post-text" cols="92" rows="15" tabindex="101" data-wz-state="8" data-min-length=""></textarea>
        </div>
    </div>

    <div class="fl" style="margin-top: 8px; height:24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height:24px; display:none;">draft saved</div>

    <div id="draft-discarded" class="draft-discarded community-option fl" style="margin-top: 8px; height:24px; display:none;">draft discarded</div>



    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" type="hidden" value="350f16585a6ba32da86572f6cb639d466d0936ab422413e7287de1170651978a">
        <input id="author" name="author" type="text">
    </div>



</div>

                            <div style="position: relative;">
                                
                                            <div class="form-item new-post-login">
        
                <div class="new-login-form">
                    <div class="new-login-left">
                        <h3>Sign up or <a id="login-link" href="https://codegolf.stackexchange.com/users/login?ssrc=question_page&amp;returnurl=https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth%23new-answer">log in</a></h3>
                        <script>
                            StackExchange.ready(function () {
                                StackExchange.helpers.onClickDraftSave('#login-link');
                            });
                        </script>
                        <div class="preferred-login google-login" data-ga="[&quot;sign up&quot;,&quot;Sign Up Started - Google&quot;,&quot;New Post&quot;,null,null]">
                            <svg aria-hidden="true" class="svg-icon native iconGoogle" width="18" height="18" viewBox="0 0 18 18"><g><path d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z" fill="#4285F4"></path><path d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 0 1-7.18-2.54H1.83v2.07A8 8 0 0 0 8.98 17z" fill="#34A853"></path><path d="M4.5 10.52a4.8 4.8 0 0 1 0-3.04V5.41H1.83a8 8 0 0 0 0 7.18l2.67-2.07z" fill="#FBBC05"></path><path d="M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 0 0 1.83 5.4L4.5 7.49a4.77 4.77 0 0 1 4.48-3.3z" fill="#EA4335"></path></g></svg> Sign up using Google
                        </div>
                        <div class="preferred-login facebook-login" data-ga="[&quot;sign up&quot;,&quot;Sign Up Started - Facebook&quot;,&quot;New Post&quot;,null,null]">
                            <svg aria-hidden="true" class="svg-icon iconFacebook" width="18" height="18" viewBox="0 0 18 18"><path d="M1.88 1C1.4 1 1 1.4 1 1.88v14.24c0 .48.4.88.88.88h7.67v-6.2H7.46V8.4h2.09V6.61c0-2.07 1.26-3.2 3.1-3.2.88 0 1.64.07 1.87.1v2.16h-1.29c-1 0-1.19.48-1.19 1.18V8.4h2.39l-.31 2.42h-2.08V17h4.08c.48 0 .88-.4.88-.88V1.88c0-.48-.4-.88-.88-.88H1.88z" fill="#3C5A96"></path></svg> Sign up using Facebook
                        </div>
                        <div class="preferred-login stackexchange-login" data-ga="[&quot;sign up&quot;,&quot;Sign Up Navigation&quot;,&quot;New Post&quot;,null,null]">
                            <svg aria-hidden="true" class="svg-icon native iconLogoGlyphXSm" width="18" height="18" viewBox="0 0 18 18"><g><path fill="#BCBBBB" d="M14 16v-5h2v7H2v-7h2v5z"></path><path d="M5 15v-2h8v2H5zM12.09.72l4.5 6.06-1.2.9-4.51-6.06 1.21-.9zM8.34 4.3l.97-1.16 5.8 4.83-.96 1.16-5.8-4.83zm-1.9 3.36l.64-1.37 6.85 3.19-.63 1.37-6.85-3.2zM5.4 11.39l.38-1.67 7.42 1.48-.22 1.46-7.58-1.27z" fill="#F48024"></path></g></svg> Sign up using Email and Password
                        </div>
                    </div>
                    <input type="hidden" name="manual-openid" class="manual-openid">
                    <input type="hidden" name="use-facebook" class="use-facebook" value="false">
                    <input type="hidden" name="use-google" class="use-google" value="false">
                    <input type="button" class="submit-openid" value="Submit" style="display:none">
                    <div class="new-login-right">
                                <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tbody><tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown">
                </div>
            </td>
        </tr>
        </tbody></table>
    </div>

                    </div>
                </div>
            </div>
            <script>
                StackExchange.ready(
                    function () {
                        StackExchange.openid.initPostLogin('.new-post-login', 'https%3a%2f%2fcodegolf.stackexchange.com%2fquestions%2f170908%2fart-attack-koth%23new-answer', 'question_page');
                    }
                );
            </script>
            <noscript>
                        <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown" />
                </div>
            </td>
        </tr>
        </table>
    </div>

            </noscript>

                            </div>

                                                            <div class="form-submit cbt grid gsx gs4">
                                        <button id="submit-button" class="grid--cell s-btn s-btn__primary" type="submit" tabindex="120" autocomplete="off">
Post Your Answer                                        </button>
                                        <button class="grid--cell s-btn s-btn__danger discard-answer dno">Discard</button>
                                                                            <p class="privacy-policy-agreement">
                                            

By clicking "Post Your Answer", you acknowledge that you have read our updated <a href="https://stackoverflow.com/legal/terms-of-service/public" name="tos" target="_blank" class="-link">terms of service</a>, <a href="https://stackoverflow.com/legal/privacy-policy" name="privacy" target="_blank" class="-link">privacy policy</a> and <a href="https://stackoverflow.com/legal/cookie-policy" name="cookie" target="_blank" class="-link">cookie policy</a>, and that your continued use of the website is subject to these policies.

<input type="hidden" name="legalLinksShown" value="1">
                                        </p>
                                </div>
                        </form>



                        <h2 class="bottom-notice" data-loc="1">
Not the answer you're looking for?                            Browse other questions tagged <a href="https://codegolf.stackexchange.com/questions/tagged/king-of-the-hill" class="post-tag" title="show questions tagged &#39;king-of-the-hill&#39;" rel="tag">king-of-the-hill</a> <a href="https://codegolf.stackexchange.com/questions/tagged/javascript" class="post-tag" title="show questions tagged &#39;javascript&#39;" rel="tag">javascript</a>  or <a href="https://codegolf.stackexchange.com/questions/ask">ask your own question</a>.                        </h2>
            </div>
        </div>
                <div id="sidebar" class="show-votes" role="complementary" aria-label="sidebar">
                            <div class="module question-stats">
                    <table id="qinfo">
                        <tbody><tr>
                            <td>
                                <p class="label-key">asked</p>
                            </td>
                            <td style="padding-left: 10px">
                                <p class="label-key" title="2018-08-20 08:40:26Z"><b>10 days ago</b></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="label-key">viewed</p>
                            </td>

                            <td style="padding-left: 10px">
                                <p class="label-key">
                                    <b>7,858 times</b>
                                </p>
                            </td>
                        </tr>
                            <tr>
                                <td>
                                    <p class="label-key">active</p>
                                </td>
                                <td style="padding-left: 10px">
                                    <p class="label-key"><b><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth?lastactivity" class="lastactivity-link" title="2018-08-29 07:22:00Z">yesterday</a></b></p>
                                </td>
                            </tr>
                    </tbody></table>
                </div>
            
            
<style>
    .ad-container {
        width: 300px;
        height: 250px;
        overflow: hidden;
        margin-bottom: 10px;
    }

    .ad-container .ad {
        height: 250px;
    }

    .ad-container a:hover {
        text-decoration: underline;
    }

    .ad-container .footer {
        font-family: Arial,Helvetic,Sans-Serif;
        font-size: 12px;
        text-align: center;
        padding: 8px 0;
        background-color: #000;
        color: #EFF;

        transition: transform 225ms ease, opacity 225ms ease;
        transform: translateY(0);
        opacity: 0;
    }

    .ad-container:hover .footer {
        transform: translateY(-100%);
        opacity: 0.9;
    }

    #adzerk2 {
        height: 250px;
    }
</style>
    <div class="ad-container">
        <div class="ad">
            <a href="http://codegolf.meta.stackexchange.com/ads/ct/14696?url=https%3a%2f%2fchat.stackexchange.com%2frooms%2f57815%2fjelly-hypertraining&amp;s=23ecf52cdb3b89577e215df6ca276d86cd0cc97037b0553042b227abe2f535c0" rel="nofollow" target="_blank"><img src="./original_files/zIFyO.png" alt="Want to improve your Jelly skills? – Join Jelly HyperTraining!" title="Want to improve your Jelly skills? – Join Jelly HyperTraining!" width="300" height="250"></a>
        </div>
        <div class="footer">
            10 votes ·
            <a href="https://codegolf.meta.stackexchange.com/questions/14687#14696" title="click to comment on this ad" target="_blank">
                comment
            </a> ·
            <a href="https://codegolf.meta.stackexchange.com/ads/display/14687" target="_blank">
                stats
            </a>
        </div>
    </div>
            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="https://codegolf.stackexchange.com/q/25347?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes answered-accepted large">233</div>
	</a>
	<a href="https://codegolf.stackexchange.com/questions/25347/survival-game-create-your-wolf?noredirect=1&amp;lq=1" class="question-hyperlink">Survival Game - Create Your Wolf</a>
</div>
<div class="spacer">
	<a href="https://codegolf.stackexchange.com/q/170229?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">47</div>
	</a>
	<a href="https://codegolf.stackexchange.com/questions/170229/gold-collector-koth?noredirect=1&amp;lq=1" class="question-hyperlink">Gold Collector KoTH</a>
</div>
<div class="spacer">
	<a href="https://codegolf.stackexchange.com/q/171105?lq=1" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">8</div>
	</a>
	<a href="https://codegolf.stackexchange.com/questions/171105/koth-gomoku-five-in-a-row?noredirect=1&amp;lq=1" class="question-hyperlink">KoTH: Gomoku (Five in a row)</a>
</div>			</div>
</div>

                <div class="module sidebar-related">
                    <h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/37251?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">24</div></a><a href="https://codegolf.stackexchange.com/questions/37251/chess-tournament?rq=1" class="question-hyperlink">Chess Tournament</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/50172?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes large">105</div></a><a href="https://codegolf.stackexchange.com/questions/50172/what-doesnt-kill-me?rq=1" class="question-hyperlink">What Doesn't Kill Me…</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/50690?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">41</div></a><a href="https://codegolf.stackexchange.com/questions/50690/block-building-bot-flocks?rq=1" class="question-hyperlink">Block Building Bot Flocks!</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/51029?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">13</div></a><a href="https://codegolf.stackexchange.com/questions/51029/asymmetrical-koth-catch-the-cat-cat-thread?rq=1" class="question-hyperlink">Asymmetrical KOTH: Catch the Cat (Cat Thread)</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/51030?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">16</div></a><a href="https://codegolf.stackexchange.com/questions/51030/asymmetrical-koth-catch-the-cat-catcher-thread?rq=1" class="question-hyperlink">Asymmetrical KOTH: Catch the Cat (Catcher Thread)</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/59867?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">27</div></a><a href="https://codegolf.stackexchange.com/questions/59867/king-of-the-hill-firefighters?rq=1" class="question-hyperlink">King of the Hill - Firefighters</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/79253?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">23</div></a><a href="https://codegolf.stackexchange.com/questions/79253/koth-tnt-run-challenge?rq=1" class="question-hyperlink">KOTH: TNT Run Challenge</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/117482?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">28</div></a><a href="https://codegolf.stackexchange.com/questions/117482/team-of-the-hill?rq=1" class="question-hyperlink">Team of The Hill!</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/120685?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">12</div></a><a href="https://codegolf.stackexchange.com/questions/120685/koth-hit-and-sunk?rq=1" class="question-hyperlink">KOTH: Hit and Sunk</a></div><div class="spacer js-gps-track"><a href="https://codegolf.stackexchange.com/q/170229?rq=1" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">47</div></a><a href="https://codegolf.stackexchange.com/questions/170229/gold-collector-koth?rq=1" class="question-hyperlink">Gold Collector KoTH</a></div>
                    </div>
                </div>

<div id="hot-network-questions" class="module tex2jax_ignore">
    <h4>
        <a href="https://stackexchange.com/questions?tab=hot" class="js-gps-track s-link s-link__inherit" data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li>
                <div class="favicon favicon-askubuntu" title="Ask Ubuntu"></div><a href="https://askubuntu.com/questions/1070540/rename-multiple-txt-files-changing-some-characters-in-specific-positions" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:89 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Rename multiple .txt files changing some characters in specific positions
                </a>

            </li>
            <li>
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/462374/verb-for-getting-something-e-g-information-by-cunning-and-or-perseverance" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Verb for getting something (e.g. information) by cunning and/or perseverance
                </a>

            </li>
            <li>
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="https://rpg.stackexchange.com/questions/130791/are-ability-bonuses-added-to-skills-you-dont-have" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Are ability bonuses added to skills you don't have?
                </a>

            </li>
            <li>
                <div class="favicon favicon-codegolf" title="Programming Puzzles &amp; Code Golf Stack Exchange"></div><a href="https://codegolf.stackexchange.com/questions/171395/lets-golf-a-bibabobu-decoder" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:200 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Let's golf a BIBABOBU decoder
                </a>

            </li>
            <li>
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="https://english.stackexchange.com/questions/462430/what-does-all-senses-cocked-mean" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What does “all senses cocked” mean?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-aviation" title="Aviation Stack Exchange"></div><a href="https://aviation.stackexchange.com/questions/54683/tail-wing-dented-is-it-safe-to-fly" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:528 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Tail Wing Dented—Is it safe to fly?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="https://academia.stackexchange.com/questions/116088/asking-an-exam-question-that-requires-a-specific-technique" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Asking an exam question that requires a specific technique
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-stackoverflow" title="Stack Overflow"></div><a href="https://stackoverflow.com/questions/52094533/filter-integers-in-numpy-float-array" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:1 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Filter integers in numpy float array
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-interpersonal" title="Interpersonal Skills Stack Exchange"></div><a href="https://interpersonal.stackexchange.com/questions/17993/how-to-encourage-a-child-with-autism-to-practice-reading" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:680 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to encourage a child with autism to practice reading?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-tex" title="TeX - LaTeX Stack Exchange"></div><a href="https://tex.stackexchange.com/questions/448554/how-do-i-create-a-specially-delimited-command-in-xparse" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:85 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How do I create a specially delimited command in `xparse`
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-ux" title="User Experience Stack Exchange"></div><a href="https://ux.stackexchange.com/questions/120541/why-do-people-not-notice-our-enormous-prominent-clear-and-contrasting-purple-b" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:102 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why do people not notice our enormous, prominent, clear and contrasting purple banner?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-skeptics" title="Skeptics Stack Exchange"></div><a href="https://skeptics.stackexchange.com/questions/42155/did-the-maps-for-services-such-as-snapchat-citibike-and-streeteasy-label-new-yo" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:212 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Did the maps for services such as Snapchat, CitiBike and StreetEasy label New York City as “Jewtropolis” for a brief amount of time?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-german" title="German Language Stack Exchange"></div><a href="https://german.stackexchange.com/questions/46645/german-equivalents-to-the-prefix-re" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:253 }); posts_hot_network.click({ item_type:2, location:11 })">
                    German equivalents to the prefix "re"?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="https://travel.stackexchange.com/questions/121450/duty-free-in-the-usa-why-do-i-have-to-be-given-my-purchase-as-i-board-the-plane" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Duty Free in the USA. Why do I have to be given my purchase as I board the plane?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-judaism" title="Mi Yodeya"></div><a href="https://judaism.stackexchange.com/questions/95050/did-king-davids-parents-abandon-him-psalm-27" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:248 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Did King David's parents abandon him? (Psalm 27)
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="https://worldbuilding.stackexchange.com/questions/123452/an-eden-like-moon-orbits-a-barren-terrestrial-planet-why-is-the-planet-barren-w" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    An Eden-like moon orbits a barren terrestrial planet. Why is the planet barren while its moon is earthlike?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="https://academia.stackexchange.com/questions/115967/during-peer-review-should-i-comment-on-the-authors-messy-code" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    During peer-review, should I comment on the authors' messy code?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-parenting" title="Parenting Stack Exchange"></div><a href="https://parenting.stackexchange.com/questions/34736/should-i-encourage-persuade-my-3-year-old-to-watch-kids-tv-shows-that-she-finds" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:228 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Should I encourage/persuade my 3 year old to watch kids TV shows that she finds scary or upsetting?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-apple" title="Ask Different"></div><a href="https://apple.stackexchange.com/questions/335179/how-can-i-obfuscate-a-small-section-of-a-image-on-macos" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:118 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How can I obfuscate a small section of a image on macOS?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="https://money.stackexchange.com/questions/99097/by-18-years-of-age-i-want-a-brand-new-car-thats-43-668" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    By 18 years of age, I want a brand new car that's $43,668
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="https://money.stackexchange.com/questions/99176/fee-only-financial-advice-vs-asset-management-which-includes-advice" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Fee-only financial advice vs. asset management (which includes advice)?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-physics" title="Physics Stack Exchange"></div><a href="https://physics.stackexchange.com/questions/425748/why-did-michelson-believe-the-aether-was-moving" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:151 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why did Michelson believe the aether was moving?
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-askubuntu" title="Ask Ubuntu"></div><a href="https://askubuntu.com/questions/1070447/transferring-stuff-from-one-computer-to-another" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:89 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Transferring stuff from one computer to another
                </a>

            </li>
            <li class="dno js-hidden" style="display: list-item;">
                <div class="favicon favicon-unix" title="Unix &amp; Linux Stack Exchange"></div><a href="https://unix.stackexchange.com/questions/465758/is-it-true-that-a-tarball-can-change-where-files-are-extracted-to-regardless-of" class="js-gps-track question-hyperlink mb0" data-gps-track="site.switch({ item_type:11, target_site:106 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Is it true that a tarball can change where files are extracted to regardless of the commands used to extract it?
                </a>

            </li>
    </ul>

        
</div>

<div id="feed-link">
    <a href="https://codegolf.stackexchange.com/feeds/question/170908" title="feed of this question and its answers">
        <svg aria-hidden="true" class="svg-icon fc-orange-400 iconRss" width="18" height="18" viewBox="0 0 18 18"><path d="M1 3c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3zm14.5 12C15.5 8.1 9.9 2.5 3 2.5V5a10 10 0 0 1 10 10h2.5zm-5 0A7.5 7.5 0 0 0 3 7.5V10a5 5 0 0 1 5 5h2.5zm-5 0A2.5 2.5 0 0 0 3 12.5V15h2.5z"></path></svg>
        question feed
    </a>
</div>
        </div>
    </div>
<script>StackExchange.ready(function(){$.get('/posts/170908/ivc/70c0');});</script>
<noscript><div><img src="/posts/170908/ivc/70c0" class="dno" alt="" width="0" height="0"></div></noscript><div style="display:none" id="prettify-lang"></div></div>


        </div>
    </div>

    <footer id="footer" class="site-footer js-footer" role="contentinfo">
        <div class="site-footer--container">
            
            <nav class="site-footer--nav">
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title"><a href="https://codegolf.stackexchange.com/">Programming Puzzles &amp; Code Golf</a></h5>
                        <ul class="-list js-primary-footer-links">
                                    <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 2 })" href="https://codegolf.stackexchange.com/tour">Tour</a></li>
                                <li class="-item"><a href="https://codegolf.stackexchange.com/help" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 3 })">Help</a></li>
                                    <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 5 })" href="https://chat.stackexchange.com/?tab=site&amp;host=codegolf.stackexchange.com">Chat</a></li>
                            <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 13 })" href="https://codegolf.stackexchange.com/contact">Contact</a></li>
                                <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 14 })" href="https://codegolf.meta.stackexchange.com/">Feedback</a></li>
                                                            <li class="-item"><a onclick="StackExchange.switchMobile(&quot;on&quot;)" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 12 })">Mobile</a></li>
                        <li class="-item"><a class="-link" role="button">Disable Responsiveness</a></li></ul>
                    </div>
                <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                    <h5 class="-title"><a class="js-gps-track" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">Company</a></h5>
                    <ul class="-list">
                                                    <li class="-item"><a href="https://stackoverflow.com/" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 15})">Stack Overflow</a></li>
                            <li class="-item"><a href="https://www.stackoverflowbusiness.com/" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 19 })">Stack Overflow Business</a></li>
                            <li class="-item"><a href="https://stackoverflow.com/jobs" class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 17})">Developer Jobs</a></li>
                                <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 1 })" href="https://stackoverflow.com/company/about">About</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 27 })" href="https://stackoverflow.com/company/press">Press</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 7 })" href="https://stackoverflow.com/legal">Legal</a></li>
                        <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link: 8 })" href="https://stackoverflow.com/legal/privacy-policy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="site-footer--col site-footer--categories-nav site-footer--col__visible">
                    <a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="site-footer--back js-footer-back"><svg aria-hidden="true" class="svg-icon iconArrowLeftAlt" width="18" height="18" viewBox="0 0 18 18"><path d="M10.58 16L12 14.59 6.4 9 12 3.41 10.57 2l-7 7z"></path></svg></a>
                    <div>
                        <h5 class="-title"><a href="https://stackexchange.com/">Stack Exchange<br> Network</a></h5>
                        <ul class="-list">
                            <li class="-item"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Technology">Technology</a></li>
                            <li class="-item"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Life / Arts">Life / Arts</a></li>
                            <li class="-item"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Culture / Recreation">Culture / Recreation</a></li>
                            <li class="-item"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Science">Science</a></li>
                            <li class="-item"><a href="https://codegolf.stackexchange.com/questions/170908/art-attack-koth#" class="-link _expandable js-footer-category-trigger js-gps-track" data-gps-track="footer.click({ location: 2, link: 24 })" data-target="Other">Other</a></li>

                        </ul>
                    </div>
                </div>
                <div class="site-footer--categories">
                    <div class="site-footer--col site-footer--category js-footer-col" data-name="Technology">
        <ul class="-list">
                <li class="-item"><a href="https://stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and enthusiast programmers">Stack Overflow</a></li>
                <li class="-item"><a href="https://serverfault.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="system and network administrators">Server Fault</a></li>
                <li class="-item"><a href="https://superuser.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="computer enthusiasts and power users">Super User</a></li>
                <li class="-item"><a href="https://webapps.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of web applications">Web Applications</a></li>
                <li class="-item"><a href="https://askubuntu.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                <li class="-item"><a href="https://webmasters.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="pro webmasters">Webmasters</a></li>
                <li class="-item"><a href="https://gamedev.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and independent game developers">Game Development</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://tex.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                <li class="-item"><a href="https://softwareengineering.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professionals, academics, and students working within the systems development life cycle">Software Engineering</a></li>
                <li class="-item"><a href="https://unix.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                <li class="-item"><a href="https://apple.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                <li class="-item"><a href="https://wordpress.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="WordPress developers and administrators">WordPress Development</a></li>
                <li class="-item"><a href="https://gis.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                <li class="-item"><a href="https://electronics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://android.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                <li class="-item"><a href="https://security.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="information security professionals">Information Security</a></li>
                <li class="-item"><a href="https://dba.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                <li class="-item"><a href="https://drupal.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Drupal developers and administrators">Drupal Answers</a></li>
                <li class="-item"><a href="https://sharepoint.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="SharePoint enthusiasts">SharePoint</a></li>
                <li class="-item"><a href="https://ux.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="user experience researchers and experts">User Experience</a></li>
                <li class="-item"><a href="https://mathematica.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Wolfram Mathematica">Mathematica</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://salesforce.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                <li class="-item"><a href="https://expressionengine.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="administrators, end users, developers and designers for ExpressionEngine® CMS">ExpressionEngine® Answers</a></li>
                <li class="-item"><a href="https://pt.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores profissionais e entusiastas">Stack Overflow em Português</a></li>
                <li class="-item"><a href="https://blender.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who use Blender to create 3D graphics, animations, or games">Blender</a></li>
                <li class="-item"><a href="https://networkengineering.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="network engineers">Network Engineering</a></li>
                <li class="-item"><a href="https://crypto.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                <li class="-item"><a href="https://codereview.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="peer programmer code reviews">Code Review</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://magento.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of the Magento e-Commerce platform">Magento</a></li>
                <li class="-item"><a href="https://softwarerecs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people seeking specific software recommendations">Software Recommendations</a></li>
                <li class="-item"><a href="https://dsp.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                <li class="-item"><a href="https://emacs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those using, extending or developing Emacs">Emacs</a></li>
                <li class="-item"><a href="https://raspberrypi.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                <li class="-item"><a href="https://ru.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="программистов">Stack Overflow на русском</a></li>
                <li class="-item"><a href="https://codegolf.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Technology"><ul class="-list">
                <li class="-item"><a href="https://es.stackoverflow.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programadores y profesionales de la informática">Stack Overflow en español</a></li>
                <li class="-item"><a href="https://ethereum.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="users of Ethereum, the decentralized application platform and smart contract enabled blockchain">Ethereum</a></li>
                <li class="-item"><a href="https://datascience.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Data science professionals, Machine Learning specialists, and those interested in learning more about the field">Data Science</a></li>
                <li class="-item"><a href="https://arduino.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="developers of open-source hardware and software that is compatible with Arduino">Arduino</a></li>
                <li class="-item"><a href="https://bitcoin.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Bitcoin crypto-currency enthusiasts">Bitcoin</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#technology" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (30)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts">
        <ul class="-list">
                <li class="-item"><a href="https://photo.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional, enthusiast and amateur photographers">Photography</a></li>
                <li class="-item"><a href="https://scifi.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                <li class="-item"><a href="https://graphicdesign.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                <li class="-item"><a href="https://movies.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                <li class="-item"><a href="https://music.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                <li class="-item"><a href="https://worldbuilding.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="writers/artists using science, geography and culture to construct imaginary worlds and settings">Worldbuilding</a></li>
                <li class="-item"><a href="https://cooking.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Life / Arts"><ul class="-list">
                <li class="-item"><a href="https://diy.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="contractors and serious DIYers">Home Improvement</a></li>
                <li class="-item"><a href="https://money.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                <li class="-item"><a href="https://academia.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="academics and those enrolled in higher education">Academia</a></li>
                <li class="-item"><a href="https://law.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="legal professionals, students, and others with experience or interest in law">Law</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#lifearts" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (15)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation">
        <ul class="-list">
                <li class="-item"><a href="https://english.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                <li class="-item"><a href="https://skeptics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientific skepticism">Skeptics</a></li>
                <li class="-item"><a href="https://judaism.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                <li class="-item"><a href="https://travel.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="road warriors and seasoned travelers">Travel</a></li>
                <li class="-item"><a href="https://christianity.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                <li class="-item"><a href="https://ell.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="speakers of other languages learning English">English Language Learners</a></li>
                <li class="-item"><a href="https://japanese.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Culture / Recreation"><ul class="-list">
                <li class="-item"><a href="https://gaming.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                <li class="-item"><a href="https://bicycles.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                <li class="-item"><a href="https://rpg.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                <li class="-item"><a href="https://anime.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="anime and manga fans">Anime &amp; Manga</a></li>
                <li class="-item"><a href="https://puzzling.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those who create, solve, and study puzzles">Puzzling</a></li>
                <li class="-item"><a href="https://mechanics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="mechanics and DIY enthusiast owners of cars, trucks, and motorcycles">Motor Vehicle Maintenance &amp; Repair</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#culturerecreation" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (33)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Science">
        <ul class="-list">
                <li class="-item"><a href="https://mathoverflow.net/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="professional mathematicians">MathOverflow</a></li>
                <li class="-item"><a href="https://math.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                <li class="-item"><a href="https://stats.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                <li class="-item"><a href="https://cstheory.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                <li class="-item"><a href="https://physics.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="active researchers, academics and students of physics">Physics</a></li>
                <li class="-item"><a href="https://chemistry.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="scientists, academics, teachers, and students in the field of chemistry">Chemistry</a></li>
                <li class="-item"><a href="https://biology.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="biology researchers, academics, and students">Biology</a></li>
                    </ul></div><div class="site-footer--col site-footer--category js-footer-col" data-name="Science"><ul class="-list">
                <li class="-item"><a href="https://cs.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                <li class="-item"><a href="https://philosophy.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="those interested in the study of the fundamental nature of knowledge, reality, and existence">Philosophy</a></li>
                            <li class="-item">
                    <a href="https://stackexchange.com/sites#science" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 26 })">
                        <strong>
                            more (10)
                        </strong>
                    </a>
                </li>
        </ul>
    </div>
    <div class="site-footer--col site-footer--category js-footer-col" data-name="Other">
        <ul class="-list">
                <li class="-item"><a href="https://meta.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                <li class="-item"><a href="https://stackapps.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                <li class="-item"><a href="https://api.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="programmatic interaction with Stack Exchange sites">API</a></li>
                <li class="-item"><a href="https://data.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="querying Stack Exchange data using SQL">Data</a></li>
                <li class="-item"><a href="https://area51.stackexchange.com/" class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                    </ul>
    </div>
                </div>
            </nav>
            <div class="site-footer--copyright fs-fine">
                <ul class="-list">
                    <li class="-item"><a class="js-gps-track -link" data-gps-track="footer.click({ location: 2, link:4 })" href="https://stackoverflow.blog/?blb=1">Blog</a></li>
                    <li class="-item"><a href="https://www.facebook.com/officialstackoverflow/" class="-link">Facebook</a></li>
                    <li class="-item"><a href="https://twitter.com/stackoverflow" class="-link">Twitter</a></li>
                    <li class="-item"><a href="https://linkedin.com/company/stack-overflow" class="-link">LinkedIn</a></li>
                </ul>

                <p class="mt-auto mb24">
site design / logo © 2018 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a>
                            with <a href="https://stackoverflow.blog/2009/06/25/attribution-required/" rel="license">attribution required</a>.
                    <span id="svnrev">rev&nbsp;2018.8.30.31447</span>
                </p>
            </div>
        </div>

            </footer>
            <script>StackExchange.ready(function () { StackExchange.responsiveness.addSwitcher(); })</script>
    <noscript>
        <div id="noscript-warning">Programming Puzzles &amp; Code Golf Stack Exchange works best with JavaScript enabled
            <img src="https://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno">
        </div>
    </noscript>

<script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            StackExchange.ready(function () {

                StackExchange.ga.init({
                    sendTitles: true,
                    tracker: window.ga,
                    trackingCodes: [
                        'UA-108242619-5'
                    ]
                });



                    StackExchange.ga.setDimension('dimension2', '|king-of-the-hill|javascript|');

                    StackExchange.ga.setDimension('dimension3', 'Questions/Show');


                StackExchange.ga.trackPageView();
            });
            
/**/
            
            var _qevents = _qevents || [],
            _comscore = _comscore || [];
            (function() {
                var ssl = 'https:' == document.location.protocol,
                    s = document.getElementsByTagName('script')[0],
                    qc = document.createElement('script');
                 qc.async = true;
                    qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                    s.parentNode.insertBefore(qc, s);
                    _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
/**/
                 var sc = document.createElement('script');
                    sc.async = true;
                    sc.src = (ssl ? 'https://sb' : 'http://b') + '.scorecardresearch.com/beacon.js';
                    s.parentNode.insertBefore(sc, s);
                    _comscore.push({ c1: "2", c2: "17440561" });
            })();
            

</script>
            
    
    
<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; min-width: 0px; max-width: none; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Main, sans-serif;"></div></div></body></html>